var TW=Object.defineProperty;var SW=(t,e,n)=>e in t?TW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var AW=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var pe=(t,e,n)=>SW(t,typeof e!="symbol"?e+"":e,n);var Ebe=AW((hs,fs)=>{function IW(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Hl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function By(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ej={exports:{}},o1={},bj={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy=Symbol.for("react.element"),CW=Symbol.for("react.portal"),RW=Symbol.for("react.fragment"),PW=Symbol.for("react.strict_mode"),NW=Symbol.for("react.profiler"),kW=Symbol.for("react.provider"),OW=Symbol.for("react.context"),DW=Symbol.for("react.forward_ref"),LW=Symbol.for("react.suspense"),MW=Symbol.for("react.memo"),VW=Symbol.for("react.lazy"),WN=Symbol.iterator;function jW(t){return t===null||typeof t!="object"?null:(t=WN&&t[WN]||t["@@iterator"],typeof t=="function"?t:null)}var Tj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sj=Object.assign,Aj={};function pp(t,e,n){this.props=t,this.context=e,this.refs=Aj,this.updater=n||Tj}pp.prototype.isReactComponent={};pp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};pp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ij(){}Ij.prototype=pp.prototype;function JA(t,e,n){this.props=t,this.context=e,this.refs=Aj,this.updater=n||Tj}var ZA=JA.prototype=new Ij;ZA.constructor=JA;Sj(ZA,pp.prototype);ZA.isPureReactComponent=!0;var HN=Array.isArray,Cj=Object.prototype.hasOwnProperty,eI={current:null},Rj={key:!0,ref:!0,__self:!0,__source:!0};function Pj(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Cj.call(e,r)&&!Rj.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Uy,type:t,key:s,ref:o,props:i,_owner:eI.current}}function FW(t,e){return{$$typeof:Uy,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function tI(t){return typeof t=="object"&&t!==null&&t.$$typeof===Uy}function BW(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var GN=/\/+/g;function zx(t,e){return typeof t=="object"&&t!==null&&t.key!=null?BW(""+t.key):e.toString(36)}function V0(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Uy:case CW:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+zx(o,0):r,HN(i)?(n="",t!=null&&(n=t.replace(GN,"$&/")+"/"),V0(i,e,n,"",function(c){return c})):i!=null&&(tI(i)&&(i=FW(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(GN,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",HN(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+zx(s,a);o+=V0(s,e,n,l,i)}else if(l=jW(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+zx(s,a++),o+=V0(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function kv(t,e,n){if(t==null)return t;var r=[],i=0;return V0(t,r,"","",function(s){return e.call(n,s,i++)}),r}function UW(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ii={current:null},j0={transition:null},$W={ReactCurrentDispatcher:Ii,ReactCurrentBatchConfig:j0,ReactCurrentOwner:eI};function Nj(){throw Error("act(...) is not supported in production builds of React.")}et.Children={map:kv,forEach:function(t,e,n){kv(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return kv(t,function(){e++}),e},toArray:function(t){return kv(t,function(e){return e})||[]},only:function(t){if(!tI(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};et.Component=pp;et.Fragment=RW;et.Profiler=NW;et.PureComponent=JA;et.StrictMode=PW;et.Suspense=LW;et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$W;et.act=Nj;et.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Sj({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=eI.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Cj.call(e,l)&&!Rj.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Uy,type:t.type,key:i,ref:s,props:r,_owner:o}};et.createContext=function(t){return t={$$typeof:OW,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kW,_context:t},t.Consumer=t};et.createElement=Pj;et.createFactory=function(t){var e=Pj.bind(null,t);return e.type=t,e};et.createRef=function(){return{current:null}};et.forwardRef=function(t){return{$$typeof:DW,render:t}};et.isValidElement=tI;et.lazy=function(t){return{$$typeof:VW,_payload:{_status:-1,_result:t},_init:UW}};et.memo=function(t,e){return{$$typeof:MW,type:t,compare:e===void 0?null:e}};et.startTransition=function(t){var e=j0.transition;j0.transition={};try{t()}finally{j0.transition=e}};et.unstable_act=Nj;et.useCallback=function(t,e){return Ii.current.useCallback(t,e)};et.useContext=function(t){return Ii.current.useContext(t)};et.useDebugValue=function(){};et.useDeferredValue=function(t){return Ii.current.useDeferredValue(t)};et.useEffect=function(t,e){return Ii.current.useEffect(t,e)};et.useId=function(){return Ii.current.useId()};et.useImperativeHandle=function(t,e,n){return Ii.current.useImperativeHandle(t,e,n)};et.useInsertionEffect=function(t,e){return Ii.current.useInsertionEffect(t,e)};et.useLayoutEffect=function(t,e){return Ii.current.useLayoutEffect(t,e)};et.useMemo=function(t,e){return Ii.current.useMemo(t,e)};et.useReducer=function(t,e,n){return Ii.current.useReducer(t,e,n)};et.useRef=function(t){return Ii.current.useRef(t)};et.useState=function(t){return Ii.current.useState(t)};et.useSyncExternalStore=function(t,e,n){return Ii.current.useSyncExternalStore(t,e,n)};et.useTransition=function(){return Ii.current.useTransition()};et.version="18.3.1";bj.exports=et;var x=bj.exports;const ir=By(x),kj=IW({__proto__:null,default:ir},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qW=x,zW=Symbol.for("react.element"),WW=Symbol.for("react.fragment"),HW=Object.prototype.hasOwnProperty,GW=qW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KW={key:!0,ref:!0,__self:!0,__source:!0};function Oj(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)HW.call(e,r)&&!KW.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zW,type:t,key:s,ref:o,props:i,_owner:GW.current}}o1.Fragment=WW;o1.jsx=Oj;o1.jsxs=Oj;Ej.exports=o1;var _=Ej.exports,Dj={exports:{}},xs={},Lj={exports:{}},Mj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,W){var j=B.length;B.push(W);e:for(;0<j;){var ne=j-1>>>1,ue=B[ne];if(0<i(ue,W))B[ne]=W,B[j]=ue,j=ne;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var W=B[0],j=B.pop();if(j!==W){B[0]=j;e:for(var ne=0,ue=B.length,he=ue>>>1;ne<he;){var Ee=2*(ne+1)-1,me=B[Ee],Be=Ee+1,re=B[Be];if(0>i(me,j))Be<ue&&0>i(re,me)?(B[ne]=re,B[Be]=j,ne=Be):(B[ne]=me,B[Ee]=j,ne=Ee);else if(Be<ue&&0>i(re,j))B[ne]=re,B[Be]=j,ne=Be;else break e}}return W}function i(B,W){var j=B.sortIndex-W.sortIndex;return j!==0?j:B.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(B){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=B)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(c)}}function S(B){if(m=!1,E(B),!g)if(n(l)!==null)g=!0,Q(C);else{var W=n(c);W!==null&&H(S,W.startTime-B)}}function C(B,W){g=!1,m&&(m=!1,y(A),A=-1),f=!0;var j=h;try{for(E(W),d=n(l);d!==null&&(!(d.expirationTime>W)||B&&!M());){var ne=d.callback;if(typeof ne=="function"){d.callback=null,h=d.priorityLevel;var ue=ne(d.expirationTime<=W);W=t.unstable_now(),typeof ue=="function"?d.callback=ue:d===n(l)&&r(l),E(W)}else r(l);d=n(l)}if(d!==null)var he=!0;else{var Ee=n(c);Ee!==null&&H(S,Ee.startTime-W),he=!1}return he}finally{d=null,h=j,f=!1}}var N=!1,T=null,A=-1,P=5,k=-1;function M(){return!(t.unstable_now()-k<P)}function O(){if(T!==null){var B=t.unstable_now();k=B;var W=!0;try{W=T(!0,B)}finally{W?D():(N=!1,T=null)}}else N=!1}var D;if(typeof w=="function")D=function(){w(O)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,J=U.port2;U.port1.onmessage=O,D=function(){J.postMessage(null)}}else D=function(){v(O,0)};function Q(B){T=B,N||(N=!0,D())}function H(B,W){A=v(function(){B(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,Q(C))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var j=h;h=W;try{return B()}finally{h=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,W){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var j=h;h=B;try{return W()}finally{h=j}},t.unstable_scheduleCallback=function(B,W,j){var ne=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?ne+j:ne):j=ne,B){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=j+ue,B={id:u++,callback:W,priorityLevel:B,startTime:j,expirationTime:ue,sortIndex:-1},j>ne?(B.sortIndex=j,e(c,B),n(l)===null&&B===n(c)&&(m?(y(A),A=-1):m=!0,H(S,j-ne))):(B.sortIndex=ue,e(l,B),g||f||(g=!0,Q(C))),B},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(B){var W=h;return function(){var j=h;h=W;try{return B.apply(this,arguments)}finally{h=j}}}})(Mj);Lj.exports=Mj;var YW=Lj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QW=x,ys=YW;function ie(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vj=new Set,Ag={};function Ld(t,e){Rf(t,e),Rf(t+"Capture",e)}function Rf(t,e){for(Ag[t]=e,t=0;t<e.length;t++)Vj.add(e[t])}var za=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vb=Object.prototype.hasOwnProperty,XW=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,KN={},YN={};function JW(t){return Vb.call(YN,t)?!0:Vb.call(KN,t)?!1:XW.test(t)?YN[t]=!0:(KN[t]=!0,!1)}function ZW(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function eH(t,e,n,r){if(e===null||typeof e>"u"||ZW(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ci(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Or={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Or[t]=new Ci(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Or[e]=new Ci(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Or[t]=new Ci(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Or[t]=new Ci(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Or[t]=new Ci(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Or[t]=new Ci(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Or[t]=new Ci(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Or[t]=new Ci(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Or[t]=new Ci(t,5,!1,t.toLowerCase(),null,!1,!1)});var nI=/[\-:]([a-z])/g;function rI(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(nI,rI);Or[e]=new Ci(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(nI,rI);Or[e]=new Ci(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(nI,rI);Or[e]=new Ci(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Or[t]=new Ci(t,1,!1,t.toLowerCase(),null,!1,!1)});Or.xlinkHref=new Ci("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Or[t]=new Ci(t,1,!1,t.toLowerCase(),null,!0,!0)});function iI(t,e,n,r){var i=Or.hasOwnProperty(e)?Or[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(eH(e,n,i,r)&&(n=null),r||i===null?JW(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ll=QW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ov=Symbol.for("react.element"),Lh=Symbol.for("react.portal"),Mh=Symbol.for("react.fragment"),sI=Symbol.for("react.strict_mode"),jb=Symbol.for("react.profiler"),jj=Symbol.for("react.provider"),Fj=Symbol.for("react.context"),oI=Symbol.for("react.forward_ref"),Fb=Symbol.for("react.suspense"),Bb=Symbol.for("react.suspense_list"),aI=Symbol.for("react.memo"),Ml=Symbol.for("react.lazy"),Bj=Symbol.for("react.offscreen"),QN=Symbol.iterator;function qp(t){return t===null||typeof t!="object"?null:(t=QN&&t[QN]||t["@@iterator"],typeof t=="function"?t:null)}var _n=Object.assign,Wx;function hm(t){if(Wx===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Wx=e&&e[1]||""}return`
`+Wx+t}var Hx=!1;function Gx(t,e){if(!t||Hx)return"";Hx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Hx=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?hm(t):""}function tH(t){switch(t.tag){case 5:return hm(t.type);case 16:return hm("Lazy");case 13:return hm("Suspense");case 19:return hm("SuspenseList");case 0:case 2:case 15:return t=Gx(t.type,!1),t;case 11:return t=Gx(t.type.render,!1),t;case 1:return t=Gx(t.type,!0),t;default:return""}}function Ub(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mh:return"Fragment";case Lh:return"Portal";case jb:return"Profiler";case sI:return"StrictMode";case Fb:return"Suspense";case Bb:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Fj:return(t.displayName||"Context")+".Consumer";case jj:return(t._context.displayName||"Context")+".Provider";case oI:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case aI:return e=t.displayName||null,e!==null?e:Ub(t.type)||"Memo";case Ml:e=t._payload,t=t._init;try{return Ub(t(e))}catch{}}return null}function nH(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ub(e);case 8:return e===sI?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Uj(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rH(t){var e=Uj(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Dv(t){t._valueTracker||(t._valueTracker=rH(t))}function $j(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Uj(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function N_(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $b(t,e){var n=e.checked;return _n({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function XN(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=xc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qj(t,e){e=e.checked,e!=null&&iI(t,"checked",e,!1)}function qb(t,e){qj(t,e);var n=xc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zb(t,e.type,n):e.hasOwnProperty("defaultValue")&&zb(t,e.type,xc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function JN(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function zb(t,e,n){(e!=="number"||N_(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var fm=Array.isArray;function tf(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xc(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Wb(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ie(91));return _n({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ZN(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ie(92));if(fm(n)){if(1<n.length)throw Error(ie(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xc(n)}}function zj(t,e){var n=xc(e.value),r=xc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ek(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Wj(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hb(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Wj(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Lv,Hj=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Lv=Lv||document.createElement("div"),Lv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Lv.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ig(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Lm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iH=["Webkit","ms","Moz","O"];Object.keys(Lm).forEach(function(t){iH.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Lm[e]=Lm[t]})});function Gj(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Lm.hasOwnProperty(t)&&Lm[t]?(""+e).trim():e+"px"}function Kj(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Gj(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var sH=_n({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gb(t,e){if(e){if(sH[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ie(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ie(62))}}function Kb(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yb=null;function lI(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qb=null,nf=null,rf=null;function tk(t){if(t=zy(t)){if(typeof Qb!="function")throw Error(ie(280));var e=t.stateNode;e&&(e=d1(e),Qb(t.stateNode,t.type,e))}}function Yj(t){nf?rf?rf.push(t):rf=[t]:nf=t}function Qj(){if(nf){var t=nf,e=rf;if(rf=nf=null,tk(t),e)for(t=0;t<e.length;t++)tk(e[t])}}function Xj(t,e){return t(e)}function Jj(){}var Kx=!1;function Zj(t,e,n){if(Kx)return t(e,n);Kx=!0;try{return Xj(t,e,n)}finally{Kx=!1,(nf!==null||rf!==null)&&(Jj(),Qj())}}function Cg(t,e){var n=t.stateNode;if(n===null)return null;var r=d1(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ie(231,e,typeof n));return n}var Xb=!1;if(za)try{var zp={};Object.defineProperty(zp,"passive",{get:function(){Xb=!0}}),window.addEventListener("test",zp,zp),window.removeEventListener("test",zp,zp)}catch{Xb=!1}function oH(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Mm=!1,k_=null,O_=!1,Jb=null,aH={onError:function(t){Mm=!0,k_=t}};function lH(t,e,n,r,i,s,o,a,l){Mm=!1,k_=null,oH.apply(aH,arguments)}function cH(t,e,n,r,i,s,o,a,l){if(lH.apply(this,arguments),Mm){if(Mm){var c=k_;Mm=!1,k_=null}else throw Error(ie(198));O_||(O_=!0,Jb=c)}}function Md(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function eF(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nk(t){if(Md(t)!==t)throw Error(ie(188))}function uH(t){var e=t.alternate;if(!e){if(e=Md(t),e===null)throw Error(ie(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return nk(i),t;if(s===r)return nk(i),e;s=s.sibling}throw Error(ie(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ie(189))}}if(n.alternate!==r)throw Error(ie(190))}if(n.tag!==3)throw Error(ie(188));return n.stateNode.current===n?t:e}function tF(t){return t=uH(t),t!==null?nF(t):null}function nF(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=nF(t);if(e!==null)return e;t=t.sibling}return null}var rF=ys.unstable_scheduleCallback,rk=ys.unstable_cancelCallback,dH=ys.unstable_shouldYield,hH=ys.unstable_requestPaint,On=ys.unstable_now,fH=ys.unstable_getCurrentPriorityLevel,cI=ys.unstable_ImmediatePriority,iF=ys.unstable_UserBlockingPriority,D_=ys.unstable_NormalPriority,pH=ys.unstable_LowPriority,sF=ys.unstable_IdlePriority,a1=null,Ho=null;function mH(t){if(Ho&&typeof Ho.onCommitFiberRoot=="function")try{Ho.onCommitFiberRoot(a1,t,void 0,(t.current.flags&128)===128)}catch{}}var go=Math.clz32?Math.clz32:vH,gH=Math.log,yH=Math.LN2;function vH(t){return t>>>=0,t===0?32:31-(gH(t)/yH|0)|0}var Mv=64,Vv=4194304;function pm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function L_(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=pm(a):(s&=o,s!==0&&(r=pm(s)))}else o=n&~i,o!==0?r=pm(o):s!==0&&(r=pm(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-go(e),i=1<<n,r|=t[n],e&=~i;return r}function _H(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wH(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-go(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=_H(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Zb(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function oF(){var t=Mv;return Mv<<=1,!(Mv&4194240)&&(Mv=64),t}function Yx(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $y(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-go(e),t[e]=n}function xH(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-go(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function uI(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-go(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ct=0;function aF(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var lF,dI,cF,uF,dF,eT=!1,jv=[],ic=null,sc=null,oc=null,Rg=new Map,Pg=new Map,Fl=[],EH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ik(t,e){switch(t){case"focusin":case"focusout":ic=null;break;case"dragenter":case"dragleave":sc=null;break;case"mouseover":case"mouseout":oc=null;break;case"pointerover":case"pointerout":Rg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pg.delete(e.pointerId)}}function Wp(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=zy(e),e!==null&&dI(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function bH(t,e,n,r,i){switch(e){case"focusin":return ic=Wp(ic,t,e,n,r,i),!0;case"dragenter":return sc=Wp(sc,t,e,n,r,i),!0;case"mouseover":return oc=Wp(oc,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Rg.set(s,Wp(Rg.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pg.set(s,Wp(Pg.get(s)||null,t,e,n,r,i)),!0}return!1}function hF(t){var e=ju(t.target);if(e!==null){var n=Md(e);if(n!==null){if(e=n.tag,e===13){if(e=eF(n),e!==null){t.blockedOn=e,dF(t.priority,function(){cF(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function F0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=tT(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Yb=r,n.target.dispatchEvent(r),Yb=null}else return e=zy(n),e!==null&&dI(e),t.blockedOn=n,!1;e.shift()}return!0}function sk(t,e,n){F0(t)&&n.delete(e)}function TH(){eT=!1,ic!==null&&F0(ic)&&(ic=null),sc!==null&&F0(sc)&&(sc=null),oc!==null&&F0(oc)&&(oc=null),Rg.forEach(sk),Pg.forEach(sk)}function Hp(t,e){t.blockedOn===e&&(t.blockedOn=null,eT||(eT=!0,ys.unstable_scheduleCallback(ys.unstable_NormalPriority,TH)))}function Ng(t){function e(i){return Hp(i,t)}if(0<jv.length){Hp(jv[0],t);for(var n=1;n<jv.length;n++){var r=jv[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ic!==null&&Hp(ic,t),sc!==null&&Hp(sc,t),oc!==null&&Hp(oc,t),Rg.forEach(e),Pg.forEach(e),n=0;n<Fl.length;n++)r=Fl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fl.length&&(n=Fl[0],n.blockedOn===null);)hF(n),n.blockedOn===null&&Fl.shift()}var sf=ll.ReactCurrentBatchConfig,M_=!0;function SH(t,e,n,r){var i=Ct,s=sf.transition;sf.transition=null;try{Ct=1,hI(t,e,n,r)}finally{Ct=i,sf.transition=s}}function AH(t,e,n,r){var i=Ct,s=sf.transition;sf.transition=null;try{Ct=4,hI(t,e,n,r)}finally{Ct=i,sf.transition=s}}function hI(t,e,n,r){if(M_){var i=tT(t,e,n,r);if(i===null)sE(t,e,r,V_,n),ik(t,r);else if(bH(i,t,e,n,r))r.stopPropagation();else if(ik(t,r),e&4&&-1<EH.indexOf(t)){for(;i!==null;){var s=zy(i);if(s!==null&&lF(s),s=tT(t,e,n,r),s===null&&sE(t,e,r,V_,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else sE(t,e,r,null,n)}}var V_=null;function tT(t,e,n,r){if(V_=null,t=lI(r),t=ju(t),t!==null)if(e=Md(t),e===null)t=null;else if(n=e.tag,n===13){if(t=eF(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return V_=t,null}function fF(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fH()){case cI:return 1;case iF:return 4;case D_:case pH:return 16;case sF:return 536870912;default:return 16}default:return 16}}var Gl=null,fI=null,B0=null;function pF(){if(B0)return B0;var t,e=fI,n=e.length,r,i="value"in Gl?Gl.value:Gl.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return B0=i.slice(t,1<r?1-r:void 0)}function U0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fv(){return!0}function ok(){return!1}function Es(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Fv:ok,this.isPropagationStopped=ok,this}return _n(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fv)},persist:function(){},isPersistent:Fv}),e}var mp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pI=Es(mp),qy=_n({},mp,{view:0,detail:0}),IH=Es(qy),Qx,Xx,Gp,l1=_n({},qy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mI,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gp&&(Gp&&t.type==="mousemove"?(Qx=t.screenX-Gp.screenX,Xx=t.screenY-Gp.screenY):Xx=Qx=0,Gp=t),Qx)},movementY:function(t){return"movementY"in t?t.movementY:Xx}}),ak=Es(l1),CH=_n({},l1,{dataTransfer:0}),RH=Es(CH),PH=_n({},qy,{relatedTarget:0}),Jx=Es(PH),NH=_n({},mp,{animationName:0,elapsedTime:0,pseudoElement:0}),kH=Es(NH),OH=_n({},mp,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),DH=Es(OH),LH=_n({},mp,{data:0}),lk=Es(LH),MH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FH(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jH[t])?!!e[t]:!1}function mI(){return FH}var BH=_n({},qy,{key:function(t){if(t.key){var e=MH[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=U0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?VH[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mI,charCode:function(t){return t.type==="keypress"?U0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?U0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),UH=Es(BH),$H=_n({},l1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ck=Es($H),qH=_n({},qy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mI}),zH=Es(qH),WH=_n({},mp,{propertyName:0,elapsedTime:0,pseudoElement:0}),HH=Es(WH),GH=_n({},l1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),KH=Es(GH),YH=[9,13,27,32],gI=za&&"CompositionEvent"in window,Vm=null;za&&"documentMode"in document&&(Vm=document.documentMode);var QH=za&&"TextEvent"in window&&!Vm,mF=za&&(!gI||Vm&&8<Vm&&11>=Vm),uk=" ",dk=!1;function gF(t,e){switch(t){case"keyup":return YH.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yF(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vh=!1;function XH(t,e){switch(t){case"compositionend":return yF(e);case"keypress":return e.which!==32?null:(dk=!0,uk);case"textInput":return t=e.data,t===uk&&dk?null:t;default:return null}}function JH(t,e){if(Vh)return t==="compositionend"||!gI&&gF(t,e)?(t=pF(),B0=fI=Gl=null,Vh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mF&&e.locale!=="ko"?null:e.data;default:return null}}var ZH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ZH[t.type]:e==="textarea"}function vF(t,e,n,r){Yj(r),e=j_(e,"onChange"),0<e.length&&(n=new pI("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var jm=null,kg=null;function eG(t){RF(t,0)}function c1(t){var e=Bh(t);if($j(e))return t}function tG(t,e){if(t==="change")return e}var _F=!1;if(za){var Zx;if(za){var eE="oninput"in document;if(!eE){var fk=document.createElement("div");fk.setAttribute("oninput","return;"),eE=typeof fk.oninput=="function"}Zx=eE}else Zx=!1;_F=Zx&&(!document.documentMode||9<document.documentMode)}function pk(){jm&&(jm.detachEvent("onpropertychange",wF),kg=jm=null)}function wF(t){if(t.propertyName==="value"&&c1(kg)){var e=[];vF(e,kg,t,lI(t)),Zj(eG,e)}}function nG(t,e,n){t==="focusin"?(pk(),jm=e,kg=n,jm.attachEvent("onpropertychange",wF)):t==="focusout"&&pk()}function rG(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return c1(kg)}function iG(t,e){if(t==="click")return c1(e)}function sG(t,e){if(t==="input"||t==="change")return c1(e)}function oG(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bo=typeof Object.is=="function"?Object.is:oG;function Og(t,e){if(bo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Vb.call(e,i)||!bo(t[i],e[i]))return!1}return!0}function mk(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gk(t,e){var n=mk(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mk(n)}}function xF(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xF(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function EF(){for(var t=window,e=N_();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=N_(t.document)}return e}function yI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function aG(t){var e=EF(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xF(n.ownerDocument.documentElement,n)){if(r!==null&&yI(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=gk(n,s);var o=gk(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var lG=za&&"documentMode"in document&&11>=document.documentMode,jh=null,nT=null,Fm=null,rT=!1;function yk(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rT||jh==null||jh!==N_(r)||(r=jh,"selectionStart"in r&&yI(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fm&&Og(Fm,r)||(Fm=r,r=j_(nT,"onSelect"),0<r.length&&(e=new pI("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=jh)))}function Bv(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fh={animationend:Bv("Animation","AnimationEnd"),animationiteration:Bv("Animation","AnimationIteration"),animationstart:Bv("Animation","AnimationStart"),transitionend:Bv("Transition","TransitionEnd")},tE={},bF={};za&&(bF=document.createElement("div").style,"AnimationEvent"in window||(delete Fh.animationend.animation,delete Fh.animationiteration.animation,delete Fh.animationstart.animation),"TransitionEvent"in window||delete Fh.transitionend.transition);function u1(t){if(tE[t])return tE[t];if(!Fh[t])return t;var e=Fh[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bF)return tE[t]=e[n];return t}var TF=u1("animationend"),SF=u1("animationiteration"),AF=u1("animationstart"),IF=u1("transitionend"),CF=new Map,vk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $c(t,e){CF.set(t,e),Ld(e,[t])}for(var nE=0;nE<vk.length;nE++){var rE=vk[nE],cG=rE.toLowerCase(),uG=rE[0].toUpperCase()+rE.slice(1);$c(cG,"on"+uG)}$c(TF,"onAnimationEnd");$c(SF,"onAnimationIteration");$c(AF,"onAnimationStart");$c("dblclick","onDoubleClick");$c("focusin","onFocus");$c("focusout","onBlur");$c(IF,"onTransitionEnd");Rf("onMouseEnter",["mouseout","mouseover"]);Rf("onMouseLeave",["mouseout","mouseover"]);Rf("onPointerEnter",["pointerout","pointerover"]);Rf("onPointerLeave",["pointerout","pointerover"]);Ld("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ld("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ld("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ld("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ld("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ld("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dG=new Set("cancel close invalid load scroll toggle".split(" ").concat(mm));function _k(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,cH(r,e,void 0,t),t.currentTarget=null}function RF(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;_k(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;_k(i,a,c),s=l}}}if(O_)throw t=Jb,O_=!1,Jb=null,t}function en(t,e){var n=e[lT];n===void 0&&(n=e[lT]=new Set);var r=t+"__bubble";n.has(r)||(PF(e,t,2,!1),n.add(r))}function iE(t,e,n){var r=0;e&&(r|=4),PF(n,t,r,e)}var Uv="_reactListening"+Math.random().toString(36).slice(2);function Dg(t){if(!t[Uv]){t[Uv]=!0,Vj.forEach(function(n){n!=="selectionchange"&&(dG.has(n)||iE(n,!1,t),iE(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Uv]||(e[Uv]=!0,iE("selectionchange",!1,e))}}function PF(t,e,n,r){switch(fF(e)){case 1:var i=SH;break;case 4:i=AH;break;default:i=hI}n=i.bind(null,e,n,t),i=void 0,!Xb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function sE(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ju(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Zj(function(){var c=s,u=lI(n),d=[];e:{var h=CF.get(t);if(h!==void 0){var f=pI,g=t;switch(t){case"keypress":if(U0(n)===0)break e;case"keydown":case"keyup":f=UH;break;case"focusin":g="focus",f=Jx;break;case"focusout":g="blur",f=Jx;break;case"beforeblur":case"afterblur":f=Jx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=ak;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=RH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=zH;break;case TF:case SF:case AF:f=kH;break;case IF:f=HH;break;case"scroll":f=IH;break;case"wheel":f=KH;break;case"copy":case"cut":case"paste":f=DH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=ck}var m=(e&4)!==0,v=!m&&t==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var w=c,E;w!==null;){E=w;var S=E.stateNode;if(E.tag===5&&S!==null&&(E=S,y!==null&&(S=Cg(w,y),S!=null&&m.push(Lg(w,S,E)))),v)break;w=w.return}0<m.length&&(h=new f(h,g,null,n,u),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==Yb&&(g=n.relatedTarget||n.fromElement)&&(ju(g)||g[Wa]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(g=n.relatedTarget||n.toElement,f=c,g=g?ju(g):null,g!==null&&(v=Md(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=c),f!==g)){if(m=ak,S="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(m=ck,S="onPointerLeave",y="onPointerEnter",w="pointer"),v=f==null?h:Bh(f),E=g==null?h:Bh(g),h=new m(S,w+"leave",f,n,u),h.target=v,h.relatedTarget=E,S=null,ju(u)===c&&(m=new m(y,w+"enter",g,n,u),m.target=E,m.relatedTarget=v,S=m),v=S,f&&g)t:{for(m=f,y=g,w=0,E=m;E;E=oh(E))w++;for(E=0,S=y;S;S=oh(S))E++;for(;0<w-E;)m=oh(m),w--;for(;0<E-w;)y=oh(y),E--;for(;w--;){if(m===y||y!==null&&m===y.alternate)break t;m=oh(m),y=oh(y)}m=null}else m=null;f!==null&&wk(d,h,f,m,!1),g!==null&&v!==null&&wk(d,v,g,m,!0)}}e:{if(h=c?Bh(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var C=tG;else if(hk(h))if(_F)C=sG;else{C=rG;var N=nG}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=iG);if(C&&(C=C(t,c))){vF(d,C,n,u);break e}N&&N(t,h,c),t==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&zb(h,"number",h.value)}switch(N=c?Bh(c):window,t){case"focusin":(hk(N)||N.contentEditable==="true")&&(jh=N,nT=c,Fm=null);break;case"focusout":Fm=nT=jh=null;break;case"mousedown":rT=!0;break;case"contextmenu":case"mouseup":case"dragend":rT=!1,yk(d,n,u);break;case"selectionchange":if(lG)break;case"keydown":case"keyup":yk(d,n,u)}var T;if(gI)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Vh?gF(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(mF&&n.locale!=="ko"&&(Vh||A!=="onCompositionStart"?A==="onCompositionEnd"&&Vh&&(T=pF()):(Gl=u,fI="value"in Gl?Gl.value:Gl.textContent,Vh=!0)),N=j_(c,A),0<N.length&&(A=new lk(A,t,null,n,u),d.push({event:A,listeners:N}),T?A.data=T:(T=yF(n),T!==null&&(A.data=T)))),(T=QH?XH(t,n):JH(t,n))&&(c=j_(c,"onBeforeInput"),0<c.length&&(u=new lk("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=T))}RF(d,e)})}function Lg(t,e,n){return{instance:t,listener:e,currentTarget:n}}function j_(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Cg(t,n),s!=null&&r.unshift(Lg(t,s,i)),s=Cg(t,e),s!=null&&r.push(Lg(t,s,i))),t=t.return}return r}function oh(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wk(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Cg(n,s),l!=null&&o.unshift(Lg(n,l,a))):i||(l=Cg(n,s),l!=null&&o.push(Lg(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var hG=/\r\n?/g,fG=/\u0000|\uFFFD/g;function xk(t){return(typeof t=="string"?t:""+t).replace(hG,`
`).replace(fG,"")}function $v(t,e,n){if(e=xk(e),xk(t)!==e&&n)throw Error(ie(425))}function F_(){}var iT=null,sT=null;function oT(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var aT=typeof setTimeout=="function"?setTimeout:void 0,pG=typeof clearTimeout=="function"?clearTimeout:void 0,Ek=typeof Promise=="function"?Promise:void 0,mG=typeof queueMicrotask=="function"?queueMicrotask:typeof Ek<"u"?function(t){return Ek.resolve(null).then(t).catch(gG)}:aT;function gG(t){setTimeout(function(){throw t})}function oE(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ng(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ng(e)}function ac(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bk(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var gp=Math.random().toString(36).slice(2),Bo="__reactFiber$"+gp,Mg="__reactProps$"+gp,Wa="__reactContainer$"+gp,lT="__reactEvents$"+gp,yG="__reactListeners$"+gp,vG="__reactHandles$"+gp;function ju(t){var e=t[Bo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wa]||n[Bo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=bk(t);t!==null;){if(n=t[Bo])return n;t=bk(t)}return e}t=n,n=t.parentNode}return null}function zy(t){return t=t[Bo]||t[Wa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ie(33))}function d1(t){return t[Mg]||null}var cT=[],Uh=-1;function qc(t){return{current:t}}function rn(t){0>Uh||(t.current=cT[Uh],cT[Uh]=null,Uh--)}function qt(t,e){Uh++,cT[Uh]=t.current,t.current=e}var Ec={},ri=qc(Ec),Bi=qc(!1),sd=Ec;function Pf(t,e){var n=t.type.contextTypes;if(!n)return Ec;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ui(t){return t=t.childContextTypes,t!=null}function B_(){rn(Bi),rn(ri)}function Tk(t,e,n){if(ri.current!==Ec)throw Error(ie(168));qt(ri,e),qt(Bi,n)}function NF(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ie(108,nH(t)||"Unknown",i));return _n({},n,r)}function U_(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ec,sd=ri.current,qt(ri,t),qt(Bi,Bi.current),!0}function Sk(t,e,n){var r=t.stateNode;if(!r)throw Error(ie(169));n?(t=NF(t,e,sd),r.__reactInternalMemoizedMergedChildContext=t,rn(Bi),rn(ri),qt(ri,t)):rn(Bi),qt(Bi,n)}var Ia=null,h1=!1,aE=!1;function kF(t){Ia===null?Ia=[t]:Ia.push(t)}function _G(t){h1=!0,kF(t)}function zc(){if(!aE&&Ia!==null){aE=!0;var t=0,e=Ct;try{var n=Ia;for(Ct=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ia=null,h1=!1}catch(i){throw Ia!==null&&(Ia=Ia.slice(t+1)),rF(cI,zc),i}finally{Ct=e,aE=!1}}return null}var $h=[],qh=0,$_=null,q_=0,Ns=[],ks=0,od=null,Na=1,ka="";function Tu(t,e){$h[qh++]=q_,$h[qh++]=$_,$_=t,q_=e}function OF(t,e,n){Ns[ks++]=Na,Ns[ks++]=ka,Ns[ks++]=od,od=t;var r=Na;t=ka;var i=32-go(r)-1;r&=~(1<<i),n+=1;var s=32-go(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Na=1<<32-go(e)+i|n<<i|r,ka=s+t}else Na=1<<s|n<<i|r,ka=t}function vI(t){t.return!==null&&(Tu(t,1),OF(t,1,0))}function _I(t){for(;t===$_;)$_=$h[--qh],$h[qh]=null,q_=$h[--qh],$h[qh]=null;for(;t===od;)od=Ns[--ks],Ns[ks]=null,ka=Ns[--ks],Ns[ks]=null,Na=Ns[--ks],Ns[ks]=null}var ps=null,cs=null,an=!1,ho=null;function DF(t,e){var n=js(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ak(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ps=t,cs=ac(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ps=t,cs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=od!==null?{id:Na,overflow:ka}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=js(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ps=t,cs=null,!0):!1;default:return!1}}function uT(t){return(t.mode&1)!==0&&(t.flags&128)===0}function dT(t){if(an){var e=cs;if(e){var n=e;if(!Ak(t,e)){if(uT(t))throw Error(ie(418));e=ac(n.nextSibling);var r=ps;e&&Ak(t,e)?DF(r,n):(t.flags=t.flags&-4097|2,an=!1,ps=t)}}else{if(uT(t))throw Error(ie(418));t.flags=t.flags&-4097|2,an=!1,ps=t}}}function Ik(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ps=t}function qv(t){if(t!==ps)return!1;if(!an)return Ik(t),an=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!oT(t.type,t.memoizedProps)),e&&(e=cs)){if(uT(t))throw LF(),Error(ie(418));for(;e;)DF(t,e),e=ac(e.nextSibling)}if(Ik(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ie(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){cs=ac(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}cs=null}}else cs=ps?ac(t.stateNode.nextSibling):null;return!0}function LF(){for(var t=cs;t;)t=ac(t.nextSibling)}function Nf(){cs=ps=null,an=!1}function wI(t){ho===null?ho=[t]:ho.push(t)}var wG=ll.ReactCurrentBatchConfig;function Kp(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ie(309));var r=n.stateNode}if(!r)throw Error(ie(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ie(284));if(!n._owner)throw Error(ie(290,t))}return t}function zv(t,e){throw t=Object.prototype.toString.call(e),Error(ie(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ck(t){var e=t._init;return e(t._payload)}function MF(t){function e(y,w){if(t){var E=y.deletions;E===null?(y.deletions=[w],y.flags|=16):E.push(w)}}function n(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=dc(y,w),y.index=0,y.sibling=null,y}function s(y,w,E){return y.index=E,t?(E=y.alternate,E!==null?(E=E.index,E<w?(y.flags|=2,w):E):(y.flags|=2,w)):(y.flags|=1048576,w)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,w,E,S){return w===null||w.tag!==6?(w=pE(E,y.mode,S),w.return=y,w):(w=i(w,E),w.return=y,w)}function l(y,w,E,S){var C=E.type;return C===Mh?u(y,w,E.props.children,S,E.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ml&&Ck(C)===w.type)?(S=i(w,E.props),S.ref=Kp(y,w,E),S.return=y,S):(S=K0(E.type,E.key,E.props,null,y.mode,S),S.ref=Kp(y,w,E),S.return=y,S)}function c(y,w,E,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=mE(E,y.mode,S),w.return=y,w):(w=i(w,E.children||[]),w.return=y,w)}function u(y,w,E,S,C){return w===null||w.tag!==7?(w=Ku(E,y.mode,S,C),w.return=y,w):(w=i(w,E),w.return=y,w)}function d(y,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=pE(""+w,y.mode,E),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ov:return E=K0(w.type,w.key,w.props,null,y.mode,E),E.ref=Kp(y,null,w),E.return=y,E;case Lh:return w=mE(w,y.mode,E),w.return=y,w;case Ml:var S=w._init;return d(y,S(w._payload),E)}if(fm(w)||qp(w))return w=Ku(w,y.mode,E,null),w.return=y,w;zv(y,w)}return null}function h(y,w,E,S){var C=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return C!==null?null:a(y,w,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ov:return E.key===C?l(y,w,E,S):null;case Lh:return E.key===C?c(y,w,E,S):null;case Ml:return C=E._init,h(y,w,C(E._payload),S)}if(fm(E)||qp(E))return C!==null?null:u(y,w,E,S,null);zv(y,E)}return null}function f(y,w,E,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(E)||null,a(w,y,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ov:return y=y.get(S.key===null?E:S.key)||null,l(w,y,S,C);case Lh:return y=y.get(S.key===null?E:S.key)||null,c(w,y,S,C);case Ml:var N=S._init;return f(y,w,E,N(S._payload),C)}if(fm(S)||qp(S))return y=y.get(E)||null,u(w,y,S,C,null);zv(w,S)}return null}function g(y,w,E,S){for(var C=null,N=null,T=w,A=w=0,P=null;T!==null&&A<E.length;A++){T.index>A?(P=T,T=null):P=T.sibling;var k=h(y,T,E[A],S);if(k===null){T===null&&(T=P);break}t&&T&&k.alternate===null&&e(y,T),w=s(k,w,A),N===null?C=k:N.sibling=k,N=k,T=P}if(A===E.length)return n(y,T),an&&Tu(y,A),C;if(T===null){for(;A<E.length;A++)T=d(y,E[A],S),T!==null&&(w=s(T,w,A),N===null?C=T:N.sibling=T,N=T);return an&&Tu(y,A),C}for(T=r(y,T);A<E.length;A++)P=f(T,y,A,E[A],S),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?A:P.key),w=s(P,w,A),N===null?C=P:N.sibling=P,N=P);return t&&T.forEach(function(M){return e(y,M)}),an&&Tu(y,A),C}function m(y,w,E,S){var C=qp(E);if(typeof C!="function")throw Error(ie(150));if(E=C.call(E),E==null)throw Error(ie(151));for(var N=C=null,T=w,A=w=0,P=null,k=E.next();T!==null&&!k.done;A++,k=E.next()){T.index>A?(P=T,T=null):P=T.sibling;var M=h(y,T,k.value,S);if(M===null){T===null&&(T=P);break}t&&T&&M.alternate===null&&e(y,T),w=s(M,w,A),N===null?C=M:N.sibling=M,N=M,T=P}if(k.done)return n(y,T),an&&Tu(y,A),C;if(T===null){for(;!k.done;A++,k=E.next())k=d(y,k.value,S),k!==null&&(w=s(k,w,A),N===null?C=k:N.sibling=k,N=k);return an&&Tu(y,A),C}for(T=r(y,T);!k.done;A++,k=E.next())k=f(T,y,A,k.value,S),k!==null&&(t&&k.alternate!==null&&T.delete(k.key===null?A:k.key),w=s(k,w,A),N===null?C=k:N.sibling=k,N=k);return t&&T.forEach(function(O){return e(y,O)}),an&&Tu(y,A),C}function v(y,w,E,S){if(typeof E=="object"&&E!==null&&E.type===Mh&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Ov:e:{for(var C=E.key,N=w;N!==null;){if(N.key===C){if(C=E.type,C===Mh){if(N.tag===7){n(y,N.sibling),w=i(N,E.props.children),w.return=y,y=w;break e}}else if(N.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ml&&Ck(C)===N.type){n(y,N.sibling),w=i(N,E.props),w.ref=Kp(y,N,E),w.return=y,y=w;break e}n(y,N);break}else e(y,N);N=N.sibling}E.type===Mh?(w=Ku(E.props.children,y.mode,S,E.key),w.return=y,y=w):(S=K0(E.type,E.key,E.props,null,y.mode,S),S.ref=Kp(y,w,E),S.return=y,y=S)}return o(y);case Lh:e:{for(N=E.key;w!==null;){if(w.key===N)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){n(y,w.sibling),w=i(w,E.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else e(y,w);w=w.sibling}w=mE(E,y.mode,S),w.return=y,y=w}return o(y);case Ml:return N=E._init,v(y,w,N(E._payload),S)}if(fm(E))return g(y,w,E,S);if(qp(E))return m(y,w,E,S);zv(y,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(n(y,w.sibling),w=i(w,E),w.return=y,y=w):(n(y,w),w=pE(E,y.mode,S),w.return=y,y=w),o(y)):n(y,w)}return v}var kf=MF(!0),VF=MF(!1),z_=qc(null),W_=null,zh=null,xI=null;function EI(){xI=zh=W_=null}function bI(t){var e=z_.current;rn(z_),t._currentValue=e}function hT(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function of(t,e){W_=t,xI=zh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mi=!0),t.firstContext=null)}function Ks(t){var e=t._currentValue;if(xI!==t)if(t={context:t,memoizedValue:e,next:null},zh===null){if(W_===null)throw Error(ie(308));zh=t,W_.dependencies={lanes:0,firstContext:t}}else zh=zh.next=t;return e}var Fu=null;function TI(t){Fu===null?Fu=[t]:Fu.push(t)}function jF(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,TI(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ha(t,r)}function Ha(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Vl=!1;function SI(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FF(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function lc(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,pt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ha(t,n)}return i=r.interleaved,i===null?(e.next=e,TI(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ha(t,n)}function $0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,uI(t,n)}}function Rk(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function H_(t,e,n,r){var i=t.updateQueue;Vl=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,m=a;switch(h=e,f=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(f,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(f,d,h):g,h==null)break e;d=_n({},d,h);break e;case 2:Vl=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ld|=o,t.lanes=o,t.memoizedState=d}}function Pk(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ie(191,i));i.call(r)}}}var Wy={},Go=qc(Wy),Vg=qc(Wy),jg=qc(Wy);function Bu(t){if(t===Wy)throw Error(ie(174));return t}function AI(t,e){switch(qt(jg,e),qt(Vg,t),qt(Go,Wy),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Hb(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Hb(e,t)}rn(Go),qt(Go,e)}function Of(){rn(Go),rn(Vg),rn(jg)}function BF(t){Bu(jg.current);var e=Bu(Go.current),n=Hb(e,t.type);e!==n&&(qt(Vg,t),qt(Go,n))}function II(t){Vg.current===t&&(rn(Go),rn(Vg))}var hn=qc(0);function G_(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var lE=[];function CI(){for(var t=0;t<lE.length;t++)lE[t]._workInProgressVersionPrimary=null;lE.length=0}var q0=ll.ReactCurrentDispatcher,cE=ll.ReactCurrentBatchConfig,ad=0,yn=null,nr=null,yr=null,K_=!1,Bm=!1,Fg=0,xG=0;function Ur(){throw Error(ie(321))}function RI(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bo(t[n],e[n]))return!1;return!0}function PI(t,e,n,r,i,s){if(ad=s,yn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,q0.current=t===null||t.memoizedState===null?SG:AG,t=n(r,i),Bm){s=0;do{if(Bm=!1,Fg=0,25<=s)throw Error(ie(301));s+=1,yr=nr=null,e.updateQueue=null,q0.current=IG,t=n(r,i)}while(Bm)}if(q0.current=Y_,e=nr!==null&&nr.next!==null,ad=0,yr=nr=yn=null,K_=!1,e)throw Error(ie(300));return t}function NI(){var t=Fg!==0;return Fg=0,t}function Mo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yr===null?yn.memoizedState=yr=t:yr=yr.next=t,yr}function Ys(){if(nr===null){var t=yn.alternate;t=t!==null?t.memoizedState:null}else t=nr.next;var e=yr===null?yn.memoizedState:yr.next;if(e!==null)yr=e,nr=t;else{if(t===null)throw Error(ie(310));nr=t,t={memoizedState:nr.memoizedState,baseState:nr.baseState,baseQueue:nr.baseQueue,queue:nr.queue,next:null},yr===null?yn.memoizedState=yr=t:yr=yr.next=t}return yr}function Bg(t,e){return typeof e=="function"?e(t):e}function uE(t){var e=Ys(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=nr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((ad&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,yn.lanes|=u,ld|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,bo(r,e.memoizedState)||(Mi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,yn.lanes|=s,ld|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function dE(t){var e=Ys(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);bo(s,e.memoizedState)||(Mi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function UF(){}function $F(t,e){var n=yn,r=Ys(),i=e(),s=!bo(r.memoizedState,i);if(s&&(r.memoizedState=i,Mi=!0),r=r.queue,kI(WF.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||yr!==null&&yr.memoizedState.tag&1){if(n.flags|=2048,Ug(9,zF.bind(null,n,r,i,e),void 0,null),_r===null)throw Error(ie(349));ad&30||qF(n,e,i)}return i}function qF(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=yn.updateQueue,e===null?(e={lastEffect:null,stores:null},yn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function zF(t,e,n,r){e.value=n,e.getSnapshot=r,HF(e)&&GF(t)}function WF(t,e,n){return n(function(){HF(e)&&GF(t)})}function HF(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bo(t,n)}catch{return!0}}function GF(t){var e=Ha(t,1);e!==null&&yo(e,t,1,-1)}function Nk(t){var e=Mo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bg,lastRenderedState:t},e.queue=t,t=t.dispatch=TG.bind(null,yn,t),[e.memoizedState,t]}function Ug(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=yn.updateQueue,e===null?(e={lastEffect:null,stores:null},yn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function KF(){return Ys().memoizedState}function z0(t,e,n,r){var i=Mo();yn.flags|=t,i.memoizedState=Ug(1|e,n,void 0,r===void 0?null:r)}function f1(t,e,n,r){var i=Ys();r=r===void 0?null:r;var s=void 0;if(nr!==null){var o=nr.memoizedState;if(s=o.destroy,r!==null&&RI(r,o.deps)){i.memoizedState=Ug(e,n,s,r);return}}yn.flags|=t,i.memoizedState=Ug(1|e,n,s,r)}function kk(t,e){return z0(8390656,8,t,e)}function kI(t,e){return f1(2048,8,t,e)}function YF(t,e){return f1(4,2,t,e)}function QF(t,e){return f1(4,4,t,e)}function XF(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function JF(t,e,n){return n=n!=null?n.concat([t]):null,f1(4,4,XF.bind(null,e,t),n)}function OI(){}function ZF(t,e){var n=Ys();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&RI(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function e4(t,e){var n=Ys();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&RI(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function t4(t,e,n){return ad&21?(bo(n,e)||(n=oF(),yn.lanes|=n,ld|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mi=!0),t.memoizedState=n)}function EG(t,e){var n=Ct;Ct=n!==0&&4>n?n:4,t(!0);var r=cE.transition;cE.transition={};try{t(!1),e()}finally{Ct=n,cE.transition=r}}function n4(){return Ys().memoizedState}function bG(t,e,n){var r=uc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},r4(t))i4(e,n);else if(n=jF(t,e,n,r),n!==null){var i=Ei();yo(n,t,r,i),s4(n,e,r)}}function TG(t,e,n){var r=uc(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(r4(t))i4(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,bo(a,o)){var l=e.interleaved;l===null?(i.next=i,TI(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=jF(t,e,i,r),n!==null&&(i=Ei(),yo(n,t,r,i),s4(n,e,r))}}function r4(t){var e=t.alternate;return t===yn||e!==null&&e===yn}function i4(t,e){Bm=K_=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function s4(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,uI(t,n)}}var Y_={readContext:Ks,useCallback:Ur,useContext:Ur,useEffect:Ur,useImperativeHandle:Ur,useInsertionEffect:Ur,useLayoutEffect:Ur,useMemo:Ur,useReducer:Ur,useRef:Ur,useState:Ur,useDebugValue:Ur,useDeferredValue:Ur,useTransition:Ur,useMutableSource:Ur,useSyncExternalStore:Ur,useId:Ur,unstable_isNewReconciler:!1},SG={readContext:Ks,useCallback:function(t,e){return Mo().memoizedState=[t,e===void 0?null:e],t},useContext:Ks,useEffect:kk,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,z0(4194308,4,XF.bind(null,e,t),n)},useLayoutEffect:function(t,e){return z0(4194308,4,t,e)},useInsertionEffect:function(t,e){return z0(4,2,t,e)},useMemo:function(t,e){var n=Mo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bG.bind(null,yn,t),[r.memoizedState,t]},useRef:function(t){var e=Mo();return t={current:t},e.memoizedState=t},useState:Nk,useDebugValue:OI,useDeferredValue:function(t){return Mo().memoizedState=t},useTransition:function(){var t=Nk(!1),e=t[0];return t=EG.bind(null,t[1]),Mo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=yn,i=Mo();if(an){if(n===void 0)throw Error(ie(407));n=n()}else{if(n=e(),_r===null)throw Error(ie(349));ad&30||qF(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,kk(WF.bind(null,r,s,t),[t]),r.flags|=2048,Ug(9,zF.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Mo(),e=_r.identifierPrefix;if(an){var n=ka,r=Na;n=(r&~(1<<32-go(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fg++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=xG++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},AG={readContext:Ks,useCallback:ZF,useContext:Ks,useEffect:kI,useImperativeHandle:JF,useInsertionEffect:YF,useLayoutEffect:QF,useMemo:e4,useReducer:uE,useRef:KF,useState:function(){return uE(Bg)},useDebugValue:OI,useDeferredValue:function(t){var e=Ys();return t4(e,nr.memoizedState,t)},useTransition:function(){var t=uE(Bg)[0],e=Ys().memoizedState;return[t,e]},useMutableSource:UF,useSyncExternalStore:$F,useId:n4,unstable_isNewReconciler:!1},IG={readContext:Ks,useCallback:ZF,useContext:Ks,useEffect:kI,useImperativeHandle:JF,useInsertionEffect:YF,useLayoutEffect:QF,useMemo:e4,useReducer:dE,useRef:KF,useState:function(){return dE(Bg)},useDebugValue:OI,useDeferredValue:function(t){var e=Ys();return nr===null?e.memoizedState=t:t4(e,nr.memoizedState,t)},useTransition:function(){var t=dE(Bg)[0],e=Ys().memoizedState;return[t,e]},useMutableSource:UF,useSyncExternalStore:$F,useId:n4,unstable_isNewReconciler:!1};function co(t,e){if(t&&t.defaultProps){e=_n({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function fT(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:_n({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var p1={isMounted:function(t){return(t=t._reactInternals)?Md(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ei(),i=uc(t),s=Fa(r,i);s.payload=e,n!=null&&(s.callback=n),e=lc(t,s,i),e!==null&&(yo(e,t,i,r),$0(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ei(),i=uc(t),s=Fa(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=lc(t,s,i),e!==null&&(yo(e,t,i,r),$0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ei(),r=uc(t),i=Fa(n,r);i.tag=2,e!=null&&(i.callback=e),e=lc(t,i,r),e!==null&&(yo(e,t,r,n),$0(e,t,r))}};function Ok(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Og(n,r)||!Og(i,s):!0}function o4(t,e,n){var r=!1,i=Ec,s=e.contextType;return typeof s=="object"&&s!==null?s=Ks(s):(i=Ui(e)?sd:ri.current,r=e.contextTypes,s=(r=r!=null)?Pf(t,i):Ec),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=p1,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Dk(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&p1.enqueueReplaceState(e,e.state,null)}function pT(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},SI(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ks(s):(s=Ui(e)?sd:ri.current,i.context=Pf(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(fT(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&p1.enqueueReplaceState(i,i.state,null),H_(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Df(t,e){try{var n="",r=e;do n+=tH(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function hE(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function mT(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var CG=typeof WeakMap=="function"?WeakMap:Map;function a4(t,e,n){n=Fa(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){X_||(X_=!0,ST=r),mT(t,e)},n}function l4(t,e,n){n=Fa(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){mT(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){mT(t,e),typeof r!="function"&&(cc===null?cc=new Set([this]):cc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Lk(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new CG;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=$G.bind(null,t,e,n),e.then(t,t))}function Mk(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Vk(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Fa(-1,1),e.tag=2,lc(n,e,1))),n.lanes|=1),t)}var RG=ll.ReactCurrentOwner,Mi=!1;function fi(t,e,n,r){e.child=t===null?VF(e,null,n,r):kf(e,t.child,n,r)}function jk(t,e,n,r,i){n=n.render;var s=e.ref;return of(e,i),r=PI(t,e,n,r,s,i),n=NI(),t!==null&&!Mi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ga(t,e,i)):(an&&n&&vI(e),e.flags|=1,fi(t,e,r,i),e.child)}function Fk(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!UI(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,c4(t,e,s,r,i)):(t=K0(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Og,n(o,r)&&t.ref===e.ref)return Ga(t,e,i)}return e.flags|=1,t=dc(s,r),t.ref=e.ref,t.return=e,e.child=t}function c4(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Og(s,r)&&t.ref===e.ref)if(Mi=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Mi=!0);else return e.lanes=t.lanes,Ga(t,e,i)}return gT(t,e,n,r,i)}function u4(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qt(Hh,ts),ts|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qt(Hh,ts),ts|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,qt(Hh,ts),ts|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,qt(Hh,ts),ts|=r;return fi(t,e,i,n),e.child}function d4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function gT(t,e,n,r,i){var s=Ui(n)?sd:ri.current;return s=Pf(e,s),of(e,i),n=PI(t,e,n,r,s,i),r=NI(),t!==null&&!Mi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ga(t,e,i)):(an&&r&&vI(e),e.flags|=1,fi(t,e,n,i),e.child)}function Bk(t,e,n,r,i){if(Ui(n)){var s=!0;U_(e)}else s=!1;if(of(e,i),e.stateNode===null)W0(t,e),o4(e,n,r),pT(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ks(c):(c=Ui(n)?sd:ri.current,c=Pf(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Dk(e,o,r,c),Vl=!1;var h=e.memoizedState;o.state=h,H_(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Bi.current||Vl?(typeof u=="function"&&(fT(e,n,u,r),l=e.memoizedState),(a=Vl||Ok(e,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,FF(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:co(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ks(l):(l=Ui(n)?sd:ri.current,l=Pf(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Dk(e,o,r,l),Vl=!1,h=e.memoizedState,o.state=h,H_(e,r,o,i);var g=e.memoizedState;a!==d||h!==g||Bi.current||Vl?(typeof f=="function"&&(fT(e,n,f,r),g=e.memoizedState),(c=Vl||Ok(e,n,c,r,h,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return yT(t,e,n,r,s,i)}function yT(t,e,n,r,i,s){d4(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Sk(e,n,!1),Ga(t,e,s);r=e.stateNode,RG.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=kf(e,t.child,null,s),e.child=kf(e,null,a,s)):fi(t,e,a,s),e.memoizedState=r.state,i&&Sk(e,n,!0),e.child}function h4(t){var e=t.stateNode;e.pendingContext?Tk(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Tk(t,e.context,!1),AI(t,e.containerInfo)}function Uk(t,e,n,r,i){return Nf(),wI(i),e.flags|=256,fi(t,e,n,r),e.child}var vT={dehydrated:null,treeContext:null,retryLane:0};function _T(t){return{baseLanes:t,cachePool:null,transitions:null}}function f4(t,e,n){var r=e.pendingProps,i=hn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),qt(hn,i&1),t===null)return dT(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=y1(o,r,0,null),t=Ku(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=_T(n),e.memoizedState=vT,t):DI(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return PG(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=dc(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=dc(a,s):(s=Ku(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?_T(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=vT,r}return s=t.child,t=s.sibling,r=dc(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function DI(t,e){return e=y1({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wv(t,e,n,r){return r!==null&&wI(r),kf(e,t.child,null,n),t=DI(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function PG(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=hE(Error(ie(422))),Wv(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=y1({mode:"visible",children:r.children},i,0,null),s=Ku(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&kf(e,t.child,null,o),e.child.memoizedState=_T(o),e.memoizedState=vT,s);if(!(e.mode&1))return Wv(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ie(419)),r=hE(s,r,void 0),Wv(t,e,o,r)}if(a=(o&t.childLanes)!==0,Mi||a){if(r=_r,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ha(t,i),yo(r,t,i,-1))}return BI(),r=hE(Error(ie(421))),Wv(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=qG.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,cs=ac(i.nextSibling),ps=e,an=!0,ho=null,t!==null&&(Ns[ks++]=Na,Ns[ks++]=ka,Ns[ks++]=od,Na=t.id,ka=t.overflow,od=e),e=DI(e,r.children),e.flags|=4096,e)}function $k(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),hT(t.return,e,n)}function fE(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function p4(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(fi(t,e,r.children,n),r=hn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$k(t,n,e);else if(t.tag===19)$k(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qt(hn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&G_(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),fE(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&G_(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}fE(e,!0,n,null,s);break;case"together":fE(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function W0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ga(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ld|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ie(153));if(e.child!==null){for(t=e.child,n=dc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=dc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function NG(t,e,n){switch(e.tag){case 3:h4(e),Nf();break;case 5:BF(e);break;case 1:Ui(e.type)&&U_(e);break;case 4:AI(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;qt(z_,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qt(hn,hn.current&1),e.flags|=128,null):n&e.child.childLanes?f4(t,e,n):(qt(hn,hn.current&1),t=Ga(t,e,n),t!==null?t.sibling:null);qt(hn,hn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return p4(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qt(hn,hn.current),r)break;return null;case 22:case 23:return e.lanes=0,u4(t,e,n)}return Ga(t,e,n)}var m4,wT,g4,y4;m4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wT=function(){};g4=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Bu(Go.current);var s=null;switch(n){case"input":i=$b(t,i),r=$b(t,r),s=[];break;case"select":i=_n({},i,{value:void 0}),r=_n({},r,{value:void 0}),s=[];break;case"textarea":i=Wb(t,i),r=Wb(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=F_)}Gb(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ag.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ag.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&en("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};y4=function(t,e,n,r){n!==r&&(e.flags|=4)};function Yp(t,e){if(!an)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $r(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function kG(t,e,n){var r=e.pendingProps;switch(_I(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $r(e),null;case 1:return Ui(e.type)&&B_(),$r(e),null;case 3:return r=e.stateNode,Of(),rn(Bi),rn(ri),CI(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(qv(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ho!==null&&(CT(ho),ho=null))),wT(t,e),$r(e),null;case 5:II(e);var i=Bu(jg.current);if(n=e.type,t!==null&&e.stateNode!=null)g4(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ie(166));return $r(e),null}if(t=Bu(Go.current),qv(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Bo]=e,r[Mg]=s,t=(e.mode&1)!==0,n){case"dialog":en("cancel",r),en("close",r);break;case"iframe":case"object":case"embed":en("load",r);break;case"video":case"audio":for(i=0;i<mm.length;i++)en(mm[i],r);break;case"source":en("error",r);break;case"img":case"image":case"link":en("error",r),en("load",r);break;case"details":en("toggle",r);break;case"input":XN(r,s),en("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},en("invalid",r);break;case"textarea":ZN(r,s),en("invalid",r)}Gb(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&$v(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&$v(r.textContent,a,t),i=["children",""+a]):Ag.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&en("scroll",r)}switch(n){case"input":Dv(r),JN(r,s,!0);break;case"textarea":Dv(r),ek(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=F_)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Wj(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Bo]=e,t[Mg]=r,m4(t,e,!1,!1),e.stateNode=t;e:{switch(o=Kb(n,r),n){case"dialog":en("cancel",t),en("close",t),i=r;break;case"iframe":case"object":case"embed":en("load",t),i=r;break;case"video":case"audio":for(i=0;i<mm.length;i++)en(mm[i],t);i=r;break;case"source":en("error",t),i=r;break;case"img":case"image":case"link":en("error",t),en("load",t),i=r;break;case"details":en("toggle",t),i=r;break;case"input":XN(t,r),i=$b(t,r),en("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=_n({},r,{value:void 0}),en("invalid",t);break;case"textarea":ZN(t,r),i=Wb(t,r),en("invalid",t);break;default:i=r}Gb(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Kj(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Hj(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ig(t,l):typeof l=="number"&&Ig(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ag.hasOwnProperty(s)?l!=null&&s==="onScroll"&&en("scroll",t):l!=null&&iI(t,s,l,o))}switch(n){case"input":Dv(t),JN(t,r,!1);break;case"textarea":Dv(t),ek(t);break;case"option":r.value!=null&&t.setAttribute("value",""+xc(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?tf(t,!!r.multiple,s,!1):r.defaultValue!=null&&tf(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=F_)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $r(e),null;case 6:if(t&&e.stateNode!=null)y4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ie(166));if(n=Bu(jg.current),Bu(Go.current),qv(e)){if(r=e.stateNode,n=e.memoizedProps,r[Bo]=e,(s=r.nodeValue!==n)&&(t=ps,t!==null))switch(t.tag){case 3:$v(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$v(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Bo]=e,e.stateNode=r}return $r(e),null;case 13:if(rn(hn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(an&&cs!==null&&e.mode&1&&!(e.flags&128))LF(),Nf(),e.flags|=98560,s=!1;else if(s=qv(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ie(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ie(317));s[Bo]=e}else Nf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$r(e),s=!1}else ho!==null&&(CT(ho),ho=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||hn.current&1?or===0&&(or=3):BI())),e.updateQueue!==null&&(e.flags|=4),$r(e),null);case 4:return Of(),wT(t,e),t===null&&Dg(e.stateNode.containerInfo),$r(e),null;case 10:return bI(e.type._context),$r(e),null;case 17:return Ui(e.type)&&B_(),$r(e),null;case 19:if(rn(hn),s=e.memoizedState,s===null)return $r(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Yp(s,!1);else{if(or!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=G_(t),o!==null){for(e.flags|=128,Yp(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qt(hn,hn.current&1|2),e.child}t=t.sibling}s.tail!==null&&On()>Lf&&(e.flags|=128,r=!0,Yp(s,!1),e.lanes=4194304)}else{if(!r)if(t=G_(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Yp(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!an)return $r(e),null}else 2*On()-s.renderingStartTime>Lf&&n!==1073741824&&(e.flags|=128,r=!0,Yp(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=On(),e.sibling=null,n=hn.current,qt(hn,r?n&1|2:n&1),e):($r(e),null);case 22:case 23:return FI(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ts&1073741824&&($r(e),e.subtreeFlags&6&&(e.flags|=8192)):$r(e),null;case 24:return null;case 25:return null}throw Error(ie(156,e.tag))}function OG(t,e){switch(_I(e),e.tag){case 1:return Ui(e.type)&&B_(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Of(),rn(Bi),rn(ri),CI(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return II(e),null;case 13:if(rn(hn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ie(340));Nf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return rn(hn),null;case 4:return Of(),null;case 10:return bI(e.type._context),null;case 22:case 23:return FI(),null;case 24:return null;default:return null}}var Hv=!1,Kr=!1,DG=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Wh(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Tn(t,e,r)}else n.current=null}function xT(t,e,n){try{n()}catch(r){Tn(t,e,r)}}var qk=!1;function LG(t,e){if(iT=M_,t=EF(),yI(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(sT={focusedElem:t,selectionRange:n},M_=!1,ye=e;ye!==null;)if(e=ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ye=t;else for(;ye!==null;){e=ye;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:co(e.type,m),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(S){Tn(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,ye=t;break}ye=e.return}return g=qk,qk=!1,g}function Um(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&xT(e,n,s)}i=i.next}while(i!==r)}}function m1(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ET(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function v4(t){var e=t.alternate;e!==null&&(t.alternate=null,v4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Bo],delete e[Mg],delete e[lT],delete e[yG],delete e[vG])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _4(t){return t.tag===5||t.tag===3||t.tag===4}function zk(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bT(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=F_));else if(r!==4&&(t=t.child,t!==null))for(bT(t,e,n),t=t.sibling;t!==null;)bT(t,e,n),t=t.sibling}function TT(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(TT(t,e,n),t=t.sibling;t!==null;)TT(t,e,n),t=t.sibling}var Sr=null,uo=!1;function El(t,e,n){for(n=n.child;n!==null;)w4(t,e,n),n=n.sibling}function w4(t,e,n){if(Ho&&typeof Ho.onCommitFiberUnmount=="function")try{Ho.onCommitFiberUnmount(a1,n)}catch{}switch(n.tag){case 5:Kr||Wh(n,e);case 6:var r=Sr,i=uo;Sr=null,El(t,e,n),Sr=r,uo=i,Sr!==null&&(uo?(t=Sr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Sr.removeChild(n.stateNode));break;case 18:Sr!==null&&(uo?(t=Sr,n=n.stateNode,t.nodeType===8?oE(t.parentNode,n):t.nodeType===1&&oE(t,n),Ng(t)):oE(Sr,n.stateNode));break;case 4:r=Sr,i=uo,Sr=n.stateNode.containerInfo,uo=!0,El(t,e,n),Sr=r,uo=i;break;case 0:case 11:case 14:case 15:if(!Kr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&xT(n,e,o),i=i.next}while(i!==r)}El(t,e,n);break;case 1:if(!Kr&&(Wh(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Tn(n,e,a)}El(t,e,n);break;case 21:El(t,e,n);break;case 22:n.mode&1?(Kr=(r=Kr)||n.memoizedState!==null,El(t,e,n),Kr=r):El(t,e,n);break;default:El(t,e,n)}}function Wk(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new DG),e.forEach(function(r){var i=zG.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ro(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Sr=a.stateNode,uo=!1;break e;case 3:Sr=a.stateNode.containerInfo,uo=!0;break e;case 4:Sr=a.stateNode.containerInfo,uo=!0;break e}a=a.return}if(Sr===null)throw Error(ie(160));w4(s,o,i),Sr=null,uo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Tn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)x4(e,t),e=e.sibling}function x4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ro(e,t),Lo(t),r&4){try{Um(3,t,t.return),m1(3,t)}catch(m){Tn(t,t.return,m)}try{Um(5,t,t.return)}catch(m){Tn(t,t.return,m)}}break;case 1:ro(e,t),Lo(t),r&512&&n!==null&&Wh(n,n.return);break;case 5:if(ro(e,t),Lo(t),r&512&&n!==null&&Wh(n,n.return),t.flags&32){var i=t.stateNode;try{Ig(i,"")}catch(m){Tn(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&qj(i,s),Kb(a,o);var c=Kb(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?Kj(i,d):u==="dangerouslySetInnerHTML"?Hj(i,d):u==="children"?Ig(i,d):iI(i,u,d,c)}switch(a){case"input":qb(i,s);break;case"textarea":zj(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?tf(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?tf(i,!!s.multiple,s.defaultValue,!0):tf(i,!!s.multiple,s.multiple?[]:"",!1))}i[Mg]=s}catch(m){Tn(t,t.return,m)}}break;case 6:if(ro(e,t),Lo(t),r&4){if(t.stateNode===null)throw Error(ie(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){Tn(t,t.return,m)}}break;case 3:if(ro(e,t),Lo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ng(e.containerInfo)}catch(m){Tn(t,t.return,m)}break;case 4:ro(e,t),Lo(t);break;case 13:ro(e,t),Lo(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(VI=On())),r&4&&Wk(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Kr=(c=Kr)||u,ro(e,t),Kr=c):ro(e,t),Lo(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ye=t,u=t.child;u!==null;){for(d=ye=u;ye!==null;){switch(h=ye,f=h.child,h.tag){case 0:case 11:case 14:case 15:Um(4,h,h.return);break;case 1:Wh(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){Tn(r,n,m)}}break;case 5:Wh(h,h.return);break;case 22:if(h.memoizedState!==null){Gk(d);continue}}f!==null?(f.return=h,ye=f):Gk(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Gj("display",o))}catch(m){Tn(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Tn(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ro(e,t),Lo(t),r&4&&Wk(t);break;case 21:break;default:ro(e,t),Lo(t)}}function Lo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(_4(n)){var r=n;break e}n=n.return}throw Error(ie(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ig(i,""),r.flags&=-33);var s=zk(t);TT(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=zk(t);bT(t,a,o);break;default:throw Error(ie(161))}}catch(l){Tn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function MG(t,e,n){ye=t,E4(t)}function E4(t,e,n){for(var r=(t.mode&1)!==0;ye!==null;){var i=ye,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Hv;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Kr;a=Hv;var c=Kr;if(Hv=o,(Kr=l)&&!c)for(ye=i;ye!==null;)o=ye,l=o.child,o.tag===22&&o.memoizedState!==null?Kk(i):l!==null?(l.return=o,ye=l):Kk(i);for(;s!==null;)ye=s,E4(s),s=s.sibling;ye=i,Hv=a,Kr=c}Hk(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ye=s):Hk(t)}}function Hk(t){for(;ye!==null;){var e=ye;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Kr||m1(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Kr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:co(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Pk(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Pk(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Ng(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}Kr||e.flags&512&&ET(e)}catch(h){Tn(e,e.return,h)}}if(e===t){ye=null;break}if(n=e.sibling,n!==null){n.return=e.return,ye=n;break}ye=e.return}}function Gk(t){for(;ye!==null;){var e=ye;if(e===t){ye=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ye=n;break}ye=e.return}}function Kk(t){for(;ye!==null;){var e=ye;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{m1(4,e)}catch(l){Tn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Tn(e,i,l)}}var s=e.return;try{ET(e)}catch(l){Tn(e,s,l)}break;case 5:var o=e.return;try{ET(e)}catch(l){Tn(e,o,l)}}}catch(l){Tn(e,e.return,l)}if(e===t){ye=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ye=a;break}ye=e.return}}var VG=Math.ceil,Q_=ll.ReactCurrentDispatcher,LI=ll.ReactCurrentOwner,Ws=ll.ReactCurrentBatchConfig,pt=0,_r=null,Kn=null,Rr=0,ts=0,Hh=qc(0),or=0,$g=null,ld=0,g1=0,MI=0,$m=null,Di=null,VI=0,Lf=1/0,Sa=null,X_=!1,ST=null,cc=null,Gv=!1,Kl=null,J_=0,qm=0,AT=null,H0=-1,G0=0;function Ei(){return pt&6?On():H0!==-1?H0:H0=On()}function uc(t){return t.mode&1?pt&2&&Rr!==0?Rr&-Rr:wG.transition!==null?(G0===0&&(G0=oF()),G0):(t=Ct,t!==0||(t=window.event,t=t===void 0?16:fF(t.type)),t):1}function yo(t,e,n,r){if(50<qm)throw qm=0,AT=null,Error(ie(185));$y(t,n,r),(!(pt&2)||t!==_r)&&(t===_r&&(!(pt&2)&&(g1|=n),or===4&&Bl(t,Rr)),$i(t,r),n===1&&pt===0&&!(e.mode&1)&&(Lf=On()+500,h1&&zc()))}function $i(t,e){var n=t.callbackNode;wH(t,e);var r=L_(t,t===_r?Rr:0);if(r===0)n!==null&&rk(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&rk(n),e===1)t.tag===0?_G(Yk.bind(null,t)):kF(Yk.bind(null,t)),mG(function(){!(pt&6)&&zc()}),n=null;else{switch(aF(r)){case 1:n=cI;break;case 4:n=iF;break;case 16:n=D_;break;case 536870912:n=sF;break;default:n=D_}n=P4(n,b4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function b4(t,e){if(H0=-1,G0=0,pt&6)throw Error(ie(327));var n=t.callbackNode;if(af()&&t.callbackNode!==n)return null;var r=L_(t,t===_r?Rr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Z_(t,r);else{e=r;var i=pt;pt|=2;var s=S4();(_r!==t||Rr!==e)&&(Sa=null,Lf=On()+500,Gu(t,e));do try{BG();break}catch(a){T4(t,a)}while(!0);EI(),Q_.current=s,pt=i,Kn!==null?e=0:(_r=null,Rr=0,e=or)}if(e!==0){if(e===2&&(i=Zb(t),i!==0&&(r=i,e=IT(t,i))),e===1)throw n=$g,Gu(t,0),Bl(t,r),$i(t,On()),n;if(e===6)Bl(t,r);else{if(i=t.current.alternate,!(r&30)&&!jG(i)&&(e=Z_(t,r),e===2&&(s=Zb(t),s!==0&&(r=s,e=IT(t,s))),e===1))throw n=$g,Gu(t,0),Bl(t,r),$i(t,On()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ie(345));case 2:Su(t,Di,Sa);break;case 3:if(Bl(t,r),(r&130023424)===r&&(e=VI+500-On(),10<e)){if(L_(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ei(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=aT(Su.bind(null,t,Di,Sa),e);break}Su(t,Di,Sa);break;case 4:if(Bl(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-go(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=On()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*VG(r/1960))-r,10<r){t.timeoutHandle=aT(Su.bind(null,t,Di,Sa),r);break}Su(t,Di,Sa);break;case 5:Su(t,Di,Sa);break;default:throw Error(ie(329))}}}return $i(t,On()),t.callbackNode===n?b4.bind(null,t):null}function IT(t,e){var n=$m;return t.current.memoizedState.isDehydrated&&(Gu(t,e).flags|=256),t=Z_(t,e),t!==2&&(e=Di,Di=n,e!==null&&CT(e)),t}function CT(t){Di===null?Di=t:Di.push.apply(Di,t)}function jG(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!bo(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bl(t,e){for(e&=~MI,e&=~g1,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-go(e),r=1<<n;t[n]=-1,e&=~r}}function Yk(t){if(pt&6)throw Error(ie(327));af();var e=L_(t,0);if(!(e&1))return $i(t,On()),null;var n=Z_(t,e);if(t.tag!==0&&n===2){var r=Zb(t);r!==0&&(e=r,n=IT(t,r))}if(n===1)throw n=$g,Gu(t,0),Bl(t,e),$i(t,On()),n;if(n===6)throw Error(ie(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Su(t,Di,Sa),$i(t,On()),null}function jI(t,e){var n=pt;pt|=1;try{return t(e)}finally{pt=n,pt===0&&(Lf=On()+500,h1&&zc())}}function cd(t){Kl!==null&&Kl.tag===0&&!(pt&6)&&af();var e=pt;pt|=1;var n=Ws.transition,r=Ct;try{if(Ws.transition=null,Ct=1,t)return t()}finally{Ct=r,Ws.transition=n,pt=e,!(pt&6)&&zc()}}function FI(){ts=Hh.current,rn(Hh)}function Gu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,pG(n)),Kn!==null)for(n=Kn.return;n!==null;){var r=n;switch(_I(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&B_();break;case 3:Of(),rn(Bi),rn(ri),CI();break;case 5:II(r);break;case 4:Of();break;case 13:rn(hn);break;case 19:rn(hn);break;case 10:bI(r.type._context);break;case 22:case 23:FI()}n=n.return}if(_r=t,Kn=t=dc(t.current,null),Rr=ts=e,or=0,$g=null,MI=g1=ld=0,Di=$m=null,Fu!==null){for(e=0;e<Fu.length;e++)if(n=Fu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Fu=null}return t}function T4(t,e){do{var n=Kn;try{if(EI(),q0.current=Y_,K_){for(var r=yn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}K_=!1}if(ad=0,yr=nr=yn=null,Bm=!1,Fg=0,LI.current=null,n===null||n.return===null){or=1,$g=e,Kn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Rr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Mk(o);if(f!==null){f.flags&=-257,Vk(f,o,a,s,e),f.mode&1&&Lk(s,c,e),e=f,l=c;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){Lk(s,c,e),BI();break e}l=Error(ie(426))}}else if(an&&a.mode&1){var v=Mk(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Vk(v,o,a,s,e),wI(Df(l,a));break e}}s=l=Df(l,a),or!==4&&(or=2),$m===null?$m=[s]:$m.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=a4(s,l,e);Rk(s,y);break e;case 1:a=l;var w=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(cc===null||!cc.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=l4(s,a,e);Rk(s,S);break e}}s=s.return}while(s!==null)}I4(n)}catch(C){e=C,Kn===n&&n!==null&&(Kn=n=n.return);continue}break}while(!0)}function S4(){var t=Q_.current;return Q_.current=Y_,t===null?Y_:t}function BI(){(or===0||or===3||or===2)&&(or=4),_r===null||!(ld&268435455)&&!(g1&268435455)||Bl(_r,Rr)}function Z_(t,e){var n=pt;pt|=2;var r=S4();(_r!==t||Rr!==e)&&(Sa=null,Gu(t,e));do try{FG();break}catch(i){T4(t,i)}while(!0);if(EI(),pt=n,Q_.current=r,Kn!==null)throw Error(ie(261));return _r=null,Rr=0,or}function FG(){for(;Kn!==null;)A4(Kn)}function BG(){for(;Kn!==null&&!dH();)A4(Kn)}function A4(t){var e=R4(t.alternate,t,ts);t.memoizedProps=t.pendingProps,e===null?I4(t):Kn=e,LI.current=null}function I4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=OG(n,e),n!==null){n.flags&=32767,Kn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{or=6,Kn=null;return}}else if(n=kG(n,e,ts),n!==null){Kn=n;return}if(e=e.sibling,e!==null){Kn=e;return}Kn=e=t}while(e!==null);or===0&&(or=5)}function Su(t,e,n){var r=Ct,i=Ws.transition;try{Ws.transition=null,Ct=1,UG(t,e,n,r)}finally{Ws.transition=i,Ct=r}return null}function UG(t,e,n,r){do af();while(Kl!==null);if(pt&6)throw Error(ie(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ie(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(xH(t,s),t===_r&&(Kn=_r=null,Rr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gv||(Gv=!0,P4(D_,function(){return af(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ws.transition,Ws.transition=null;var o=Ct;Ct=1;var a=pt;pt|=4,LI.current=null,LG(t,n),x4(n,t),aG(sT),M_=!!iT,sT=iT=null,t.current=n,MG(n),hH(),pt=a,Ct=o,Ws.transition=s}else t.current=n;if(Gv&&(Gv=!1,Kl=t,J_=i),s=t.pendingLanes,s===0&&(cc=null),mH(n.stateNode),$i(t,On()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(X_)throw X_=!1,t=ST,ST=null,t;return J_&1&&t.tag!==0&&af(),s=t.pendingLanes,s&1?t===AT?qm++:(qm=0,AT=t):qm=0,zc(),null}function af(){if(Kl!==null){var t=aF(J_),e=Ws.transition,n=Ct;try{if(Ws.transition=null,Ct=16>t?16:t,Kl===null)var r=!1;else{if(t=Kl,Kl=null,J_=0,pt&6)throw Error(ie(331));var i=pt;for(pt|=4,ye=t.current;ye!==null;){var s=ye,o=s.child;if(ye.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ye=c;ye!==null;){var u=ye;switch(u.tag){case 0:case 11:case 15:Um(8,u,s)}var d=u.child;if(d!==null)d.return=u,ye=d;else for(;ye!==null;){u=ye;var h=u.sibling,f=u.return;if(v4(u),u===c){ye=null;break}if(h!==null){h.return=f,ye=h;break}ye=f}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}ye=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ye=o;else e:for(;ye!==null;){if(s=ye,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Um(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,ye=y;break e}ye=s.return}}var w=t.current;for(ye=w;ye!==null;){o=ye;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,ye=E;else e:for(o=w;ye!==null;){if(a=ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:m1(9,a)}}catch(C){Tn(a,a.return,C)}if(a===o){ye=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,ye=S;break e}ye=a.return}}if(pt=i,zc(),Ho&&typeof Ho.onPostCommitFiberRoot=="function")try{Ho.onPostCommitFiberRoot(a1,t)}catch{}r=!0}return r}finally{Ct=n,Ws.transition=e}}return!1}function Qk(t,e,n){e=Df(n,e),e=a4(t,e,1),t=lc(t,e,1),e=Ei(),t!==null&&($y(t,1,e),$i(t,e))}function Tn(t,e,n){if(t.tag===3)Qk(t,t,n);else for(;e!==null;){if(e.tag===3){Qk(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cc===null||!cc.has(r))){t=Df(n,t),t=l4(e,t,1),e=lc(e,t,1),t=Ei(),e!==null&&($y(e,1,t),$i(e,t));break}}e=e.return}}function $G(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ei(),t.pingedLanes|=t.suspendedLanes&n,_r===t&&(Rr&n)===n&&(or===4||or===3&&(Rr&130023424)===Rr&&500>On()-VI?Gu(t,0):MI|=n),$i(t,e)}function C4(t,e){e===0&&(t.mode&1?(e=Vv,Vv<<=1,!(Vv&130023424)&&(Vv=4194304)):e=1);var n=Ei();t=Ha(t,e),t!==null&&($y(t,e,n),$i(t,n))}function qG(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),C4(t,n)}function zG(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ie(314))}r!==null&&r.delete(e),C4(t,n)}var R4;R4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Bi.current)Mi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Mi=!1,NG(t,e,n);Mi=!!(t.flags&131072)}else Mi=!1,an&&e.flags&1048576&&OF(e,q_,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;W0(t,e),t=e.pendingProps;var i=Pf(e,ri.current);of(e,n),i=PI(null,e,r,t,i,n);var s=NI();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ui(r)?(s=!0,U_(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,SI(e),i.updater=p1,e.stateNode=i,i._reactInternals=e,pT(e,r,t,n),e=yT(null,e,r,!0,s,n)):(e.tag=0,an&&s&&vI(e),fi(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(W0(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=HG(r),t=co(r,t),i){case 0:e=gT(null,e,r,t,n);break e;case 1:e=Bk(null,e,r,t,n);break e;case 11:e=jk(null,e,r,t,n);break e;case 14:e=Fk(null,e,r,co(r.type,t),n);break e}throw Error(ie(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:co(r,i),gT(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:co(r,i),Bk(t,e,r,i,n);case 3:e:{if(h4(e),t===null)throw Error(ie(387));r=e.pendingProps,s=e.memoizedState,i=s.element,FF(t,e),H_(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Df(Error(ie(423)),e),e=Uk(t,e,r,n,i);break e}else if(r!==i){i=Df(Error(ie(424)),e),e=Uk(t,e,r,n,i);break e}else for(cs=ac(e.stateNode.containerInfo.firstChild),ps=e,an=!0,ho=null,n=VF(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nf(),r===i){e=Ga(t,e,n);break e}fi(t,e,r,n)}e=e.child}return e;case 5:return BF(e),t===null&&dT(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,oT(r,i)?o=null:s!==null&&oT(r,s)&&(e.flags|=32),d4(t,e),fi(t,e,o,n),e.child;case 6:return t===null&&dT(e),null;case 13:return f4(t,e,n);case 4:return AI(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=kf(e,null,r,n):fi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:co(r,i),jk(t,e,r,i,n);case 7:return fi(t,e,e.pendingProps,n),e.child;case 8:return fi(t,e,e.pendingProps.children,n),e.child;case 12:return fi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,qt(z_,r._currentValue),r._currentValue=o,s!==null)if(bo(s.value,o)){if(s.children===i.children&&!Bi.current){e=Ga(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Fa(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),hT(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ie(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),hT(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}fi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,of(e,n),i=Ks(i),r=r(i),e.flags|=1,fi(t,e,r,n),e.child;case 14:return r=e.type,i=co(r,e.pendingProps),i=co(r.type,i),Fk(t,e,r,i,n);case 15:return c4(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:co(r,i),W0(t,e),e.tag=1,Ui(r)?(t=!0,U_(e)):t=!1,of(e,n),o4(e,r,i),pT(e,r,i,n),yT(null,e,r,!0,t,n);case 19:return p4(t,e,n);case 22:return u4(t,e,n)}throw Error(ie(156,e.tag))};function P4(t,e){return rF(t,e)}function WG(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function js(t,e,n,r){return new WG(t,e,n,r)}function UI(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HG(t){if(typeof t=="function")return UI(t)?1:0;if(t!=null){if(t=t.$$typeof,t===oI)return 11;if(t===aI)return 14}return 2}function dc(t,e){var n=t.alternate;return n===null?(n=js(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function K0(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")UI(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Mh:return Ku(n.children,i,s,e);case sI:o=8,i|=8;break;case jb:return t=js(12,n,e,i|2),t.elementType=jb,t.lanes=s,t;case Fb:return t=js(13,n,e,i),t.elementType=Fb,t.lanes=s,t;case Bb:return t=js(19,n,e,i),t.elementType=Bb,t.lanes=s,t;case Bj:return y1(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jj:o=10;break e;case Fj:o=9;break e;case oI:o=11;break e;case aI:o=14;break e;case Ml:o=16,r=null;break e}throw Error(ie(130,t==null?t:typeof t,""))}return e=js(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ku(t,e,n,r){return t=js(7,t,r,e),t.lanes=n,t}function y1(t,e,n,r){return t=js(22,t,r,e),t.elementType=Bj,t.lanes=n,t.stateNode={isHidden:!1},t}function pE(t,e,n){return t=js(6,t,null,e),t.lanes=n,t}function mE(t,e,n){return e=js(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function GG(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yx(0),this.expirationTimes=Yx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yx(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $I(t,e,n,r,i,s,o,a,l){return t=new GG(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=js(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},SI(s),t}function KG(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lh,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function N4(t){if(!t)return Ec;t=t._reactInternals;e:{if(Md(t)!==t||t.tag!==1)throw Error(ie(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ui(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ie(171))}if(t.tag===1){var n=t.type;if(Ui(n))return NF(t,n,e)}return e}function k4(t,e,n,r,i,s,o,a,l){return t=$I(n,r,!0,t,i,s,o,a,l),t.context=N4(null),n=t.current,r=Ei(),i=uc(n),s=Fa(r,i),s.callback=e??null,lc(n,s,i),t.current.lanes=i,$y(t,i,r),$i(t,r),t}function v1(t,e,n,r){var i=e.current,s=Ei(),o=uc(i);return n=N4(n),e.context===null?e.context=n:e.pendingContext=n,e=Fa(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=lc(i,e,o),t!==null&&(yo(t,i,o,s),$0(t,i,o)),o}function ew(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Xk(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qI(t,e){Xk(t,e),(t=t.alternate)&&Xk(t,e)}function YG(){return null}var O4=typeof reportError=="function"?reportError:function(t){console.error(t)};function zI(t){this._internalRoot=t}_1.prototype.render=zI.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ie(409));v1(t,e,null,null)};_1.prototype.unmount=zI.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;cd(function(){v1(null,t,null,null)}),e[Wa]=null}};function _1(t){this._internalRoot=t}_1.prototype.unstable_scheduleHydration=function(t){if(t){var e=uF();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fl.length&&e!==0&&e<Fl[n].priority;n++);Fl.splice(n,0,t),n===0&&hF(t)}};function WI(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function w1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Jk(){}function QG(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=ew(o);s.call(c)}}var o=k4(e,r,t,0,null,!1,!1,"",Jk);return t._reactRootContainer=o,t[Wa]=o.current,Dg(t.nodeType===8?t.parentNode:t),cd(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=ew(l);a.call(c)}}var l=$I(t,0,!1,null,null,!1,!1,"",Jk);return t._reactRootContainer=l,t[Wa]=l.current,Dg(t.nodeType===8?t.parentNode:t),cd(function(){v1(e,l,n,r)}),l}function x1(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ew(o);a.call(l)}}v1(e,o,t,i)}else o=QG(n,e,t,i,r);return ew(o)}lF=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=pm(e.pendingLanes);n!==0&&(uI(e,n|1),$i(e,On()),!(pt&6)&&(Lf=On()+500,zc()))}break;case 13:cd(function(){var r=Ha(t,1);if(r!==null){var i=Ei();yo(r,t,1,i)}}),qI(t,1)}};dI=function(t){if(t.tag===13){var e=Ha(t,134217728);if(e!==null){var n=Ei();yo(e,t,134217728,n)}qI(t,134217728)}};cF=function(t){if(t.tag===13){var e=uc(t),n=Ha(t,e);if(n!==null){var r=Ei();yo(n,t,e,r)}qI(t,e)}};uF=function(){return Ct};dF=function(t,e){var n=Ct;try{return Ct=t,e()}finally{Ct=n}};Qb=function(t,e,n){switch(e){case"input":if(qb(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=d1(r);if(!i)throw Error(ie(90));$j(r),qb(r,i)}}}break;case"textarea":zj(t,n);break;case"select":e=n.value,e!=null&&tf(t,!!n.multiple,e,!1)}};Xj=jI;Jj=cd;var XG={usingClientEntryPoint:!1,Events:[zy,Bh,d1,Yj,Qj,jI]},Qp={findFiberByHostInstance:ju,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JG={bundleType:Qp.bundleType,version:Qp.version,rendererPackageName:Qp.rendererPackageName,rendererConfig:Qp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ll.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tF(t),t===null?null:t.stateNode},findFiberByHostInstance:Qp.findFiberByHostInstance||YG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kv.isDisabled&&Kv.supportsFiber)try{a1=Kv.inject(JG),Ho=Kv}catch{}}xs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XG;xs.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!WI(e))throw Error(ie(200));return KG(t,e,null,n)};xs.createRoot=function(t,e){if(!WI(t))throw Error(ie(299));var n=!1,r="",i=O4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=$I(t,1,!1,null,null,n,!1,r,i),t[Wa]=e.current,Dg(t.nodeType===8?t.parentNode:t),new zI(e)};xs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ie(188)):(t=Object.keys(t).join(","),Error(ie(268,t)));return t=tF(e),t=t===null?null:t.stateNode,t};xs.flushSync=function(t){return cd(t)};xs.hydrate=function(t,e,n){if(!w1(e))throw Error(ie(200));return x1(null,t,e,!0,n)};xs.hydrateRoot=function(t,e,n){if(!WI(t))throw Error(ie(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=O4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=k4(e,null,t,1,n??null,i,!1,s,o),t[Wa]=e.current,Dg(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new _1(e)};xs.render=function(t,e,n){if(!w1(e))throw Error(ie(200));return x1(null,t,e,!1,n)};xs.unmountComponentAtNode=function(t){if(!w1(t))throw Error(ie(40));return t._reactRootContainer?(cd(function(){x1(null,null,t,!1,function(){t._reactRootContainer=null,t[Wa]=null})}),!0):!1};xs.unstable_batchedUpdates=jI;xs.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!w1(n))throw Error(ie(200));if(t==null||t._reactInternals===void 0)throw Error(ie(38));return x1(t,e,n,!1,r)};xs.version="18.3.1-next-f1338f8080-20240426";function D4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(D4)}catch(t){console.error(t)}}D4(),Dj.exports=xs;var cl=Dj.exports;const HI=By(cl);var L4,Zk=cl;L4=Zk.createRoot,Zk.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qg(){return qg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qg.apply(this,arguments)}var Yl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Yl||(Yl={}));const eO="popstate";function ZG(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=Vd(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),RT("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:tw(s))}function r(i,s){GI(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return tK(e,n,r,t)}function An(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function GI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eK(){return Math.random().toString(36).substr(2,8)}function tO(t,e){return{usr:t.state,key:t.key,idx:e}}function RT(t,e,n,r){return n===void 0&&(n=null),qg({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Vd(e):e,{state:n,key:e&&e.key||r||eK()})}function tw(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Vd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function tK(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Yl.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(qg({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Yl.Pop;let v=u(),y=v==null?null:v-c;c=v,l&&l({action:a,location:m.location,delta:y})}function h(v,y){a=Yl.Push;let w=RT(m.location,v,y);n&&n(w,v),c=u()+1;let E=tO(w,c),S=m.createHref(w);try{o.pushState(E,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(S)}s&&l&&l({action:a,location:m.location,delta:1})}function f(v,y){a=Yl.Replace;let w=RT(m.location,v,y);n&&n(w,v),c=u();let E=tO(w,c),S=m.createHref(w);o.replaceState(E,"",S),s&&l&&l({action:a,location:m.location,delta:0})}function g(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof v=="string"?v:tw(v);return w=w.replace(/ $/,"%20"),An(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let m={get action(){return a},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(eO,d),l=v,()=>{i.removeEventListener(eO,d),l=null}},createHref(v){return e(i,v)},createURL:g,encodeLocation(v){let y=g(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:f,go(v){return o.go(v)}};return m}var nO;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(nO||(nO={}));function nK(t,e,n){return n===void 0&&(n="/"),rK(t,e,n,!1)}function rK(t,e,n,r){let i=typeof e=="string"?Vd(e):e,s=Mf(i.pathname||"/",n);if(s==null)return null;let o=M4(t);iK(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=mK(s);a=fK(o[l],c,r)}return a}function M4(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(An(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=hc([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(An(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),M4(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:dK(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of V4(s.path))i(s,o,l)}),e}function V4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=V4(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function iK(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hK(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const sK=/^:[\w-]+$/,oK=3,aK=2,lK=1,cK=10,uK=-2,rO=t=>t==="*";function dK(t,e){let n=t.split("/"),r=n.length;return n.some(rO)&&(r+=uK),e&&(r+=aK),n.filter(i=>!rO(i)).reduce((i,s)=>i+(sK.test(s)?oK:s===""?lK:cK),r)}function hK(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function fK(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=nw({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=nw({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:hc([s,d.pathname]),pathnameBase:_K(hc([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=hc([s,d.pathnameBase]))}return o}function nw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=pK(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let m=a[d]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=a[d];return f&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function pK(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),GI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function mK(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return GI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Mf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function gK(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Vd(t):t;return{pathname:n?n.startsWith("/")?n:yK(n,e):e,search:wK(r),hash:xK(i)}}function yK(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function gE(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vK(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function j4(t,e){let n=vK(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function F4(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Vd(t):(i=qg({},t),An(!i.pathname||!i.pathname.includes("?"),gE("?","pathname","search",i)),An(!i.pathname||!i.pathname.includes("#"),gE("#","pathname","hash",i)),An(!i.search||!i.search.includes("#"),gE("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=gK(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const hc=t=>t.join("/").replace(/\/\/+/g,"/"),_K=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wK=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xK=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function EK(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const B4=["post","put","patch","delete"];new Set(B4);const bK=["get",...B4];new Set(bK);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zg(){return zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zg.apply(this,arguments)}const E1=x.createContext(null),U4=x.createContext(null),Wc=x.createContext(null),b1=x.createContext(null),ul=x.createContext({outlet:null,matches:[],isDataRoute:!1}),$4=x.createContext(null);function TK(t,e){let{relative:n}=e===void 0?{}:e;Hy()||An(!1);let{basename:r,navigator:i}=x.useContext(Wc),{hash:s,pathname:o,search:a}=T1(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:hc([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Hy(){return x.useContext(b1)!=null}function yp(){return Hy()||An(!1),x.useContext(b1).location}function q4(t){x.useContext(Wc).static||x.useLayoutEffect(t)}function Xs(){let{isDataRoute:t}=x.useContext(ul);return t?FK():SK()}function SK(){Hy()||An(!1);let t=x.useContext(E1),{basename:e,future:n,navigator:r}=x.useContext(Wc),{matches:i}=x.useContext(ul),{pathname:s}=yp(),o=JSON.stringify(j4(i,n.v7_relativeSplatPath)),a=x.useRef(!1);return q4(()=>{a.current=!0}),x.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=F4(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:hc([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}const AK=x.createContext(null);function IK(t){let e=x.useContext(ul).outlet;return e&&x.createElement(AK.Provider,{value:t},e)}function Hc(){let{matches:t}=x.useContext(ul),e=t[t.length-1];return e?e.params:{}}function T1(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=x.useContext(Wc),{matches:i}=x.useContext(ul),{pathname:s}=yp(),o=JSON.stringify(j4(i,r.v7_relativeSplatPath));return x.useMemo(()=>F4(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function CK(t,e){return RK(t,e)}function RK(t,e,n,r){Hy()||An(!1);let{navigator:i}=x.useContext(Wc),{matches:s}=x.useContext(ul),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=yp(),u;if(e){var d;let v=typeof e=="string"?Vd(e):e;l==="/"||(d=v.pathname)!=null&&d.startsWith(l)||An(!1),u=v}else u=c;let h=u.pathname||"/",f=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=nK(t,{pathname:f}),m=DK(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:hc([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:hc([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return e&&m?x.createElement(b1.Provider,{value:{location:zg({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Yl.Pop}},m):m}function PK(){let t=jK(),e=EK(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,null)}const NK=x.createElement(PK,null);class kK extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?x.createElement(ul.Provider,{value:this.props.routeContext},x.createElement($4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OK(t){let{routeContext:e,match:n,children:r}=t,i=x.useContext(E1);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(ul.Provider,{value:e},r)}function DK(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||An(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:f}=n,g=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let f,g=!1,m=null,v=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||NK,l&&(c<0&&h===0?(g=!0,v=null):c===h&&(g=!0,v=d.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,h+1)),w=()=>{let E;return f?E=m:g?E=v:d.route.Component?E=x.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=u,x.createElement(OK,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:E})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?x.createElement(kK,{location:n.location,revalidation:n.revalidation,component:m,error:f,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var z4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(z4||{}),rw=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(rw||{});function LK(t){let e=x.useContext(E1);return e||An(!1),e}function MK(t){let e=x.useContext(U4);return e||An(!1),e}function VK(t){let e=x.useContext(ul);return e||An(!1),e}function W4(t){let e=VK(),n=e.matches[e.matches.length-1];return n.route.id||An(!1),n.route.id}function jK(){var t;let e=x.useContext($4),n=MK(rw.UseRouteError),r=W4(rw.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function FK(){let{router:t}=LK(z4.UseNavigateStable),e=W4(rw.UseNavigateStable),n=x.useRef(!1);return q4(()=>{n.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,zg({fromRouteId:e},s)))},[t,e])}function BK(t){return IK(t.context)}function Zi(t){An(!1)}function UK(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Yl.Pop,navigator:s,static:o=!1,future:a}=t;Hy()&&An(!1);let l=e.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:l,navigator:s,static:o,future:zg({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Vd(r));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:g="default"}=r,m=x.useMemo(()=>{let v=Mf(u,l);return v==null?null:{location:{pathname:v,search:d,hash:h,state:f,key:g},navigationType:i}},[l,u,d,h,f,g,i]);return m==null?null:x.createElement(Wc.Provider,{value:c},x.createElement(b1.Provider,{children:n,value:m}))}function $K(t){let{children:e,location:n}=t;return CK(PT(e),n)}new Promise(()=>{});function PT(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(r,i)=>{if(!x.isValidElement(r))return;let s=[...e,i];if(r.type===x.Fragment){n.push.apply(n,PT(r.props.children,s));return}r.type!==Zi&&An(!1),!r.props.index||!r.props.children||An(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=PT(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iw(){return iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iw.apply(this,arguments)}function H4(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function qK(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function zK(t,e){return t.button===0&&(!e||e==="_self")&&!qK(t)}const WK=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],HK=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],GK="6";try{window.__reactRouterVersion=GK}catch{}const KK=x.createContext({isTransitioning:!1}),YK="startTransition",iO=kj[YK];function QK(t){let{basename:e,children:n,future:r,window:i}=t,s=x.useRef();s.current==null&&(s.current=ZG({window:i,v5Compat:!0}));let o=s.current,[a,l]=x.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=x.useCallback(d=>{c&&iO?iO(()=>l(d)):l(d)},[l,c]);return x.useLayoutEffect(()=>o.listen(u),[o,u]),x.createElement(UK,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const XK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JK=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ra=x.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=H4(e,WK),{basename:f}=x.useContext(Wc),g,m=!1;if(typeof c=="string"&&JK.test(c)&&(g=c,XK))try{let E=new URL(window.location.href),S=c.startsWith("//")?new URL(E.protocol+c):new URL(c),C=Mf(S.pathname,f);S.origin===E.origin&&C!=null?c=C+S.search+S.hash:m=!0}catch{}let v=TK(c,{relative:i}),y=eY(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function w(E){r&&r(E),E.defaultPrevented||y(E)}return x.createElement("a",iw({},h,{href:g||v,onClick:m||s?r:w,ref:n,target:l}))}),G4=x.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:c,children:u}=e,d=H4(e,HK),h=T1(l,{relative:d.relative}),f=yp(),g=x.useContext(U4),{navigator:m,basename:v}=x.useContext(Wc),y=g!=null&&tY(h)&&c===!0,w=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,E=f.pathname,S=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(E=E.toLowerCase(),S=S?S.toLowerCase():null,w=w.toLowerCase()),S&&v&&(S=Mf(S,v)||S);const C=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let N=E===w||!o&&E.startsWith(w)&&E.charAt(C)==="/",T=S!=null&&(S===w||!o&&S.startsWith(w)&&S.charAt(w.length)==="/"),A={isActive:N,isPending:T,isTransitioning:y},P=N?r:void 0,k;typeof s=="function"?k=s(A):k=[s,N?"active":null,T?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let M=typeof a=="function"?a(A):a;return x.createElement(ra,iw({},d,{"aria-current":P,className:k,ref:n,style:M,to:l,viewTransition:c}),typeof u=="function"?u(A):u)});var NT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(NT||(NT={}));var sO;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(sO||(sO={}));function ZK(t){let e=x.useContext(E1);return e||An(!1),e}function eY(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Xs(),c=yp(),u=T1(t,{relative:o});return x.useCallback(d=>{if(zK(d,n)){d.preventDefault();let h=r!==void 0?r:tw(c)===tw(u);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}function tY(t,e){e===void 0&&(e={});let n=x.useContext(KK);n==null&&An(!1);let{basename:r}=ZK(NT.useViewTransitionState),i=T1(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Mf(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Mf(n.nextLocation.pathname,r)||n.nextLocation.pathname;return nw(i.pathname,o)!=null||nw(i.pathname,s)!=null}const nY=ir.forwardRef(({Classname:t="",children:e,...n})=>_.jsx("div",{...n,className:` ${t} `,children:e}));var oO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},rY=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Y4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(K4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rY(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new iY;const h=s<<2|a>>4;if(r.push(h),c!==64){const f=a<<4&240|c>>2;if(r.push(f),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iY extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sY=function(t){const e=K4(t);return Y4.encodeByteArray(e,!0)},sw=function(t){return sY(t).replace(/\./g,"")},Q4=function(t){try{return Y4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ow(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!oY(n)||(t[n]=ow(t[n],e[n]));return t}function oY(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aY=()=>X4().__FIREBASE_DEFAULTS__,lY=()=>{if(typeof process>"u"||typeof oO>"u")return;const t=oO.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cY=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Q4(t[1]);return e&&JSON.parse(e)},S1=()=>{try{return aY()||lY()||cY()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uY=t=>{var e,n;return(n=(e=S1())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},J4=()=>{var t;return(t=S1())===null||t===void 0?void 0:t.config},Z4=t=>{var e;return(e=S1())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dY{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hY(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[sw(JSON.stringify(n)),sw(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fY(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ar())}function pY(){var t;const e=(t=S1())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mY(){return typeof window<"u"||e3()}function e3(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function gY(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yY(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vY(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _Y(){const t=ar();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function t3(){return!pY()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function n3(){try{return typeof indexedDB=="object"}catch{return!1}}function wY(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xY="FirebaseError";class fa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xY,Object.setPrototypeOf(this,fa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jd.prototype.create)}}class jd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?EY(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new fa(i,a,r)}}function EY(t,e){return t.replace(bY,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const bY=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function TY(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(lO(s)&&lO(o)){if(!Vf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lO(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ym(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function r3(t,e){const n=new SY(t,e);return n.subscribe.bind(n)}class SY{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");AY(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=yE),i.error===void 0&&(i.error=yE),i.complete===void 0&&(i.complete=yE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AY(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function yE(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t){return t&&t._delegate?t._delegate:t}class Ka{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IY=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new dY;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RY(e))try{this.getOrInitializeService({instanceIdentifier:Au})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Au){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Au){return this.instances.has(e)}getOptions(e=Au){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CY(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Au){return this.component?this.component.multipleInstances?e:Au:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function CY(t){return t===Au?void 0:t}function RY(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new IY(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=[];var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const s3={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},PY=Ze.INFO,NY={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},kY=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=NY[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class A1{constructor(e){this.name=e,this._logLevel=PY,this._logHandler=kY,this._userLogHandler=null,KI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?s3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}function OY(t){KI.forEach(e=>{e.setLogLevel(t)})}function DY(t,e){for(const n of KI){let r=null;e&&e.level&&(r=s3[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:Ze[s].toLowerCase(),message:a,args:o,type:i.name})}}}const LY=(t,e)=>e.some(n=>t instanceof n);let cO,uO;function MY(){return cO||(cO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VY(){return uO||(uO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o3=new WeakMap,kT=new WeakMap,a3=new WeakMap,vE=new WeakMap,YI=new WeakMap;function jY(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(fc(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&o3.set(n,t)}).catch(()=>{}),YI.set(e,t),e}function FY(t){if(kT.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});kT.set(t,e)}let OT={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kT.get(t);if(e==="objectStoreNames")return t.objectStoreNames||a3.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BY(t){OT=t(OT)}function UY(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(_E(this),e,...n);return a3.set(r,e.sort?e.sort():[e]),fc(r)}:VY().includes(t)?function(...e){return t.apply(_E(this),e),fc(o3.get(this))}:function(...e){return fc(t.apply(_E(this),e))}}function $Y(t){return typeof t=="function"?UY(t):(t instanceof IDBTransaction&&FY(t),LY(t,MY())?new Proxy(t,OT):t)}function fc(t){if(t instanceof IDBRequest)return jY(t);if(vE.has(t))return vE.get(t);const e=$Y(t);return e!==t&&(vE.set(t,e),YI.set(e,t)),e}const _E=t=>YI.get(t);function qY(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=fc(o);return r&&o.addEventListener("upgradeneeded",l=>{r(fc(o.result),l.oldVersion,l.newVersion,fc(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const zY=["get","getKey","getAll","getAllKeys","count"],WY=["put","add","delete","clear"],wE=new Map;function dO(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wE.get(e))return wE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=WY.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zY.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return wE.set(e,s),s}BY(t=>({...t,get:(e,n,r)=>dO(e,n)||t.get(e,n,r),has:(e,n)=>!!dO(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HY{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GY(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function GY(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const aw="@firebase/app",DT="0.10.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=new A1("@firebase/app"),KY="@firebase/app-compat",YY="@firebase/analytics-compat",QY="@firebase/analytics",XY="@firebase/app-check-compat",JY="@firebase/app-check",ZY="@firebase/auth",eQ="@firebase/auth-compat",tQ="@firebase/database",nQ="@firebase/data-connect",rQ="@firebase/database-compat",iQ="@firebase/functions",sQ="@firebase/functions-compat",oQ="@firebase/installations",aQ="@firebase/installations-compat",lQ="@firebase/messaging",cQ="@firebase/messaging-compat",uQ="@firebase/performance",dQ="@firebase/performance-compat",hQ="@firebase/remote-config",fQ="@firebase/remote-config-compat",pQ="@firebase/storage",mQ="@firebase/storage-compat",gQ="@firebase/firestore",yQ="@firebase/vertexai",vQ="@firebase/firestore-compat",_Q="firebase",wQ="11.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc="[DEFAULT]",xQ={[aw]:"fire-core",[KY]:"fire-core-compat",[QY]:"fire-analytics",[YY]:"fire-analytics-compat",[JY]:"fire-app-check",[XY]:"fire-app-check-compat",[ZY]:"fire-auth",[eQ]:"fire-auth-compat",[tQ]:"fire-rtdb",[nQ]:"fire-data-connect",[rQ]:"fire-rtdb-compat",[iQ]:"fire-fn",[sQ]:"fire-fn-compat",[oQ]:"fire-iid",[aQ]:"fire-iid-compat",[lQ]:"fire-fcm",[cQ]:"fire-fcm-compat",[uQ]:"fire-perf",[dQ]:"fire-perf-compat",[hQ]:"fire-rc",[fQ]:"fire-rc-compat",[pQ]:"fire-gcs",[mQ]:"fire-gcs-compat",[gQ]:"fire-fst",[vQ]:"fire-fst-compat",[yQ]:"fire-vertex","fire-js":"fire-js",[_Q]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=new Map,jf=new Map,Ff=new Map;function Wg(t,e){try{t.container.addComponent(e)}catch(n){Ya.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function l3(t,e){t.container.addOrOverwriteComponent(e)}function Sc(t){const e=t.name;if(Ff.has(e))return Ya.debug(`There were multiple attempts to register component ${e}.`),!1;Ff.set(e,t);for(const n of Tc.values())Wg(n,t);for(const n of jf.values())Wg(n,t);return!0}function I1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function EQ(t,e,n=bc){I1(t,e).clearInstance(n)}function c3(t){return t.options!==void 0}function Fs(t){return t.settings!==void 0}function bQ(){Ff.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TQ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new jd("app","Firebase",TQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u3=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ka("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SQ extends u3{constructor(e,n,r,i){const s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,o={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,o,i);else{const a=e;super(a.options,o,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},n),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,vo(aw,DT,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){XI(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Hs.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=wQ;function QI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:bc,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Hs.create("bad-app-name",{appName:String(i)});if(n||(n=J4()),!n)throw Hs.create("no-options");const s=Tc.get(i);if(s){if(Vf(n,s.options)&&Vf(r,s.config))return s;throw Hs.create("duplicate-app",{appName:i})}const o=new i3(i);for(const l of Ff.values())o.addComponent(l);const a=new u3(n,r,o);return Tc.set(i,a),a}function AQ(t,e){if(mY()&&!e3())throw Hs.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;c3(t)?n=t.options:n=t;const r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=c=>[...c].reduce((u,d)=>Math.imul(31,u)+d.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Hs.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(r)),o=jf.get(s);if(o)return o.incRefCount(e.releaseOnDeref),o;const a=new i3(s);for(const c of Ff.values())a.addComponent(c);const l=new SQ(n,e,s,a);return jf.set(s,l),l}function d3(t=bc){const e=Tc.get(t);if(!e&&t===bc&&J4())return QI();if(!e)throw Hs.create("no-app",{appName:t});return e}function IQ(){return Array.from(Tc.values())}async function XI(t){let e=!1;const n=t.name;Tc.has(n)?(e=!0,Tc.delete(n)):jf.has(n)&&t.decRefCount()<=0&&(jf.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function vo(t,e,n){var r;let i=(r=xQ[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ya.warn(a.join(" "));return}Sc(new Ka(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function h3(t,e){if(t!==null&&typeof t!="function")throw Hs.create("invalid-log-argument");DY(t,e)}function f3(t){OY(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CQ="firebase-heartbeat-database",RQ=1,Hg="firebase-heartbeat-store";let xE=null;function p3(){return xE||(xE=qY(CQ,RQ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hg)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hs.create("idb-open",{originalErrorMessage:t.message})})),xE}async function PQ(t){try{const n=(await p3()).transaction(Hg),r=await n.objectStore(Hg).get(m3(t));return await n.done,r}catch(e){if(e instanceof fa)Ya.warn(e.message);else{const n=Hs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ya.warn(n.message)}}}async function hO(t,e){try{const r=(await p3()).transaction(Hg,"readwrite");await r.objectStore(Hg).put(e,m3(t)),await r.done}catch(n){if(n instanceof fa)Ya.warn(n.message);else{const r=Hs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ya.warn(r.message)}}}function m3(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NQ=1024,kQ=30*24*60*60*1e3;class OQ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LQ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=fO();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=kQ}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ya.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=fO(),{heartbeatsToSend:r,unsentEntries:i}=DQ(this._heartbeatsCache.heartbeats),s=sw(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ya.warn(n),""}}}function fO(){return new Date().toISOString().substring(0,10)}function DQ(t,e=NQ){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),pO(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class LQ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return n3()?wY().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await PQ(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hO(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hO(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function pO(t){return sw(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MQ(t){Sc(new Ka("platform-logger",e=>new HY(e),"PRIVATE")),Sc(new Ka("heartbeat",e=>new OQ(e),"PRIVATE")),vo(aw,DT,t),vo(aw,DT,"esm2017"),vo("fire-js","")}MQ("");const VQ=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:fa,SDK_VERSION:Gc,_DEFAULT_ENTRY_NAME:bc,_addComponent:Wg,_addOrOverwriteComponent:l3,_apps:Tc,_clearComponents:bQ,_components:Ff,_getProvider:I1,_isFirebaseApp:c3,_isFirebaseServerApp:Fs,_registerComponent:Sc,_removeServiceInstance:EQ,_serverApps:jf,deleteApp:XI,getApp:d3,getApps:IQ,initializeApp:QI,initializeServerApp:AQ,onLog:h3,registerVersion:vo,setLogLevel:f3},Symbol.toStringTag,{value:"Module"}));var Yr=function(){return Yr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Yr.apply(this,arguments)};function vp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function g3(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function y3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jQ=y3,v3=new jd("auth","Firebase",y3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=new A1("@firebase/auth");function FQ(t,...e){lw.logLevel<=Ze.WARN&&lw.warn(`Auth (${Gc}): ${t}`,...e)}function Y0(t,...e){lw.logLevel<=Ze.ERROR&&lw.error(`Auth (${Gc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(t,...e){throw ZI(t,...e)}function _o(t,...e){return ZI(t,...e)}function JI(t,e,n){const r=Object.assign(Object.assign({},jQ()),{[e]:n});return new jd("auth","Firebase",r).create(e,{appName:t.name})}function Ba(t){return JI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function BQ(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qs(t,"argument-error"),JI(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ZI(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return v3.create(t,...e)}function Fe(t,e,...n){if(!t)throw ZI(e,...n)}function Oa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Y0(e),new Error(e)}function Qa(t,e){t||Oa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function UQ(){return mO()==="http:"||mO()==="https:"}function mO(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Q(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UQ()||yY()||"connection"in navigator)?navigator.onLine:!0}function qQ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qa(n>e,"Short delay should be less than long delay!"),this.isMobile=fY()||vY()}get(){return $Q()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(t,e){Qa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zQ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WQ=new Ky(3e4,6e4);function Kc(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Yc(t,e,n,r,i={}){return w3(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Gy(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return gY()||(c.referrerPolicy="no-referrer"),_3.fetch()(x3(t,t.config.apiHost,n,a),c)})}async function w3(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},zQ),e);try{const i=new GQ(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Yv(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yv(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Yv(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Yv(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw JI(t,u,c);Qs(t,u)}}catch(i){if(i instanceof fa)throw i;Qs(t,"network-request-failed",{message:String(i)})}}async function Yy(t,e,n,r,i={}){const s=await Yc(t,e,n,r,i);return"mfaPendingCredential"in s&&Qs(t,"multi-factor-auth-required",{_serverResponse:s}),s}function x3(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?eC(t.config,i):`${t.config.apiScheme}://${i}`}function HQ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GQ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_o(this.auth,"network-request-failed")),WQ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yv(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=_o(t,e,r);return i.customData._tokenResponse=n,i}function gO(t){return t!==void 0&&t.enterprise!==void 0}class KQ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HQ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function YQ(t,e){return Yc(t,"GET","/v2/recaptchaConfig",Kc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QQ(t,e){return Yc(t,"POST","/v1/accounts:delete",e)}async function E3(t,e){return Yc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XQ(t,e=!1){const n=Pt(t),r=await n.getIdToken(e),i=tC(r);Fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:zm(EE(i.auth_time)),issuedAtTime:zm(EE(i.iat)),expirationTime:zm(EE(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function EE(t){return Number(t)*1e3}function tC(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Y0("JWT malformed, contained fewer than 3 sections"),null;try{const i=Q4(n);return i?JSON.parse(i):(Y0("Failed to decode base64 JWT payload"),null)}catch(i){return Y0("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function yO(t){const e=tC(t);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gg(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof fa&&JQ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function JQ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZQ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zm(this.lastLoginAt),this.creationTime=zm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cw(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Gg(t,E3(n,{idToken:r}));Fe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?b3(s.providerUserInfo):[],a=tX(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new MT(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function eX(t){const e=Pt(t);await cw(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tX(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function b3(t){return t.map(e=>{var{providerId:n}=e,r=vp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nX(t,e){const n=await w3(t,{},async()=>{const r=Gy({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=x3(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",_3.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rX(t,e){return Yc(t,"POST","/v2/accounts:revokeToken",Kc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const n=yO(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await nX(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new lf;return r&&(Fe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Fe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Fe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lf,this.toJSON())}_performRefresh(){return Oa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(t,e){Fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Da{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=vp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new MT(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Gg(this,this.stsTokenManager.getToken(this.auth,e));return Fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return XQ(this,e)}reload(){return eX(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Da(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await cw(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fs(this.auth.app))return Promise.reject(Ba(this.auth));const e=await this.getIdToken();return await Gg(this,QQ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:E,emailVerified:S,isAnonymous:C,providerData:N,stsTokenManager:T}=n;Fe(E&&T,e,"internal-error");const A=lf.fromJSON(this.name,T);Fe(typeof E=="string",e,"internal-error"),bl(d,e.name),bl(h,e.name),Fe(typeof S=="boolean",e,"internal-error"),Fe(typeof C=="boolean",e,"internal-error"),bl(f,e.name),bl(g,e.name),bl(m,e.name),bl(v,e.name),bl(y,e.name),bl(w,e.name);const P=new Da({uid:E,auth:e,email:h,emailVerified:S,displayName:d,isAnonymous:C,photoURL:g,phoneNumber:f,tenantId:m,stsTokenManager:A,createdAt:y,lastLoginAt:w});return N&&Array.isArray(N)&&(P.providerData=N.map(k=>Object.assign({},k))),v&&(P._redirectEventId=v),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new lf;i.updateFromServerResponse(n);const s=new Da({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await cw(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Fe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?b3(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new lf;a.updateFromIdToken(r);const l=new Da({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new MT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=new Map;function La(t){Qa(t instanceof Function,"Expected a class definition");let e=vO.get(t);return e?(Qa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vO.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}T3.type="NONE";const _O=T3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(t,e,n){return`firebase:${t}:${e}:${n}`}class cf{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Q0(this.userKey,i.apiKey,s),this.fullPersistenceKey=Q0("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Da._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new cf(La(_O),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||La(_O);const o=Q0(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=Da._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new cf(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new cf(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(C3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(S3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(P3(e))return"Blackberry";if(N3(e))return"Webos";if(A3(e))return"Safari";if((e.includes("chrome/")||I3(e))&&!e.includes("edge/"))return"Chrome";if(R3(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function S3(t=ar()){return/firefox\//i.test(t)}function A3(t=ar()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function I3(t=ar()){return/crios\//i.test(t)}function C3(t=ar()){return/iemobile/i.test(t)}function R3(t=ar()){return/android/i.test(t)}function P3(t=ar()){return/blackberry/i.test(t)}function N3(t=ar()){return/webos/i.test(t)}function nC(t=ar()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function iX(t=ar()){var e;return nC(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sX(){return _Y()&&document.documentMode===10}function k3(t=ar()){return nC(t)||R3(t)||N3(t)||P3(t)||/windows phone/i.test(t)||C3(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(t,e=[]){let n;switch(t){case"Browser":n=wO(ar());break;case"Worker":n=`${wO(ar())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oX{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aX(t,e={}){return Yc(t,"GET","/v2/passwordPolicy",Kc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lX=6;class cX{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:lX,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uX{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xO(this),this.idTokenSubscription=new xO(this),this.beforeStateQueue=new oX(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=v3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=La(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await cf.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await E3(this,{idToken:e}),r=await Da._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Fs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cw(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qQ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fs(this.app))return Promise.reject(Ba(this));const n=e?Pt(e):null;return n&&Fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fs(this.app)?Promise.reject(Ba(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fs(this.app)?Promise.reject(Ba(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(La(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aX(this),n=new cX(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await rX(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&La(e)||this._popupRedirectResolver;Fe(n,this,"argument-error"),this.redirectPersistenceManager=await cf.create(this,[La(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=O3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&FQ(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Qc(t){return Pt(t)}class xO{constructor(e){this.auth=e,this.observer=null,this.addObserver=r3(n=>this.observer=n)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dX(t){C1=t}function D3(t){return C1.loadJS(t)}function hX(){return C1.recaptchaEnterpriseScript}function fX(){return C1.gapiScript}function pX(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class mX{constructor(){this.enterprise=new gX}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class gX{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const yX="recaptcha-enterprise",L3="NO_RECAPTCHA";class vX{constructor(e){this.type=yX,this.auth=Qc(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{YQ(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new KQ(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;gO(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(L3)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mX().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&gO(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=hX();l.length!==0&&(l+=a),D3(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function EO(t,e,n,r=!1,i=!1){const s=new vX(t);let o;if(i)o=L3;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function VT(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await EO(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await EO(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _X(t,e){const n=I1(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Vf(s,e??{}))return i;Qs(i,"already-initialized")}return n.initialize({options:e})}function wX(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(La);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function xX(t,e,n){const r=Qc(t);Fe(r._canInitEmulator,r,"emulator-config-failed"),Fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=M3(e),{host:o,port:a}=EX(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),bX()}function M3(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function EX(t){const e=M3(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:bO(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:bO(o)}}}function bO(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bX(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Oa("not implemented")}_getIdTokenResponse(e){return Oa("not implemented")}_linkToIdToken(e,n){return Oa("not implemented")}_getReauthenticationResolver(e){return Oa("not implemented")}}async function TX(t,e){return Yc(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SX(t,e){return Yy(t,"POST","/v1/accounts:signInWithPassword",Kc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AX(t,e){return Yy(t,"POST","/v1/accounts:signInWithEmailLink",Kc(t,e))}async function IX(t,e){return Yy(t,"POST","/v1/accounts:signInWithEmailLink",Kc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg extends rC{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Kg(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Kg(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return VT(e,n,"signInWithPassword",SX);case"emailLink":return AX(e,{email:this._email,oobCode:this._password});default:Qs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return VT(e,r,"signUpPassword",TX);case"emailLink":return IX(e,{idToken:n,email:this._email,oobCode:this._password});default:Qs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uf(t,e){return Yy(t,"POST","/v1/accounts:signInWithIdp",Kc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CX="http://localhost";class ud extends rC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ud(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=vp(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ud(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return uf(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,uf(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uf(e,n)}buildRequest(){const e={requestUri:CX,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Gy(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RX(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PX(t){const e=gm(ym(t)).link,n=e?gm(ym(e)).deep_link_id:null,r=gm(ym(t)).deep_link_id;return(r?gm(ym(r)).link:null)||r||n||e||t}class iC{constructor(e){var n,r,i,s,o,a;const l=gm(ym(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=RX((i=l.mode)!==null&&i!==void 0?i:null);Fe(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=PX(e);try{return new iC(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(){this.providerId=_p.PROVIDER_ID}static credential(e,n){return Kg._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=iC.parseLink(n);return Fe(r,"argument-error"),Kg._fromEmailAndCode(e,r.code,r.tenantId)}}_p.PROVIDER_ID="password";_p.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_p.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy extends sC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends Qy{constructor(){super("facebook.com")}static credential(e){return ud._fromParams({providerId:Ul.PROVIDER_ID,signInMethod:Ul.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ul.credentialFromTaggedObject(e)}static credentialFromError(e){return Ul.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ul.credential(e.oauthAccessToken)}catch{return null}}}Ul.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ul.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends Qy{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ud._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ra.credential(n,r)}catch{return null}}}Ra.GOOGLE_SIGN_IN_METHOD="google.com";Ra.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends Qy{constructor(){super("github.com")}static credential(e){return ud._fromParams({providerId:$l.PROVIDER_ID,signInMethod:$l.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $l.credentialFromTaggedObject(e)}static credentialFromError(e){return $l.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $l.credential(e.oauthAccessToken)}catch{return null}}}$l.GITHUB_SIGN_IN_METHOD="github.com";$l.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends Qy{constructor(){super("twitter.com")}static credential(e,n){return ud._fromParams({providerId:ql.PROVIDER_ID,signInMethod:ql.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ql.credentialFromTaggedObject(e)}static credentialFromError(e){return ql.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ql.credential(n,r)}catch{return null}}}ql.TWITTER_SIGN_IN_METHOD="twitter.com";ql.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NX(t,e){return Yy(t,"POST","/v1/accounts:signUp",Kc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Da._fromIdTokenResponse(e,r,i),o=TO(r);return new dd({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=TO(r);return new dd({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function TO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw extends fa{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,uw.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new uw(e,n,r,i)}}function V3(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?uw._fromErrorAndOperation(t,s,e,r):s})}async function kX(t,e,n=!1){const r=await Gg(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return dd._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OX(t,e,n=!1){const{auth:r}=t;if(Fs(r.app))return Promise.reject(Ba(r));const i="reauthenticate";try{const s=await Gg(t,V3(r,i,e,t),n);Fe(s.idToken,r,"internal-error");const o=tC(s.idToken);Fe(o,r,"internal-error");const{sub:a}=o;return Fe(t.uid===a,r,"user-mismatch"),dd._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Qs(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j3(t,e,n=!1){if(Fs(t.app))return Promise.reject(Ba(t));const r="signIn",i=await V3(t,r,e),s=await dd._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function DX(t,e){return j3(Qc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F3(t){const e=Qc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LX(t,e,n){if(Fs(t.app))return Promise.reject(Ba(t));const r=Qc(t),o=await VT(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",NX).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&F3(t),l}),a=await dd._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function MX(t,e,n){return Fs(t.app)?Promise.reject(Ba(t)):DX(Pt(t),_p.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&F3(t),r})}function VX(t,e,n,r){return Pt(t).onIdTokenChanged(e,n,r)}function jX(t,e,n){return Pt(t).beforeAuthStateChanged(e,n)}function FX(t){return Pt(t).signOut()}const dw="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dw,"1"),this.storage.removeItem(dw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BX=1e3,UX=10;class U3 extends B3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=k3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);sX()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,UX):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},BX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}U3.type="LOCAL";const $X=U3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3 extends B3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$3.type="SESSION";const q3=$3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qX(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new R1(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await qX(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}R1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zX{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=oC("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(){return window}function WX(t){Ko().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(){return typeof Ko().WorkerGlobalScope<"u"&&typeof Ko().importScripts=="function"}async function HX(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GX(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function KX(){return z3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3="firebaseLocalStorageDb",YX=1,hw="firebaseLocalStorage",H3="fbase_key";class Xy{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function P1(t,e){return t.transaction([hw],e?"readwrite":"readonly").objectStore(hw)}function QX(){const t=indexedDB.deleteDatabase(W3);return new Xy(t).toPromise()}function jT(){const t=indexedDB.open(W3,YX);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(hw,{keyPath:H3})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(hw)?e(r):(r.close(),await QX(),e(await jT()))})})}async function SO(t,e,n){const r=P1(t,!0).put({[H3]:e,value:n});return new Xy(r).toPromise()}async function XX(t,e){const n=P1(t,!1).get(e),r=await new Xy(n).toPromise();return r===void 0?null:r.value}function AO(t,e){const n=P1(t,!0).delete(e);return new Xy(n).toPromise()}const JX=800,ZX=3;class G3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jT(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ZX)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return z3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=R1._getInstance(KX()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await HX(),!this.activeServiceWorker)return;this.sender=new zX(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GX()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jT();return await SO(e,dw,"1"),await AO(e,dw),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>SO(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>XX(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>AO(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=P1(i,!1).getAll();return new Xy(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}G3.type="LOCAL";const eJ=G3;new Ky(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(t,e){return e?La(e):(Fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC extends rC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uf(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uf(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uf(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tJ(t){return j3(t.auth,new aC(t),t.bypassAuthState)}function nJ(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),OX(n,new aC(t),t.bypassAuthState)}async function rJ(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),kX(n,new aC(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tJ;case"linkViaPopup":case"linkViaRedirect":return rJ;case"reauthViaPopup":case"reauthViaRedirect":return nJ;default:Qs(this.auth,"internal-error")}}resolve(e){Qa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iJ=new Ky(2e3,1e4);async function sJ(t,e,n){if(Fs(t.app))return Promise.reject(_o(t,"operation-not-supported-in-this-environment"));const r=Qc(t);BQ(t,e,sC);const i=K3(r,n);return new Uu(r,"signInViaPopup",e,i).executeNotNull()}class Uu extends Y3{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Uu.currentPopupAction&&Uu.currentPopupAction.cancel(),Uu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){Qa(this.filter.length===1,"Popup operations only handle one event");const e=oC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_o(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_o(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_o(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iJ.get())};e()}}Uu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oJ="pendingRedirect",X0=new Map;class aJ extends Y3{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=X0.get(this.auth._key());if(!e){try{const r=await lJ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}X0.set(this.auth._key(),e)}return this.bypassAuthState||X0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lJ(t,e){const n=dJ(e),r=uJ(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function cJ(t,e){X0.set(t._key(),e)}function uJ(t){return La(t._redirectPersistence)}function dJ(t){return Q0(oJ,t.config.apiKey,t.name)}async function hJ(t,e,n=!1){if(Fs(t.app))return Promise.reject(Ba(t));const r=Qc(t),i=K3(r,e),o=await new aJ(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fJ=10*60*1e3;class pJ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mJ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Q3(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(_o(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fJ&&this.cachedEventUids.clear(),this.cachedEventUids.has(IO(e))}saveEventToCache(e){this.cachedEventUids.add(IO(e)),this.lastProcessedEventTime=Date.now()}}function IO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Q3({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function mJ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Q3(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gJ(t,e={}){return Yc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yJ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vJ=/^https?/;async function _J(t){if(t.config.emulator)return;const{authorizedDomains:e}=await gJ(t);for(const n of e)try{if(wJ(n))return}catch{}Qs(t,"unauthorized-domain")}function wJ(t){const e=LT(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!vJ.test(n))return!1;if(yJ.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xJ=new Ky(3e4,6e4);function CO(){const t=Ko().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function EJ(t){return new Promise((e,n)=>{var r,i,s;function o(){CO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CO(),n(_o(t,"network-request-failed"))},timeout:xJ.get()})}if(!((i=(r=Ko().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ko().gapi)===null||s===void 0)&&s.load)o();else{const a=pX("iframefcb");return Ko()[a]=()=>{gapi.load?o():n(_o(t,"network-request-failed"))},D3(`${fX()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw J0=null,e})}let J0=null;function bJ(t){return J0=J0||EJ(t),J0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TJ=new Ky(5e3,15e3),SJ="__/auth/iframe",AJ="emulator/auth/iframe",IJ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CJ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RJ(t){const e=t.config;Fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?eC(e,AJ):`https://${t.config.authDomain}/${SJ}`,r={apiKey:e.apiKey,appName:t.name,v:Gc},i=CJ.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Gy(r).slice(1)}`}async function PJ(t){const e=await bJ(t),n=Ko().gapi;return Fe(n,t,"internal-error"),e.open({where:document.body,url:RJ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IJ,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=_o(t,"network-request-failed"),a=Ko().setTimeout(()=>{s(o)},TJ.get());function l(){Ko().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NJ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kJ=500,OJ=600,DJ="_blank",LJ="http://localhost";let RO=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function MJ(t,e,n,r=kJ,i=OJ){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},NJ),{width:r.toString(),height:i.toString(),top:s,left:o}),c=ar().toLowerCase();n&&(a=I3(c)?DJ:n),S3(c)&&(e=e||LJ,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(iX(c)&&a!=="_self")return VJ(e||"",a),new RO(null);const d=window.open(e||"",a,u);Fe(d,t,"popup-blocked");try{d.focus()}catch{}return new RO(d)}function VJ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jJ="__/auth/handler",FJ="emulator/auth/handler",BJ=encodeURIComponent("fac");async function PO(t,e,n,r,i,s){Fe(t.config.authDomain,t,"auth-domain-config-required"),Fe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Gc,eventId:i};if(e instanceof sC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",TY(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof Qy){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${BJ}=${encodeURIComponent(l)}`:"";return`${UJ(t)}?${Gy(a).slice(1)}${c}`}function UJ({config:t}){return t.emulator?eC(t,FJ):`https://${t.authDomain}/${jJ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="webStorageSupport";class $J{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=q3,this._completeRedirectFn=hJ,this._overrideRedirectResult=cJ}async _openPopup(e,n,r,i){var s;Qa((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await PO(e,n,r,LT(),i);return MJ(e,o,oC())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await PO(e,n,r,LT(),i);return WX(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Qa(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await PJ(e),r=new pJ(e);return n.register("authEvent",i=>(Fe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bE,{type:bE},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[bE];o!==void 0&&n(!!o),Qs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_J(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return k3()||A3()||nC()}}const qJ=$J;var NO="@firebase/auth",kO="1.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zJ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WJ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HJ(t){Sc(new Ka("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Fe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:O3(t)},c=new uX(r,i,s,l);return wX(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Sc(new Ka("auth-internal",e=>{const n=Qc(e.getProvider("auth").getImmediate());return(r=>new zJ(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vo(NO,kO,WJ(t)),vo(NO,kO,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GJ=5*60,KJ=Z4("authIdTokenMaxAge")||GJ;let OO=null;const YJ=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>KJ)return;const i=n==null?void 0:n.token;OO!==i&&(OO=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function QJ(t=d3()){const e=I1(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_X(t,{popupRedirectResolver:qJ,persistence:[eJ,$X,q3]}),r=Z4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=YJ(s.toString());jX(n,o,()=>o(n.currentUser)),VX(n,a=>o(a))}}const i=uY("auth");return i&&xX(n,`http://${i}`),n}function XJ(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}dX({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=_o("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",XJ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HJ("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JJ{constructor(e,n){this._delegate=e,this.firebase=n,Wg(e,new Ka("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),XI(this._delegate)))}_getService(e,n=bc){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=bc){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Wg(this._delegate,e)}_addOrOverwriteComponent(e){l3(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZJ={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},DO=new jd("app-compat","Firebase",ZJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eZ(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:vo,setLogLevel:f3,onLog:h3,apps:null,SDK_VERSION:Gc,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:VQ}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(c){delete e[c]}function i(c){if(c=c||bc,!aO(e,c))throw DO.create("no-app",{appName:c});return e[c]}i.App=t;function s(c,u={}){const d=QI(c,u);if(aO(e,d.name))return e[d.name];const h=new t(d,n);return e[d.name]=h,h}function o(){return Object.keys(e).map(c=>e[c])}function a(c){const u=c.name,d=u.replace("-compat","");if(Sc(c)&&c.type==="PUBLIC"){const h=(f=i())=>{if(typeof f[d]!="function")throw DO.create("invalid-app-argument",{appName:u});return f[d]()};c.serviceProps!==void 0&&ow(h,c.serviceProps),n[d]=h,t.prototype[d]=function(...f){return this._getService.bind(this,u).apply(this,c.multipleInstances?f:[])}}return c.type==="PUBLIC"?n[d]:null}function l(c,u){return u==="serverAuth"?null:u}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(){const t=eZ(JJ);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:X3,extendNamespace:e,createSubscribe:r3,ErrorFactory:jd,deepExtend:ow});function e(n){ow(t,n)}return t}const tZ=X3();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=new A1("@firebase/app-compat"),nZ="@firebase/app-compat",rZ="0.2.44";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iZ(t){vo(nZ,rZ,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=X4();if(t.firebase!==void 0){LO.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&LO.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const wo=tZ;iZ();var sZ="firebase",oZ="11.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wo.registerVersion(sZ,oZ,"app-compat");var MO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yu,J3;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,A){function P(){}P.prototype=A.prototype,T.D=A.prototype,T.prototype=new P,T.prototype.constructor=T,T.C=function(k,M,O){for(var D=Array(arguments.length-2),U=2;U<arguments.length;U++)D[U-2]=arguments[U];return A.prototype[M].apply(k,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,A,P){P||(P=0);var k=Array(16);if(typeof A=="string")for(var M=0;16>M;++M)k[M]=A.charCodeAt(P++)|A.charCodeAt(P++)<<8|A.charCodeAt(P++)<<16|A.charCodeAt(P++)<<24;else for(M=0;16>M;++M)k[M]=A[P++]|A[P++]<<8|A[P++]<<16|A[P++]<<24;A=T.g[0],P=T.g[1],M=T.g[2];var O=T.g[3],D=A+(O^P&(M^O))+k[0]+3614090360&4294967295;A=P+(D<<7&4294967295|D>>>25),D=O+(M^A&(P^M))+k[1]+3905402710&4294967295,O=A+(D<<12&4294967295|D>>>20),D=M+(P^O&(A^P))+k[2]+606105819&4294967295,M=O+(D<<17&4294967295|D>>>15),D=P+(A^M&(O^A))+k[3]+3250441966&4294967295,P=M+(D<<22&4294967295|D>>>10),D=A+(O^P&(M^O))+k[4]+4118548399&4294967295,A=P+(D<<7&4294967295|D>>>25),D=O+(M^A&(P^M))+k[5]+1200080426&4294967295,O=A+(D<<12&4294967295|D>>>20),D=M+(P^O&(A^P))+k[6]+2821735955&4294967295,M=O+(D<<17&4294967295|D>>>15),D=P+(A^M&(O^A))+k[7]+4249261313&4294967295,P=M+(D<<22&4294967295|D>>>10),D=A+(O^P&(M^O))+k[8]+1770035416&4294967295,A=P+(D<<7&4294967295|D>>>25),D=O+(M^A&(P^M))+k[9]+2336552879&4294967295,O=A+(D<<12&4294967295|D>>>20),D=M+(P^O&(A^P))+k[10]+4294925233&4294967295,M=O+(D<<17&4294967295|D>>>15),D=P+(A^M&(O^A))+k[11]+2304563134&4294967295,P=M+(D<<22&4294967295|D>>>10),D=A+(O^P&(M^O))+k[12]+1804603682&4294967295,A=P+(D<<7&4294967295|D>>>25),D=O+(M^A&(P^M))+k[13]+4254626195&4294967295,O=A+(D<<12&4294967295|D>>>20),D=M+(P^O&(A^P))+k[14]+2792965006&4294967295,M=O+(D<<17&4294967295|D>>>15),D=P+(A^M&(O^A))+k[15]+1236535329&4294967295,P=M+(D<<22&4294967295|D>>>10),D=A+(M^O&(P^M))+k[1]+4129170786&4294967295,A=P+(D<<5&4294967295|D>>>27),D=O+(P^M&(A^P))+k[6]+3225465664&4294967295,O=A+(D<<9&4294967295|D>>>23),D=M+(A^P&(O^A))+k[11]+643717713&4294967295,M=O+(D<<14&4294967295|D>>>18),D=P+(O^A&(M^O))+k[0]+3921069994&4294967295,P=M+(D<<20&4294967295|D>>>12),D=A+(M^O&(P^M))+k[5]+3593408605&4294967295,A=P+(D<<5&4294967295|D>>>27),D=O+(P^M&(A^P))+k[10]+38016083&4294967295,O=A+(D<<9&4294967295|D>>>23),D=M+(A^P&(O^A))+k[15]+3634488961&4294967295,M=O+(D<<14&4294967295|D>>>18),D=P+(O^A&(M^O))+k[4]+3889429448&4294967295,P=M+(D<<20&4294967295|D>>>12),D=A+(M^O&(P^M))+k[9]+568446438&4294967295,A=P+(D<<5&4294967295|D>>>27),D=O+(P^M&(A^P))+k[14]+3275163606&4294967295,O=A+(D<<9&4294967295|D>>>23),D=M+(A^P&(O^A))+k[3]+4107603335&4294967295,M=O+(D<<14&4294967295|D>>>18),D=P+(O^A&(M^O))+k[8]+1163531501&4294967295,P=M+(D<<20&4294967295|D>>>12),D=A+(M^O&(P^M))+k[13]+2850285829&4294967295,A=P+(D<<5&4294967295|D>>>27),D=O+(P^M&(A^P))+k[2]+4243563512&4294967295,O=A+(D<<9&4294967295|D>>>23),D=M+(A^P&(O^A))+k[7]+1735328473&4294967295,M=O+(D<<14&4294967295|D>>>18),D=P+(O^A&(M^O))+k[12]+2368359562&4294967295,P=M+(D<<20&4294967295|D>>>12),D=A+(P^M^O)+k[5]+4294588738&4294967295,A=P+(D<<4&4294967295|D>>>28),D=O+(A^P^M)+k[8]+2272392833&4294967295,O=A+(D<<11&4294967295|D>>>21),D=M+(O^A^P)+k[11]+1839030562&4294967295,M=O+(D<<16&4294967295|D>>>16),D=P+(M^O^A)+k[14]+4259657740&4294967295,P=M+(D<<23&4294967295|D>>>9),D=A+(P^M^O)+k[1]+2763975236&4294967295,A=P+(D<<4&4294967295|D>>>28),D=O+(A^P^M)+k[4]+1272893353&4294967295,O=A+(D<<11&4294967295|D>>>21),D=M+(O^A^P)+k[7]+4139469664&4294967295,M=O+(D<<16&4294967295|D>>>16),D=P+(M^O^A)+k[10]+3200236656&4294967295,P=M+(D<<23&4294967295|D>>>9),D=A+(P^M^O)+k[13]+681279174&4294967295,A=P+(D<<4&4294967295|D>>>28),D=O+(A^P^M)+k[0]+3936430074&4294967295,O=A+(D<<11&4294967295|D>>>21),D=M+(O^A^P)+k[3]+3572445317&4294967295,M=O+(D<<16&4294967295|D>>>16),D=P+(M^O^A)+k[6]+76029189&4294967295,P=M+(D<<23&4294967295|D>>>9),D=A+(P^M^O)+k[9]+3654602809&4294967295,A=P+(D<<4&4294967295|D>>>28),D=O+(A^P^M)+k[12]+3873151461&4294967295,O=A+(D<<11&4294967295|D>>>21),D=M+(O^A^P)+k[15]+530742520&4294967295,M=O+(D<<16&4294967295|D>>>16),D=P+(M^O^A)+k[2]+3299628645&4294967295,P=M+(D<<23&4294967295|D>>>9),D=A+(M^(P|~O))+k[0]+4096336452&4294967295,A=P+(D<<6&4294967295|D>>>26),D=O+(P^(A|~M))+k[7]+1126891415&4294967295,O=A+(D<<10&4294967295|D>>>22),D=M+(A^(O|~P))+k[14]+2878612391&4294967295,M=O+(D<<15&4294967295|D>>>17),D=P+(O^(M|~A))+k[5]+4237533241&4294967295,P=M+(D<<21&4294967295|D>>>11),D=A+(M^(P|~O))+k[12]+1700485571&4294967295,A=P+(D<<6&4294967295|D>>>26),D=O+(P^(A|~M))+k[3]+2399980690&4294967295,O=A+(D<<10&4294967295|D>>>22),D=M+(A^(O|~P))+k[10]+4293915773&4294967295,M=O+(D<<15&4294967295|D>>>17),D=P+(O^(M|~A))+k[1]+2240044497&4294967295,P=M+(D<<21&4294967295|D>>>11),D=A+(M^(P|~O))+k[8]+1873313359&4294967295,A=P+(D<<6&4294967295|D>>>26),D=O+(P^(A|~M))+k[15]+4264355552&4294967295,O=A+(D<<10&4294967295|D>>>22),D=M+(A^(O|~P))+k[6]+2734768916&4294967295,M=O+(D<<15&4294967295|D>>>17),D=P+(O^(M|~A))+k[13]+1309151649&4294967295,P=M+(D<<21&4294967295|D>>>11),D=A+(M^(P|~O))+k[4]+4149444226&4294967295,A=P+(D<<6&4294967295|D>>>26),D=O+(P^(A|~M))+k[11]+3174756917&4294967295,O=A+(D<<10&4294967295|D>>>22),D=M+(A^(O|~P))+k[2]+718787259&4294967295,M=O+(D<<15&4294967295|D>>>17),D=P+(O^(M|~A))+k[9]+3951481745&4294967295,T.g[0]=T.g[0]+A&4294967295,T.g[1]=T.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,T.g[2]=T.g[2]+M&4294967295,T.g[3]=T.g[3]+O&4294967295}r.prototype.u=function(T,A){A===void 0&&(A=T.length);for(var P=A-this.blockSize,k=this.B,M=this.h,O=0;O<A;){if(M==0)for(;O<=P;)i(this,T,O),O+=this.blockSize;if(typeof T=="string"){for(;O<A;)if(k[M++]=T.charCodeAt(O++),M==this.blockSize){i(this,k),M=0;break}}else for(;O<A;)if(k[M++]=T[O++],M==this.blockSize){i(this,k),M=0;break}}this.h=M,this.o+=A},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var A=1;A<T.length-8;++A)T[A]=0;var P=8*this.o;for(A=T.length-8;A<T.length;++A)T[A]=P&255,P/=256;for(this.u(T),T=Array(16),A=P=0;4>A;++A)for(var k=0;32>k;k+=8)T[P++]=this.g[A]>>>k&255;return T};function s(T,A){var P=a;return Object.prototype.hasOwnProperty.call(P,T)?P[T]:P[T]=A(T)}function o(T,A){this.h=A;for(var P=[],k=!0,M=T.length-1;0<=M;M--){var O=T[M]|0;k&&O==A||(P[M]=O,k=!1)}this.g=P}var a={};function l(T){return-128<=T&&128>T?s(T,function(A){return new o([A|0],0>A?-1:0)}):new o([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return d;if(0>T)return v(c(-T));for(var A=[],P=1,k=0;T>=P;k++)A[k]=T/P|0,P*=4294967296;return new o(A,0)}function u(T,A){if(T.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(T.charAt(0)=="-")return v(u(T.substring(1),A));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(A,8)),k=d,M=0;M<T.length;M+=8){var O=Math.min(8,T.length-M),D=parseInt(T.substring(M,M+O),A);8>O?(O=c(Math.pow(A,O)),k=k.j(O).add(c(D))):(k=k.j(P),k=k.add(c(D)))}return k}var d=l(0),h=l(1),f=l(16777216);t=o.prototype,t.m=function(){if(m(this))return-v(this).m();for(var T=0,A=1,P=0;P<this.g.length;P++){var k=this.i(P);T+=(0<=k?k:4294967296+k)*A,A*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(g(this))return"0";if(m(this))return"-"+v(this).toString(T);for(var A=c(Math.pow(T,6)),P=this,k="";;){var M=S(P,A).g;P=y(P,M.j(A));var O=((0<P.g.length?P.g[0]:P.h)>>>0).toString(T);if(P=M,g(P))return O+k;for(;6>O.length;)O="0"+O;k=O+k}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function g(T){if(T.h!=0)return!1;for(var A=0;A<T.g.length;A++)if(T.g[A]!=0)return!1;return!0}function m(T){return T.h==-1}t.l=function(T){return T=y(this,T),m(T)?-1:g(T)?0:1};function v(T){for(var A=T.g.length,P=[],k=0;k<A;k++)P[k]=~T.g[k];return new o(P,~T.h).add(h)}t.abs=function(){return m(this)?v(this):this},t.add=function(T){for(var A=Math.max(this.g.length,T.g.length),P=[],k=0,M=0;M<=A;M++){var O=k+(this.i(M)&65535)+(T.i(M)&65535),D=(O>>>16)+(this.i(M)>>>16)+(T.i(M)>>>16);k=D>>>16,O&=65535,D&=65535,P[M]=D<<16|O}return new o(P,P[P.length-1]&-2147483648?-1:0)};function y(T,A){return T.add(v(A))}t.j=function(T){if(g(this)||g(T))return d;if(m(this))return m(T)?v(this).j(v(T)):v(v(this).j(T));if(m(T))return v(this.j(v(T)));if(0>this.l(f)&&0>T.l(f))return c(this.m()*T.m());for(var A=this.g.length+T.g.length,P=[],k=0;k<2*A;k++)P[k]=0;for(k=0;k<this.g.length;k++)for(var M=0;M<T.g.length;M++){var O=this.i(k)>>>16,D=this.i(k)&65535,U=T.i(M)>>>16,J=T.i(M)&65535;P[2*k+2*M]+=D*J,w(P,2*k+2*M),P[2*k+2*M+1]+=O*J,w(P,2*k+2*M+1),P[2*k+2*M+1]+=D*U,w(P,2*k+2*M+1),P[2*k+2*M+2]+=O*U,w(P,2*k+2*M+2)}for(k=0;k<A;k++)P[k]=P[2*k+1]<<16|P[2*k];for(k=A;k<2*A;k++)P[k]=0;return new o(P,0)};function w(T,A){for(;(T[A]&65535)!=T[A];)T[A+1]+=T[A]>>>16,T[A]&=65535,A++}function E(T,A){this.g=T,this.h=A}function S(T,A){if(g(A))throw Error("division by zero");if(g(T))return new E(d,d);if(m(T))return A=S(v(T),A),new E(v(A.g),v(A.h));if(m(A))return A=S(T,v(A)),new E(v(A.g),A.h);if(30<T.g.length){if(m(T)||m(A))throw Error("slowDivide_ only works with positive integers.");for(var P=h,k=A;0>=k.l(T);)P=C(P),k=C(k);var M=N(P,1),O=N(k,1);for(k=N(k,2),P=N(P,2);!g(k);){var D=O.add(k);0>=D.l(T)&&(M=M.add(P),O=D),k=N(k,1),P=N(P,1)}return A=y(T,M.j(A)),new E(M,A)}for(M=d;0<=T.l(A);){for(P=Math.max(1,Math.floor(T.m()/A.m())),k=Math.ceil(Math.log(P)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),O=c(P),D=O.j(A);m(D)||0<D.l(T);)P-=k,O=c(P),D=O.j(A);g(O)&&(O=h),M=M.add(O),T=y(T,D)}return new E(M,T)}t.A=function(T){return S(this,T).h},t.and=function(T){for(var A=Math.max(this.g.length,T.g.length),P=[],k=0;k<A;k++)P[k]=this.i(k)&T.i(k);return new o(P,this.h&T.h)},t.or=function(T){for(var A=Math.max(this.g.length,T.g.length),P=[],k=0;k<A;k++)P[k]=this.i(k)|T.i(k);return new o(P,this.h|T.h)},t.xor=function(T){for(var A=Math.max(this.g.length,T.g.length),P=[],k=0;k<A;k++)P[k]=this.i(k)^T.i(k);return new o(P,this.h^T.h)};function C(T){for(var A=T.g.length+1,P=[],k=0;k<A;k++)P[k]=T.i(k)<<1|T.i(k-1)>>>31;return new o(P,T.h)}function N(T,A){var P=A>>5;A%=32;for(var k=T.g.length-P,M=[],O=0;O<k;O++)M[O]=0<A?T.i(O+P)>>>A|T.i(O+P+1)<<32-A:T.i(O+P);return new o(M,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,J3=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Yu=o}).apply(typeof MO<"u"?MO:typeof self<"u"?self:typeof window<"u"?window:{});var Qv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Z3,vm,e5,Z0,FT,t5,n5,r5;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,b,R){return p==Array.prototype||p==Object.prototype||(p[b]=R.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qv=="object"&&Qv];for(var b=0;b<p.length;++b){var R=p[b];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function i(p,b){if(b)e:{var R=r;p=p.split(".");for(var V=0;V<p.length-1;V++){var q=p[V];if(!(q in R))break e;R=R[q]}p=p[p.length-1],V=R[p],b=b(V),b!=V&&b!=null&&e(R,p,{configurable:!0,writable:!0,value:b})}}function s(p,b){p instanceof String&&(p+="");var R=0,V=!1,q={next:function(){if(!V&&R<p.length){var K=R++;return{value:b(K,p[K]),done:!1}}return V=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}i("Array.prototype.values",function(p){return p||function(){return s(this,function(b,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(p){var b=typeof p;return b=b!="object"?b:p?Array.isArray(p)?"array":b:"null",b=="array"||b=="object"&&typeof p.length=="number"}function c(p){var b=typeof p;return b=="object"&&p!=null||b=="function"}function u(p,b,R){return p.call.apply(p.bind,arguments)}function d(p,b,R){if(!p)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,V),p.apply(b,q)}}return function(){return p.apply(b,arguments)}}function h(p,b,R){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,h.apply(null,arguments)}function f(p,b){var R=Array.prototype.slice.call(arguments,1);return function(){var V=R.slice();return V.push.apply(V,arguments),p.apply(this,V)}}function g(p,b){function R(){}R.prototype=b.prototype,p.aa=b.prototype,p.prototype=new R,p.prototype.constructor=p,p.Qb=function(V,q,K){for(var oe=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)oe[Ot-2]=arguments[Ot];return b.prototype[q].apply(V,oe)}}function m(p){const b=p.length;if(0<b){const R=Array(b);for(let V=0;V<b;V++)R[V]=p[V];return R}return[]}function v(p,b){for(let R=1;R<arguments.length;R++){const V=arguments[R];if(l(V)){const q=p.length||0,K=V.length||0;p.length=q+K;for(let oe=0;oe<K;oe++)p[q+oe]=V[oe]}else p.push(V)}}class y{constructor(b,R){this.i=b,this.j=R,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function w(p){return/^[\s\xa0]*$/.test(p)}function E(){var p=a.navigator;return p&&(p=p.userAgent)?p:""}function S(p){return S[" "](p),p}S[" "]=function(){};var C=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function N(p,b,R){for(const V in p)b.call(R,p[V],V,p)}function T(p,b){for(const R in p)b.call(void 0,p[R],R,p)}function A(p){const b={};for(const R in p)b[R]=p[R];return b}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(p,b){let R,V;for(let q=1;q<arguments.length;q++){V=arguments[q];for(R in V)p[R]=V[R];for(let K=0;K<P.length;K++)R=P[K],Object.prototype.hasOwnProperty.call(V,R)&&(p[R]=V[R])}}function M(p){var b=1;p=p.split(":");const R=[];for(;0<b&&p.length;)R.push(p.shift()),b--;return p.length&&R.push(p.join(":")),R}function O(p){a.setTimeout(()=>{throw p},0)}function D(){var p=W;let b=null;return p.g&&(b=p.g,p.g=p.g.next,p.g||(p.h=null),b.next=null),b}class U{constructor(){this.h=this.g=null}add(b,R){const V=J.get();V.set(b,R),this.h?this.h.next=V:this.g=V,this.h=V}}var J=new y(()=>new Q,p=>p.reset());class Q{constructor(){this.next=this.g=this.h=null}set(b,R){this.h=b,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let H,B=!1,W=new U,j=()=>{const p=a.Promise.resolve(void 0);H=()=>{p.then(ne)}};var ne=()=>{for(var p;p=D();){try{p.h.call(p.g)}catch(R){O(R)}var b=J;b.j(p),100>b.h&&(b.h++,p.next=b.g,b.g=p)}B=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(p,b){this.type=p,this.g=this.target=b,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var p=!1,b=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const R=()=>{};a.addEventListener("test",R,b),a.removeEventListener("test",R,b)}catch{}return p}();function me(p,b){if(he.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var R=this.type=p.type,V=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=b,b=p.relatedTarget){if(C){e:{try{S(b.nodeName);var q=!0;break e}catch{}q=!1}q||(b=null)}}else R=="mouseover"?b=p.fromElement:R=="mouseout"&&(b=p.toElement);this.relatedTarget=b,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Be[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&me.aa.h.call(this)}}g(me,he);var Be={2:"touch",3:"pen",4:"mouse"};me.prototype.h=function(){me.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),fe=0;function Le(p,b,R,V,q){this.listener=p,this.proxy=null,this.src=b,this.type=R,this.capture=!!V,this.ha=q,this.key=++fe,this.da=this.fa=!1}function Re(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function le(p){this.src=p,this.g={},this.h=0}le.prototype.add=function(p,b,R,V,q){var K=p.toString();p=this.g[K],p||(p=this.g[K]=[],this.h++);var oe=se(p,b,V,q);return-1<oe?(b=p[oe],R||(b.fa=!1)):(b=new Le(b,this.src,K,!!V,q),b.fa=R,p.push(b)),b};function Z(p,b){var R=b.type;if(R in p.g){var V=p.g[R],q=Array.prototype.indexOf.call(V,b,void 0),K;(K=0<=q)&&Array.prototype.splice.call(V,q,1),K&&(Re(b),p.g[R].length==0&&(delete p.g[R],p.h--))}}function se(p,b,R,V){for(var q=0;q<p.length;++q){var K=p[q];if(!K.da&&K.listener==b&&K.capture==!!R&&K.ha==V)return q}return-1}var we="closure_lm_"+(1e6*Math.random()|0),Ue={};function Ge(p,b,R,V,q){if(Array.isArray(b)){for(var K=0;K<b.length;K++)Ge(p,b[K],R,V,q);return null}return R=vt(R),p&&p[re]?p.K(b,R,c(V)?!!V.capture:!!V,q):z(p,b,R,!1,V,q)}function z(p,b,R,V,q,K){if(!b)throw Error("Invalid event type");var oe=c(q)?!!q.capture:!!q,Ot=Cn(p);if(Ot||(p[we]=Ot=new le(p)),R=Ot.add(b,R,V,oe,K),R.proxy)return R;if(V=St(),R.proxy=V,V.src=p,V.listener=R,p.addEventListener)Ee||(q=oe),q===void 0&&(q=!1),p.addEventListener(b.toString(),V,q);else if(p.attachEvent)p.attachEvent(Je(b.toString()),V);else if(p.addListener&&p.removeListener)p.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return R}function St(){function p(R){return b.call(p.src,p.listener,R)}const b=Fn;return p}function Et(p,b,R,V,q){if(Array.isArray(b))for(var K=0;K<b.length;K++)Et(p,b[K],R,V,q);else V=c(V)?!!V.capture:!!V,R=vt(R),p&&p[re]?(p=p.i,b=String(b).toString(),b in p.g&&(K=p.g[b],R=se(K,R,V,q),-1<R&&(Re(K[R]),Array.prototype.splice.call(K,R,1),K.length==0&&(delete p.g[b],p.h--)))):p&&(p=Cn(p))&&(b=p.g[b.toString()],p=-1,b&&(p=se(b,R,V,q)),(R=-1<p?b[p]:null)&&Nt(R))}function Nt(p){if(typeof p!="number"&&p&&!p.da){var b=p.src;if(b&&b[re])Z(b.i,p);else{var R=p.type,V=p.proxy;b.removeEventListener?b.removeEventListener(R,V,p.capture):b.detachEvent?b.detachEvent(Je(R),V):b.addListener&&b.removeListener&&b.removeListener(V),(R=Cn(b))?(Z(R,p),R.h==0&&(R.src=null,b[we]=null)):Re(p)}}}function Je(p){return p in Ue?Ue[p]:Ue[p]="on"+p}function Fn(p,b){if(p.da)p=!0;else{b=new me(b,this);var R=p.listener,V=p.ha||p.src;p.fa&&Nt(p),p=R.call(V,b)}return p}function Cn(p){return p=p[we],p instanceof le?p:null}var Wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function vt(p){return typeof p=="function"?p:(p[Wt]||(p[Wt]=function(b){return p.handleEvent(b)}),p[Wt])}function _t(){ue.call(this),this.i=new le(this),this.M=this,this.F=null}g(_t,ue),_t.prototype[re]=!0,_t.prototype.removeEventListener=function(p,b,R,V){Et(this,p,b,R,V)};function je(p,b){var R,V=p.F;if(V)for(R=[];V;V=V.F)R.push(V);if(p=p.M,V=b.type||b,typeof b=="string")b=new he(b,p);else if(b instanceof he)b.target=b.target||p;else{var q=b;b=new he(V,p),k(b,q)}if(q=!0,R)for(var K=R.length-1;0<=K;K--){var oe=b.g=R[K];q=Ht(oe,V,!0,b)&&q}if(oe=b.g=p,q=Ht(oe,V,!0,b)&&q,q=Ht(oe,V,!1,b)&&q,R)for(K=0;K<R.length;K++)oe=b.g=R[K],q=Ht(oe,V,!1,b)&&q}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var p=this.i,b;for(b in p.g){for(var R=p.g[b],V=0;V<R.length;V++)Re(R[V]);delete p.g[b],p.h--}}this.F=null},_t.prototype.K=function(p,b,R,V){return this.i.add(String(p),b,!1,R,V)},_t.prototype.L=function(p,b,R,V){return this.i.add(String(p),b,!0,R,V)};function Ht(p,b,R,V){if(b=p.i.g[String(b)],!b)return!0;b=b.concat();for(var q=!0,K=0;K<b.length;++K){var oe=b[K];if(oe&&!oe.da&&oe.capture==R){var Ot=oe.listener,Tr=oe.ha||oe.src;oe.fa&&Z(p.i,oe),q=Ot.call(Tr,V)!==!1&&q}}return q&&!V.defaultPrevented}function Gt(p,b,R){if(typeof p=="function")R&&(p=h(p,R));else if(p&&typeof p.handleEvent=="function")p=h(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:a.setTimeout(p,b||0)}function mt(p){p.g=Gt(()=>{p.g=null,p.i&&(p.i=!1,mt(p))},p.l);const b=p.h;p.h=null,p.m.apply(null,b)}class Lr extends ue{constructor(b,R){super(),this.m=b,this.l=R,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:mt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ot(p){ue.call(this),this.h=p,this.g={}}g(ot,ue);var Mr=[];function Bn(p){N(p.g,function(b,R){this.g.hasOwnProperty(R)&&Nt(b)},p),p.g={}}ot.prototype.N=function(){ot.aa.N.call(this),Bn(this)},ot.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jn=a.JSON.stringify,si=a.JSON.parse,Zn=class{stringify(p){return a.JSON.stringify(p,void 0)}parse(p){return a.JSON.parse(p,void 0)}};function Rn(){}Rn.prototype.h=null;function Oe(p){return p.h||(p.h=p.i())}function er(){}var Mt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vt(){he.call(this,"d")}g(Vt,he);function sn(){he.call(this,"c")}g(sn,he);var Kt={},ur=null;function wn(){return ur=ur||new _t}Kt.La="serverreachability";function Ri(p){he.call(this,Kt.La,p)}g(Ri,he);function Pe(p){const b=wn();je(b,new Ri(b))}Kt.STAT_EVENT="statevent";function Ne(p,b){he.call(this,Kt.STAT_EVENT,p),this.stat=b}g(Ne,he);function ke(p){const b=wn();je(b,new Ne(b,p))}Kt.Ma="timingevent";function ae(p,b){he.call(this,Kt.Ma,p),this.size=b}g(ae,he);function De(p,b){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){p()},b)}function be(){this.g=!0}be.prototype.xa=function(){this.g=!1};function Me(p,b,R,V,q,K){p.info(function(){if(p.g)if(K)for(var oe="",Ot=K.split("&"),Tr=0;Tr<Ot.length;Tr++){var gt=Ot[Tr].split("=");if(1<gt.length){var Fr=gt[0];gt=gt[1];var Br=Fr.split("_");oe=2<=Br.length&&Br[1]=="type"?oe+(Fr+"="+gt+"&"):oe+(Fr+"=redacted&")}}else oe=null;else oe=K;return"XMLHTTP REQ ("+V+") [attempt "+q+"]: "+b+`
`+R+`
`+oe})}function jt(p,b,R,V,q,K,oe){p.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+q+"]: "+b+`
`+R+`
`+K+" "+oe})}function Se(p,b,R,V){p.info(function(){return"XMLHTTP TEXT ("+b+"): "+xn(p,R)+(V?" "+V:"")})}function kt(p,b){p.info(function(){return"TIMEOUT: "+b})}be.prototype.info=function(){};function xn(p,b){if(!p.g)return b;if(!b)return null;try{var R=JSON.parse(b);if(R){for(p=0;p<R.length;p++)if(Array.isArray(R[p])){var V=R[p];if(!(2>V.length)){var q=V[1];if(Array.isArray(q)&&!(1>q.length)){var K=q[0];if(K!="noop"&&K!="stop"&&K!="close")for(var oe=1;oe<q.length;oe++)q[oe]=""}}}}return Jn(R)}catch{return b}}var wt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},at;function ht(){}g(ht,Rn),ht.prototype.g=function(){return new XMLHttpRequest},ht.prototype.i=function(){return{}},at=new ht;function tt(p,b,R,V){this.j=p,this.i=b,this.l=R,this.R=V||1,this.U=new ot(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Un}function Un(){this.i=null,this.g="",this.h=!1}var xr={},Yt={};function Qt(p,b,R){p.L=1,p.v=Ts(Ki(b)),p.m=R,p.P=!0,ut(p,null)}function ut(p,b){p.F=Date.now(),Xt(p),p.A=Ki(p.v);var R=p.A,V=p.R;Array.isArray(V)||(V=[String(V)]),pu(R.i,"t",V),p.C=0,R=p.j.J,p.h=new Un,p.g=UN(p.j,R?b:null,!p.m),0<p.O&&(p.M=new Lr(h(p.Y,p,p.g),p.O)),b=p.U,R=p.g,V=p.ca;var q="readystatechange";Array.isArray(q)||(q&&(Mr[0]=q.toString()),q=Mr);for(var K=0;K<q.length;K++){var oe=Ge(R,q[K],V||b.handleEvent,!1,b.h||b);if(!oe)break;b.g[oe.key]=oe}b=p.H?A(p.H):{},p.m?(p.u||(p.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,b)):(p.u="GET",p.g.ea(p.A,p.u,null,b)),Pe(),Me(p.i,p.u,p.A,p.l,p.R,p.m)}tt.prototype.ca=function(p){p=p.target;const b=this.M;b&&Bt(p)==3?b.j():this.Y(p)},tt.prototype.Y=function(p){try{if(p==this.g)e:{const Br=Bt(this.g);var b=this.g.Ba();const sh=this.g.Z();if(!(3>Br)&&(Br!=3||this.g&&(this.h.h||this.g.oa()||br(this.g)))){this.J||Br!=4||b==7||(b==8||0>=sh?Pe(3):Pe(2)),dr(this);var R=this.g.Z();this.X=R;t:if(Pi(this)){var V=br(this.g);p="";var q=V.length,K=Bt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){oi(this),Vr(this);var oe="";break t}this.h.i=new a.TextDecoder}for(b=0;b<q;b++)this.h.h=!0,p+=this.h.i.decode(V[b],{stream:!(K&&b==q-1)});V.length=0,this.h.g+=p,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=R==200,jt(this.i,this.u,this.A,this.l,this.R,Br,R),this.o){if(this.T&&!this.K){t:{if(this.g){var Ot,Tr=this.g;if((Ot=Tr.g?Tr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Ot)){var gt=Ot;break t}}gt=null}if(R=gt)Se(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jr(this,R);else{this.o=!1,this.s=3,ke(12),oi(this),Vr(this);break e}}if(this.P){R=!0;let no;for(;!this.J&&this.C<oe.length;)if(no=ko(this,oe),no==Yt){Br==4&&(this.s=4,ke(14),R=!1),Se(this.i,this.l,null,"[Incomplete Response]");break}else if(no==xr){this.s=4,ke(15),Se(this.i,this.l,oe,"[Invalid Chunk]"),R=!1;break}else Se(this.i,this.l,no,null),jr(this,no);if(Pi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Br!=4||oe.length!=0||this.h.h||(this.s=1,ke(16),R=!1),this.o=this.o&&R,!R)Se(this.i,this.l,oe,"[Invalid Chunked Response]"),oi(this),Vr(this);else if(0<oe.length&&!this.W){this.W=!0;var Fr=this.j;Fr.g==this&&Fr.ba&&!Fr.M&&(Fr.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),$x(Fr),Fr.M=!0,ke(11))}}else Se(this.i,this.l,oe,null),jr(this,oe);Br==4&&oi(this),this.o&&!this.J&&(Br==4?VN(this.j,this):(this.o=!1,Xt(this)))}else Pn(this.g),R==400&&0<oe.indexOf("Unknown SID")?(this.s=3,ke(12)):(this.s=0,ke(13)),oi(this),Vr(this)}}}catch{}finally{}};function Pi(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function ko(p,b){var R=p.C,V=b.indexOf(`
`,R);return V==-1?Yt:(R=Number(b.substring(R,V)),isNaN(R)?xr:(V+=1,V+R>b.length?Yt:(b=b.slice(V,V+R),p.C=V+R,b)))}tt.prototype.cancel=function(){this.J=!0,oi(this)};function Xt(p){p.S=Date.now()+p.I,Ft(p,p.I)}function Ft(p,b){if(p.B!=null)throw Error("WatchDog timer not null");p.B=De(h(p.ba,p),b)}function dr(p){p.B&&(a.clearTimeout(p.B),p.B=null)}tt.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(kt(this.i,this.A),this.L!=2&&(Pe(),ke(17)),oi(this),this.s=2,Vr(this)):Ft(this,this.S-p)};function Vr(p){p.j.G==0||p.J||VN(p.j,p)}function oi(p){dr(p);var b=p.M;b&&typeof b.ma=="function"&&b.ma(),p.M=null,Bn(p.U),p.g&&(b=p.g,p.g=null,b.abort(),b.ma())}function jr(p,b){try{var R=p.j;if(R.G!=0&&(R.g==p||lu(R.h,p))){if(!p.K&&lu(R.h,p)&&R.G==3){try{var V=R.Da.g.parse(b)}catch{V=null}if(Array.isArray(V)&&V.length==3){var q=V;if(q[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<p.F)Rv(R),ki(R);else break e;Ux(R),ke(18)}}else R.za=q[1],0<R.za-R.T&&37500>q[2]&&R.F&&R.v==0&&!R.C&&(R.C=De(h(R.Za,R),6e3));if(1>=ai(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else _u(R,11)}else if((p.K||R.g==p)&&Rv(R),!w(b))for(q=R.Da.g.parse(b),b=0;b<q.length;b++){let gt=q[b];if(R.T=gt[0],gt=gt[1],R.G==2)if(gt[0]=="c"){R.K=gt[1],R.ia=gt[2];const Fr=gt[3];Fr!=null&&(R.la=Fr,R.j.info("VER="+R.la));const Br=gt[4];Br!=null&&(R.Aa=Br,R.j.info("SVER="+R.Aa));const sh=gt[5];sh!=null&&typeof sh=="number"&&0<sh&&(V=1.5*sh,R.L=V,R.j.info("backChannelRequestTimeoutMs_="+V)),V=R;const no=p.g;if(no){const Nv=no.g?no.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nv){var K=V.h;K.g||Nv.indexOf("spdy")==-1&&Nv.indexOf("quic")==-1&&Nv.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(cu(K,K.h),K.h=null))}if(V.D){const qx=no.g?no.g.getResponseHeader("X-HTTP-Session-Id"):null;qx&&(V.ya=qx,At(V.I,V.D,qx))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-p.F,R.j.info("Handshake RTT: "+R.R+"ms")),V=R;var oe=p;if(V.qa=BN(V,V.J?V.ia:null,V.W),oe.K){Zd(V.h,oe);var Ot=oe,Tr=V.L;Tr&&(Ot.I=Tr),Ot.B&&(dr(Ot),Xt(Ot)),V.g=oe}else LN(V);0<R.i.length&&yu(R)}else gt[0]!="stop"&&gt[0]!="close"||_u(R,7);else R.G==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?_u(R,7):As(R):gt[0]!="noop"&&R.l&&R.l.ta(gt),R.v=0)}}Pe(4)}catch{}}var dn=class{constructor(p,b){this.g=p,this.map=b}};function Ni(p){this.l=p||10,a.PerformanceNavigationTiming?(p=a.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zs(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function ai(p){return p.h?1:p.g?p.g.size:0}function lu(p,b){return p.h?p.h==b:p.g?p.g.has(b):!1}function cu(p,b){p.g?p.g.add(b):p.h=b}function Zd(p,b){p.h&&p.h==b?p.h=null:p.g&&p.g.has(b)&&p.g.delete(b)}Ni.prototype.cancel=function(){if(this.i=ya(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function ya(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let b=p.i;for(const R of p.g.values())b=b.concat(R.D);return b}return m(p.i)}function uu(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(l(p)){for(var b=[],R=p.length,V=0;V<R;V++)b.push(p[V]);return b}b=[],R=0;for(V in p)b[R++]=p[V];return b}function va(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(l(p)||typeof p=="string"){var b=[];p=p.length;for(var R=0;R<p;R++)b.push(R);return b}b=[],R=0;for(const V in p)b[R++]=V;return b}}}function du(p,b){if(p.forEach&&typeof p.forEach=="function")p.forEach(b,void 0);else if(l(p)||typeof p=="string")Array.prototype.forEach.call(p,b,void 0);else for(var R=va(p),V=uu(p),q=V.length,K=0;K<q;K++)b.call(void 0,V[K],R&&R[K],p)}var hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vp(p,b){if(p){p=p.split("&");for(var R=0;R<p.length;R++){var V=p[R].indexOf("="),q=null;if(0<=V){var K=p[R].substring(0,V);q=p[R].substring(V+1)}else K=p[R];b(K,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function eo(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof eo){this.h=p.h,_l(this,p.j),this.o=p.o,this.g=p.g,Oo(this,p.s),this.l=p.l;var b=p.i,R=new _a;R.i=b.i,b.g&&(R.g=new Map(b.g),R.h=b.h),eh(this,R),this.m=p.m}else p&&(b=String(p).match(hu))?(this.h=!1,_l(this,b[1]||"",!0),this.o=Er(b[2]||""),this.g=Er(b[3]||"",!0),Oo(this,b[4]),this.l=Er(b[5]||"",!0),eh(this,b[6]||"",!0),this.m=Er(b[7]||"")):(this.h=!1,this.i=new _a(null,this.h))}eo.prototype.toString=function(){var p=[],b=this.j;b&&p.push(li(b,th,!0),":");var R=this.g;return(R||b=="file")&&(p.push("//"),(b=this.o)&&p.push(li(b,th,!0),"@"),p.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&p.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&p.push("/"),p.push(li(R,R.charAt(0)=="/"?jp:Ss,!0))),(R=this.i.toString())&&p.push("?",R),(R=this.m)&&p.push("#",li(R,Bp)),p.join("")};function Ki(p){return new eo(p)}function _l(p,b,R){p.j=R?Er(b,!0):b,p.j&&(p.j=p.j.replace(/:$/,""))}function Oo(p,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);p.s=b}else p.s=null}function eh(p,b,R){b instanceof _a?(p.i=b,mu(p.i,p.h)):(R||(b=li(b,Fp)),p.i=new _a(b,p.h))}function At(p,b,R){p.i.set(b,R)}function Ts(p){return At(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Er(p,b){return p?b?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function li(p,b,R){return typeof p=="string"?(p=encodeURI(p).replace(b,to),R&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function to(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var th=/[#\/\?@]/g,Ss=/[#\?:]/g,jp=/[#\?]/g,Fp=/[#\?@]/g,Bp=/#/g;function _a(p,b){this.h=this.g=null,this.i=p||null,this.j=!!b}function Yi(p){p.g||(p.g=new Map,p.h=0,p.i&&Vp(p.i,function(b,R){p.add(decodeURIComponent(b.replace(/\+/g," ")),R)}))}t=_a.prototype,t.add=function(p,b){Yi(this),this.i=null,p=Qi(this,p);var R=this.g.get(p);return R||this.g.set(p,R=[]),R.push(b),this.h+=1,this};function hr(p,b){Yi(p),b=Qi(p,b),p.g.has(b)&&(p.i=null,p.h-=p.g.get(b).length,p.g.delete(b))}function fu(p,b){return Yi(p),b=Qi(p,b),p.g.has(b)}t.forEach=function(p,b){Yi(this),this.g.forEach(function(R,V){R.forEach(function(q){p.call(b,q,V,this)},this)},this)},t.na=function(){Yi(this);const p=Array.from(this.g.values()),b=Array.from(this.g.keys()),R=[];for(let V=0;V<b.length;V++){const q=p[V];for(let K=0;K<q.length;K++)R.push(b[V])}return R},t.V=function(p){Yi(this);let b=[];if(typeof p=="string")fu(this,p)&&(b=b.concat(this.g.get(Qi(this,p))));else{p=Array.from(this.g.values());for(let R=0;R<p.length;R++)b=b.concat(p[R])}return b},t.set=function(p,b){return Yi(this),this.i=null,p=Qi(this,p),fu(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[b]),this.h+=1,this},t.get=function(p,b){return p?(p=this.V(p),0<p.length?String(p[0]):b):b};function pu(p,b,R){hr(p,b),0<R.length&&(p.i=null,p.g.set(Qi(p,b),m(R)),p.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],b=Array.from(this.g.keys());for(var R=0;R<b.length;R++){var V=b[R];const K=encodeURIComponent(String(V)),oe=this.V(V);for(V=0;V<oe.length;V++){var q=K;oe[V]!==""&&(q+="="+encodeURIComponent(String(oe[V]))),p.push(q)}}return this.i=p.join("&")};function Qi(p,b){return b=String(b),p.j&&(b=b.toLowerCase()),b}function mu(p,b){b&&!p.j&&(Yi(p),p.i=null,p.g.forEach(function(R,V){var q=V.toLowerCase();V!=q&&(hr(this,V),pu(this,q,R))},p)),p.j=b}function wl(p,b){const R=new be;if(a.Image){const V=new Image;V.onload=f(Xi,R,"TestLoadImage: loaded",!0,b,V),V.onerror=f(Xi,R,"TestLoadImage: error",!1,b,V),V.onabort=f(Xi,R,"TestLoadImage: abort",!1,b,V),V.ontimeout=f(Xi,R,"TestLoadImage: timeout",!1,b,V),a.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=p}else b(!1)}function Up(p,b){const R=new be,V=new AbortController,q=setTimeout(()=>{V.abort(),Xi(R,"TestPingServer: timeout",!1,b)},1e4);fetch(p,{signal:V.signal}).then(K=>{clearTimeout(q),K.ok?Xi(R,"TestPingServer: ok",!0,b):Xi(R,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(q),Xi(R,"TestPingServer: error",!1,b)})}function Xi(p,b,R,V,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),V(R)}catch{}}function gu(){this.g=new Zn}function nh(p,b,R){const V=R||"";try{du(p,function(q,K){let oe=q;c(q)&&(oe=Jn(q)),b.push(V+K+"="+encodeURIComponent(oe))})}catch(q){throw b.push(V+"type="+encodeURIComponent("_badmap")),q}}function ci(p){this.l=p.Ub||null,this.j=p.eb||!1}g(ci,Rn),ci.prototype.g=function(){return new wa(this.l,this.j)},ci.prototype.i=function(p){return function(){return p}}({});function wa(p,b){_t.call(this),this.D=p,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(wa,_t),t=wa.prototype,t.open=function(p,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=b,this.readyState=1,Ea(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(b.body=p),(this.D||a).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xa(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Ea(this)),this.g&&(this.readyState=3,Ea(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xl(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function xl(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var b=p.value?p.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!p.done}))&&(this.response=this.responseText+=b)}p.done?xa(this):Ea(this),this.readyState==3&&xl(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,xa(this))},t.Qa=function(p){this.g&&(this.response=p,xa(this))},t.ga=function(){this.g&&xa(this)};function xa(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Ea(p)}t.setRequestHeader=function(p,b){this.u.append(p,b)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],b=this.h.entries();for(var R=b.next();!R.done;)R=R.value,p.push(R[0]+": "+R[1]),R=b.next();return p.join(`\r
`)};function Ea(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(wa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function I(p){let b="";return N(p,function(R,V){b+=V,b+=":",b+=R,b+=`\r
`}),b}function L(p,b,R){e:{for(V in R){var V=!1;break e}V=!0}V||(R=I(R),typeof p=="string"?R!=null&&encodeURIComponent(String(R)):At(p,b,R))}function F(p){_t.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(F,_t);var Y=/^https?$/i,$e=["POST","PUT"];t=F.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,b,R,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);b=b?b.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():at.g(),this.v=this.o?Oe(this.o):Oe(at),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(b,String(p),!0),this.B=!1}catch(K){Ie(this,K);return}if(p=R||"",R=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var q in V)R.set(q,V[q]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const K of V.keys())R.set(K,V.get(K));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(R.keys()).find(K=>K.toLowerCase()=="content-type"),q=a.FormData&&p instanceof a.FormData,!(0<=Array.prototype.indexOf.call($e,b,void 0))||V||q||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,oe]of R)this.g.setRequestHeader(K,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ft(this),this.u=!0,this.g.send(p),this.u=!1}catch(K){Ie(this,K)}};function Ie(p,b){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=b,p.m=5,lt(p),Jt(p)}function lt(p){p.A||(p.A=!0,je(p,"complete"),je(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,je(this,"complete"),je(this,"abort"),Jt(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jt(this,!0)),F.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?nt(this):this.bb())},t.bb=function(){nt(this)};function nt(p){if(p.h&&typeof o<"u"&&(!p.v[1]||Bt(p)!=4||p.Z()!=2)){if(p.u&&Bt(p)==4)Gt(p.Ea,0,p);else if(je(p,"readystatechange"),Bt(p)==4){p.h=!1;try{const oe=p.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var R;if(!(R=b)){var V;if(V=oe===0){var q=String(p.D).match(hu)[1]||null;!q&&a.self&&a.self.location&&(q=a.self.location.protocol.slice(0,-1)),V=!Y.test(q?q.toLowerCase():"")}R=V}if(R)je(p,"complete"),je(p,"success");else{p.m=6;try{var K=2<Bt(p)?p.g.statusText:""}catch{K=""}p.l=K+" ["+p.Z()+"]",lt(p)}}finally{Jt(p)}}}}function Jt(p,b){if(p.g){ft(p);const R=p.g,V=p.v[0]?()=>{}:null;p.g=null,p.v=null,b||je(p,"ready");try{R.onreadystatechange=V}catch{}}}function ft(p){p.I&&(a.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function Bt(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<Bt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var b=this.g.responseText;return p&&b.indexOf(p)==0&&(b=b.substring(p.length)),si(b)}};function br(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Pn(p){const b={};p=(p.g&&2<=Bt(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<p.length;V++){if(w(p[V]))continue;var R=M(p[V]);const q=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const K=b[q]||[];b[q]=K,K.push(R)}T(b,function(V){return V.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function En(p,b,R){return R&&R.internalChannelParams&&R.internalChannelParams[p]||b}function $n(p){this.Aa=0,this.i=[],this.j=new be,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=En("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=En("baseRetryDelayMs",5e3,p),this.cb=En("retryDelaySeedMs",1e4,p),this.Wa=En("forwardChannelMaxRetries",2,p),this.wa=En("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Ni(p&&p.concurrentRequestLimit),this.Da=new gu,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=$n.prototype,t.la=8,t.G=1,t.connect=function(p,b,R,V){ke(0),this.W=p,this.H=b||{},R&&V!==void 0&&(this.H.OSID=R,this.H.OAID=V),this.F=this.X,this.I=BN(this,null,this.W),yu(this)};function As(p){if(Do(p),p.G==3){var b=p.U++,R=Ki(p.I);if(At(R,"SID",p.K),At(R,"RID",b),At(R,"TYPE","terminate"),$p(p,R),b=new tt(p,p.j,b),b.L=2,b.v=Ts(Ki(R)),R=!1,a.navigator&&a.navigator.sendBeacon)try{R=a.navigator.sendBeacon(b.v.toString(),"")}catch{}!R&&a.Image&&(new Image().src=b.v,R=!0),R||(b.g=UN(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Xt(b)}FN(p)}function ki(p){p.g&&($x(p),p.g.cancel(),p.g=null)}function Do(p){ki(p),p.u&&(a.clearTimeout(p.u),p.u=null),Rv(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&a.clearTimeout(p.s),p.s=null)}function yu(p){if(!Zs(p.h)&&!p.s){p.s=!0;var b=p.Ga;H||j(),B||(H(),B=!0),W.add(b,p),p.B=0}}function rh(p,b){return ai(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=b.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=De(h(p.Ga,p,b),jN(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const q=new tt(this,this.j,p);let K=this.o;if(this.S&&(K?(K=A(K),k(K,this.S)):K=this.S),this.m!==null||this.O||(q.H=K,K=null),this.P)e:{for(var b=0,R=0;R<this.i.length;R++){t:{var V=this.i[R];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(b+=V,4096<b){b=R;break e}if(b===4096||R===this.i.length-1){b=R+1;break e}}b=1e3}else b=1e3;b=DN(this,q,b),R=Ki(this.I),At(R,"RID",p),At(R,"CVER",22),this.D&&At(R,"X-HTTP-Session-Id",this.D),$p(this,R),K&&(this.O?b="headers="+encodeURIComponent(String(I(K)))+"&"+b:this.m&&L(R,this.m,K)),cu(this.h,q),this.Ua&&At(R,"TYPE","init"),this.P?(At(R,"$req",b),At(R,"SID","null"),q.T=!0,Qt(q,R,null)):Qt(q,R,b),this.G=2}}else this.G==3&&(p?vu(this,p):this.i.length==0||Zs(this.h)||vu(this))};function vu(p,b){var R;b?R=b.l:R=p.U++;const V=Ki(p.I);At(V,"SID",p.K),At(V,"RID",R),At(V,"AID",p.T),$p(p,V),p.m&&p.o&&L(V,p.m,p.o),R=new tt(p,p.j,R,p.B+1),p.m===null&&(R.H=p.o),b&&(p.i=b.D.concat(p.i)),b=DN(p,R,1e3),R.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),cu(p.h,R),Qt(R,V,b)}function $p(p,b){p.H&&N(p.H,function(R,V){At(b,V,R)}),p.l&&du({},function(R,V){At(b,V,R)})}function DN(p,b,R){R=Math.min(p.i.length,R);var V=p.l?h(p.l.Na,p.l,p):null;e:{var q=p.i;let K=-1;for(;;){const oe=["count="+R];K==-1?0<R?(K=q[0].g,oe.push("ofs="+K)):K=0:oe.push("ofs="+K);let Ot=!0;for(let Tr=0;Tr<R;Tr++){let gt=q[Tr].g;const Fr=q[Tr].map;if(gt-=K,0>gt)K=Math.max(0,q[Tr].g-100),Ot=!1;else try{nh(Fr,oe,"req"+gt+"_")}catch{V&&V(Fr)}}if(Ot){V=oe.join("&");break e}}}return p=p.i.splice(0,R),b.D=p,V}function LN(p){if(!p.g&&!p.u){p.Y=1;var b=p.Fa;H||j(),B||(H(),B=!0),W.add(b,p),p.v=0}}function Ux(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=De(h(p.Fa,p),jN(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,MN(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=De(h(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ke(10),ki(this),MN(this))};function $x(p){p.A!=null&&(a.clearTimeout(p.A),p.A=null)}function MN(p){p.g=new tt(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var b=Ki(p.qa);At(b,"RID","rpc"),At(b,"SID",p.K),At(b,"AID",p.T),At(b,"CI",p.F?"0":"1"),!p.F&&p.ja&&At(b,"TO",p.ja),At(b,"TYPE","xmlhttp"),$p(p,b),p.m&&p.o&&L(b,p.m,p.o),p.L&&(p.g.I=p.L);var R=p.g;p=p.ia,R.L=1,R.v=Ts(Ki(b)),R.m=null,R.P=!0,ut(R,p)}t.Za=function(){this.C!=null&&(this.C=null,ki(this),Ux(this),ke(19))};function Rv(p){p.C!=null&&(a.clearTimeout(p.C),p.C=null)}function VN(p,b){var R=null;if(p.g==b){Rv(p),$x(p),p.g=null;var V=2}else if(lu(p.h,b))R=b.D,Zd(p.h,b),V=1;else return;if(p.G!=0){if(b.o)if(V==1){R=b.m?b.m.length:0,b=Date.now()-b.F;var q=p.B;V=wn(),je(V,new ae(V,R)),yu(p)}else LN(p);else if(q=b.s,q==3||q==0&&0<b.X||!(V==1&&rh(p,b)||V==2&&Ux(p)))switch(R&&0<R.length&&(b=p.h,b.i=b.i.concat(R)),q){case 1:_u(p,5);break;case 4:_u(p,10);break;case 3:_u(p,6);break;default:_u(p,2)}}}function jN(p,b){let R=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(R*=2),R*b}function _u(p,b){if(p.j.info("Error code "+b),b==2){var R=h(p.fb,p),V=p.Xa;const q=!V;V=new eo(V||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||_l(V,"https"),Ts(V),q?wl(V.toString(),R):Up(V.toString(),R)}else ke(2);p.G=0,p.l&&p.l.sa(b),FN(p),Do(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),ke(2)):(this.j.info("Failed to ping google.com"),ke(1))};function FN(p){if(p.G=0,p.ka=[],p.l){const b=ya(p.h);(b.length!=0||p.i.length!=0)&&(v(p.ka,b),v(p.ka,p.i),p.h.i.length=0,m(p.i),p.i.length=0),p.l.ra()}}function BN(p,b,R){var V=R instanceof eo?Ki(R):new eo(R);if(V.g!="")b&&(V.g=b+"."+V.g),Oo(V,V.s);else{var q=a.location;V=q.protocol,b=b?b+"."+q.hostname:q.hostname,q=+q.port;var K=new eo(null);V&&_l(K,V),b&&(K.g=b),q&&Oo(K,q),R&&(K.l=R),V=K}return R=p.D,b=p.ya,R&&b&&At(V,R,b),At(V,"VER",p.la),$p(p,V),V}function UN(p,b,R){if(b&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=p.Ca&&!p.pa?new F(new ci({eb:R})):new F(p.pa),b.Ha(p.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function $N(){}t=$N.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Pv(){}Pv.prototype.g=function(p,b){return new Ji(p,b)};function Ji(p,b){_t.call(this),this.g=new $n(b),this.l=p,this.h=b&&b.messageUrlParams||null,p=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(p?p["X-WebChannel-Content-Type"]=b.messageContentType:p={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(p?p["X-WebChannel-Client-Profile"]=b.va:p={"X-WebChannel-Client-Profile":b.va}),this.g.S=p,(p=b&&b.Sb)&&!w(p)&&(this.g.m=p),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!w(b)&&(this.g.D=b,p=this.h,p!==null&&b in p&&(p=this.h,b in p&&delete p[b])),this.j=new ih(this)}g(Ji,_t),Ji.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ji.prototype.close=function(){As(this.g)},Ji.prototype.o=function(p){var b=this.g;if(typeof p=="string"){var R={};R.__data__=p,p=R}else this.u&&(R={},R.__data__=Jn(p),p=R);b.i.push(new dn(b.Ya++,p)),b.G==3&&yu(b)},Ji.prototype.N=function(){this.g.l=null,delete this.j,As(this.g),delete this.g,Ji.aa.N.call(this)};function qN(p){Vt.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var b=p.__sm__;if(b){e:{for(const R in b){p=R;break e}p=void 0}(this.i=p)&&(p=this.i,b=b!==null&&p in b?b[p]:void 0),this.data=b}else this.data=p}g(qN,Vt);function zN(){sn.call(this),this.status=1}g(zN,sn);function ih(p){this.g=p}g(ih,$N),ih.prototype.ua=function(){je(this.g,"a")},ih.prototype.ta=function(p){je(this.g,new qN(p))},ih.prototype.sa=function(p){je(this.g,new zN)},ih.prototype.ra=function(){je(this.g,"b")},Pv.prototype.createWebChannel=Pv.prototype.g,Ji.prototype.send=Ji.prototype.o,Ji.prototype.open=Ji.prototype.m,Ji.prototype.close=Ji.prototype.close,r5=function(){return new Pv},n5=function(){return wn()},t5=Kt,FT={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wt.NO_ERROR=0,wt.TIMEOUT=8,wt.HTTP_ERROR=6,Z0=wt,xt.COMPLETE="complete",e5=xt,er.EventType=Mt,Mt.OPEN="a",Mt.CLOSE="b",Mt.ERROR="c",Mt.MESSAGE="d",_t.prototype.listen=_t.prototype.K,vm=er,F.prototype.listenOnce=F.prototype.L,F.prototype.getLastError=F.prototype.Ka,F.prototype.getLastErrorCode=F.prototype.Ba,F.prototype.getStatus=F.prototype.Z,F.prototype.getResponseJson=F.prototype.Oa,F.prototype.getResponseText=F.prototype.oa,F.prototype.send=F.prototype.ea,F.prototype.setWithCredentials=F.prototype.Ha,Z3=F}).apply(typeof Qv<"u"?Qv:typeof self<"u"?self:typeof window<"u"?window:{});const VO="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vr.UNAUTHENTICATED=new vr(null),vr.GOOGLE_CREDENTIALS=new vr("google-credentials-uid"),vr.FIRST_PARTY=new vr("first-party-uid"),vr.MOCK_USER=new vr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wp="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=new A1("@firebase/firestore");function Eh(){return Ac.logLevel}function aZ(t){Ac.setLogLevel(t)}function te(t,...e){if(Ac.logLevel<=Ze.DEBUG){const n=e.map(lC);Ac.debug(`Firestore (${wp}): ${t}`,...n)}}function Dn(t,...e){if(Ac.logLevel<=Ze.ERROR){const n=e.map(lC);Ac.error(`Firestore (${wp}): ${t}`,...n)}}function ia(t,...e){if(Ac.logLevel<=Ze.WARN){const n=e.map(lC);Ac.warn(`Firestore (${wp}): ${t}`,...n)}}function lC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t="Unexpected state"){const e=`FIRESTORE (${wp}) INTERNAL ASSERTION FAILED: `+t;throw Dn(e),new Error(e)}function xe(t,e){t||ge()}function lZ(t,e){t||ge()}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends fa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cZ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vr.UNAUTHENTICATED))}shutdown(){}}class uZ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class dZ{constructor(e){this.t=e,this.currentUser=vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xe(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Pr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Pr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Pr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string"),new i5(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string"),new vr(e)}}class hZ{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=vr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class fZ{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new hZ(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(vr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pZ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mZ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){xe(this.o===void 0);const r=s=>{s.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string"),this.R=n.token,new pZ(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gZ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=gZ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function qe(t,e){return t<e?-1:t>e?1:0}function Bf(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function o5(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yn=class e_{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ee(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return e_.fromMillis(Date.now())}static fromDate(e){return e_.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new e_(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Yn(0,0))}static max(){return new Ce(new Yn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(),r===void 0?r=e.length-n:r>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Yg.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yg?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class rt extends Yg{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new rt(n)}static emptyPath(){return new rt([])}}const yZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends Yg{construct(e,n,r){return new cn(e,n,r)}static isValidIdentifier(e){return yZ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new cn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ee(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ee(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ee(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ee(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(n)}static emptyPath(){return new cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(rt.fromString(e))}static fromName(e){return new ce(rt.fromString(e).popFirst(5))}static empty(){return new ce(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function BT(t){return t.fields.find(e=>e.kind===2)}function Iu(t){return t.fields.filter(e=>e.kind!==2)}fw.UNKNOWN_ID=-1;class t_{constructor(e,n){this.fieldPath=e,this.kind=n}}class Qg{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Qg(0,vs.min())}}function a5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ce.fromTimestamp(r===1e9?new Yn(n+1,0):new Yn(n,r));return new vs(i,ce.empty(),e)}function l5(t){return new vs(t.readTime,t.key,-1)}class vs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new vs(Ce.min(),ce.empty(),-1)}static max(){return new vs(Ce.max(),ce.empty(),-1)}}function cC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ce.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class u5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xc(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==c5)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Pr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Wm(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=uC(r.target.error);this.V.reject(new Wm(e,i))}}static open(e,n,r,i){try{return new N1(n,e.transaction(i,r))}catch(s){throw new Wm(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(te("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new _Z(n)}}class Yo{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Yo.S(ar())===12.2&&Dn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return te("SimpleDb","Removing database:",e),Ou(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!n3())return!1;if(Yo.v())return!0;const e=ar(),n=Yo.S(e),r=0<n&&n<10,i=d5(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(te("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Wm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new ee(G.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new ee(G.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Wm(e,o))},i.onupgradeneeded=s=>{te("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.O(o,i.transaction,s.oldVersion,this.version).next(()=>{te("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.M(e);const a=N1.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),$.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(te("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function d5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class vZ{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Ou(this.B.delete())}}class Wm extends ee{constructor(e,n){super(G.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Jc(t){return t.name==="IndexedDbTransactionError"}class _Z{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(te("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(te("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ou(r)}add(e){return te("SimpleDb","ADD",this.store.name,e,e),Ou(this.store.add(e))}get(e){return Ou(this.store.get(e)).next(n=>(n===void 0&&(n=null),te("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return te("SimpleDb","DELETE",this.store.name,e),Ou(this.store.delete(e))}count(){return te("SimpleDb","COUNT",this.store.name),Ou(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new $((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.W(s,(a,l)=>{o.push(l)}).next(()=>o)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new $((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,n){te("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new $((r,i)=>{n.onerror=s=>{const o=uC(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){const r=[];return new $((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new vZ(a),c=n(a.primaryKey,a.value,l);if(c instanceof $){const u=c.catch(d=>(l.done(),$.reject(d)));r.push(u)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>$.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ou(t){return new $((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=uC(r.target.error);n(i)}})}let jO=!1;function uC(t){const e=Yo.S(ar());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ee("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return jO||(jO=!0,setTimeout(()=>{throw r},0)),r}}return t}class wZ{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){te("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{te("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){Jc(n)?te("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await Xc(n)}await this.X(6e4)})}}class xZ{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,s=!0;return $.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return te("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>(te("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=l5(s);cC(o,r)>0&&(r=o)}),new vs(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Vi.oe=-1;function Jy(t){return t==null}function Xg(t){return t===0&&1/t==-1/0}function h5(t){return typeof t=="number"&&Number.isInteger(t)&&!Xg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=FO(e)),e=EZ(t.get(n),e);return FO(e)}function EZ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function FO(t){return t+""}function $o(t){const e=t.length;if(xe(e>=2),e===2)return xe(t.charAt(0)===""&&t.charAt(1)===""),rt.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&ge(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:ge()}s=o+2}return new rt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(t,e){return[t,ei(e)]}function f5(t,e,n){return[t,ei(e),n]}const bZ={},TZ=["prefixPath","collectionGroup","readTime","documentId"],SZ=["prefixPath","collectionGroup","documentId"],AZ=["collectionGroup","readTime","prefixPath","documentId"],IZ=["canonicalId","targetId"],CZ=["targetId","path"],RZ=["path","targetId"],PZ=["collectionId","parent"],NZ=["indexId","uid"],kZ=["uid","sequenceNumber"],OZ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],DZ=["indexId","uid","orderedDocumentKey"],LZ=["userId","collectionPath","documentId"],MZ=["userId","collectionPath","largestBatchId"],VZ=["userId","collectionGroup","largestBatchId"],p5=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],jZ=[...p5,"documentOverlays"],m5=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],g5=m5,dC=[...g5,"indexConfiguration","indexState","indexEntries"],FZ=dC,BZ=[...dC,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT extends u5{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function cr(t,e){const n=de(t);return Yo.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function y5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n){this.comparator=e,this.root=n||Ar.EMPTY}insert(e,n){return new zt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ar.BLACK,null,null))}remove(e){return new zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ar.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xv(this.root,e,this.comparator,!0)}}class Xv{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ar{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ar.RED,this.left=i??Ar.EMPTY,this.right=s??Ar.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ar(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ar.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ar.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ar.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ar.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}Ar.EMPTY=null,Ar.RED=!0,Ar.BLACK=!1;Ar.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ar(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $O(this.data.getIterator())}getIteratorFrom(e){return new $O(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class $O{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ah(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new ji([])}unionWith(e){let n=new Rt(cn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ji(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bf(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UZ(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new v5("Invalid base64 string: "+s):s}}(e);return new In(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new In(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}In.EMPTY_BYTE_STRING=new In("");const $Z=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xa(t){if(xe(!!t),typeof t=="string"){let e=0;const n=$Z.exec(t);if(xe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:on(t.seconds),nanos:on(t.nanos)}}function on(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ja(t){return typeof t=="string"?In.fromBase64String(t):In.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function O1(t){const e=t.mapValue.fields.__previous_value__;return k1(e)?O1(e):e}function Jg(t){const e=Xa(t.mapValue.fields.__local_write_time__.timestampValue);return new Yn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qZ{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ic{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ic("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ic&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},r_={nullValue:"NULL_VALUE"};function Cc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?k1(t)?4:_5(t)?9007199254740991:D1(t)?10:11:ge()}function sa(t,e){if(t===e)return!0;const n=Cc(t);if(n!==Cc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jg(t).isEqual(Jg(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Xa(i.timestampValue),a=Xa(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ja(i.bytesValue).isEqual(Ja(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return on(i.geoPointValue.latitude)===on(s.geoPointValue.latitude)&&on(i.geoPointValue.longitude)===on(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return on(i.integerValue)===on(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=on(i.doubleValue),a=on(s.doubleValue);return o===a?Xg(o)===Xg(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Bf(t.arrayValue.values||[],e.arrayValue.values||[],sa);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(UO(o)!==UO(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!sa(o[l],a[l])))return!1;return!0}(t,e);default:return ge()}}function Zg(t,e){return(t.values||[]).find(n=>sa(n,e))!==void 0}function Rc(t,e){if(t===e)return 0;const n=Cc(t),r=Cc(e);if(n!==r)return qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=on(s.integerValue||s.doubleValue),l=on(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return qO(t.timestampValue,e.timestampValue);case 4:return qO(Jg(t),Jg(e));case 5:return qe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ja(s),l=Ja(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=qe(a[c],l[c]);if(u!==0)return u}return qe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=qe(on(s.latitude),on(o.latitude));return a!==0?a:qe(on(s.longitude),on(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return zO(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,u;const d=s.fields||{},h=o.fields||{},f=(a=d.value)===null||a===void 0?void 0:a.arrayValue,g=(l=h.value)===null||l===void 0?void 0:l.arrayValue,m=qe(((c=f==null?void 0:f.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return m!==0?m:zO(f,g)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ql.mapValue&&o===Ql.mapValue)return 0;if(s===Ql.mapValue)return 1;if(o===Ql.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=qe(l[d],u[d]);if(h!==0)return h;const f=Rc(a[l[d]],c[u[d]]);if(f!==0)return f}return qe(l.length,u.length)}(t.mapValue,e.mapValue);default:throw ge()}}function qO(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=Xa(t),r=Xa(e),i=qe(n.seconds,r.seconds);return i!==0?i:qe(n.nanos,r.nanos)}function zO(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Rc(n[i],r[i]);if(s)return s}return qe(n.length,r.length)}function Uf(t){return $T(t)}function $T(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Xa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ja(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=$T(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${$T(n.fields[o])}`;return i+"}"}(t.mapValue):ge()}function i_(t){switch(Cc(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=O1(t);return e?16+i_(e):16;case 5:return 2*t.stringValue.length;case 6:return Ja(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+i_(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Zc(r.fields,(s,o)=>{i+=s.length+i_(o)}),i}(t.mapValue);default:throw ge()}}function hd(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qT(t){return!!t&&"integerValue"in t}function ey(t){return!!t&&"arrayValue"in t}function WO(t){return!!t&&"nullValue"in t}function HO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function s_(t){return!!t&&"mapValue"in t}function D1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Hm(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Zc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Hm(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hm(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const w5={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function zZ(t){return"nullValue"in t?r_:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?hd(Ic.empty(),ce.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?D1(t)?w5:{mapValue:{}}:ge()}function WZ(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?hd(Ic.empty(),ce.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?w5:"mapValue"in t?D1(t)?{mapValue:{}}:Ql:ge()}function GO(t,e){const n=Rc(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function KO(t,e){const n=Rc(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.value=e}static empty(){return new Ir({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!s_(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hm(n)}setAll(e){let n=cn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Hm(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());s_(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return sa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];s_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Zc(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ir(Hm(this.value))}}function x5(t){const e=[];return Zc(t.fields,(n,r)=>{const i=new cn([n]);if(s_(r)){const s=x5(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ji(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new nn(e,0,Ce.min(),Ce.min(),Ce.min(),Ir.empty(),0)}static newFoundDocument(e,n,r,i){return new nn(e,1,n,Ce.min(),r,i,0)}static newNoDocument(e,n){return new nn(e,2,n,Ce.min(),Ce.min(),Ir.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,Ce.min(),Ce.min(),Ir.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ir.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n){this.position=e,this.inclusive=n}}function YO(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ce.comparator(ce.fromName(o.referenceValue),n.key):r=Rc(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function QO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!sa(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n="asc"){this.field=e,this.dir=n}}function HZ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{}class it extends E5{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new GZ(e,n,r):n==="array-contains"?new QZ(e,r):n==="in"?new C5(e,r):n==="not-in"?new XZ(e,r):n==="array-contains-any"?new JZ(e,r):new it(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new KZ(e,r):new YZ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Rc(n,this.value)):n!==null&&Cc(this.value)===Cc(n)&&this.matchesComparison(Rc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class It extends E5{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new It(e,n)}matches(e){return $f(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function $f(t){return t.op==="and"}function zT(t){return t.op==="or"}function hC(t){return b5(t)&&$f(t)}function b5(t){for(const e of t.filters)if(e instanceof It)return!1;return!0}function WT(t){if(t instanceof it)return t.field.canonicalString()+t.op.toString()+Uf(t.value);if(hC(t))return t.filters.map(e=>WT(e)).join(",");{const e=t.filters.map(n=>WT(n)).join(",");return`${t.op}(${e})`}}function T5(t,e){return t instanceof it?function(r,i){return i instanceof it&&r.op===i.op&&r.field.isEqual(i.field)&&sa(r.value,i.value)}(t,e):t instanceof It?function(r,i){return i instanceof It&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&T5(o,i.filters[a]),!0):!1}(t,e):void ge()}function S5(t,e){const n=t.filters.concat(e);return It.create(n,t.op)}function A5(t){return t instanceof it?function(n){return`${n.field.canonicalString()} ${n.op} ${Uf(n.value)}`}(t):t instanceof It?function(n){return n.op.toString()+" {"+n.getFilters().map(A5).join(" ,")+"}"}(t):"Filter"}class GZ extends it{constructor(e,n,r){super(e,n,r),this.key=ce.fromName(r.referenceValue)}matches(e){const n=ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class KZ extends it{constructor(e,n){super(e,"in",n),this.keys=I5("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class YZ extends it{constructor(e,n){super(e,"not-in",n),this.keys=I5("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function I5(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ce.fromName(r.referenceValue))}class QZ extends it{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ey(n)&&Zg(n.arrayValue,this.value)}}class C5 extends it{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zg(this.value.arrayValue,n)}}class XZ extends it{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Zg(this.value.arrayValue,n)}}class JZ extends it{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ey(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zg(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZZ{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function HT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new ZZ(t,e,n,r,i,s,o)}function fd(t){const e=de(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>WT(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Jy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Uf(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Uf(r)).join(",")),e.ue=n}return e.ue}function Zy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!HZ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!T5(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!QO(t.startAt,e.startAt)&&QO(t.endAt,e.endAt)}function pw(t){return ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function mw(t,e){return t.filters.filter(n=>n instanceof it&&n.field.isEqual(e))}function XO(t,e,n){let r=r_,i=!0;for(const s of mw(t,e)){let o=r_,a=!0;switch(s.op){case"<":case"<=":o=zZ(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=r_}GO({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];GO({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function JO(t,e,n){let r=Ql,i=!0;for(const s of mw(t,e)){let o=Ql,a=!0;switch(s.op){case">=":case">":o=WZ(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Ql}KO({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];KO({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function R5(t,e,n,r,i,s,o,a){return new dl(t,e,n,r,i,s,o,a)}function xp(t){return new dl(t)}function ZO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function fC(t){return t.collectionGroup!==null}function df(t){const e=de(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Rt(cn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ty(s,r))}),n.has(cn.keyField().canonicalString())||e.ce.push(new ty(cn.keyField(),r))}return e.ce}function bi(t){const e=de(t);return e.le||(e.le=eee(e,df(t))),e.le}function eee(t,e){if(t.limitType==="F")return HT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ty(i.field,s)});const n=t.endAt?new Pc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Pc(t.startAt.position,t.startAt.inclusive):null;return HT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function GT(t,e){const n=t.filters.concat([e]);return new dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function gw(t,e,n){return new dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ev(t,e){return Zy(bi(t),bi(e))&&t.limitType===e.limitType}function P5(t){return`${fd(bi(t))}|lt:${t.limitType}`}function bh(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>A5(i)).join(", ")}]`),Jy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Uf(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Uf(i)).join(",")),`Target(${r})`}(bi(t))}; limitType=${t.limitType})`}function tv(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ce.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of df(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=YO(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,df(r),i)||r.endAt&&!function(o,a,l){const c=YO(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,df(r),i))}(t,e)}function N5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function k5(t){return(e,n)=>{let r=!1;for(const i of df(t)){const s=tee(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function tee(t,e,n){const r=t.field.isKeyField()?ce.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Rc(l,c):ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zc(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return y5(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nee=new zt(ce.comparator);function Fi(){return nee}const O5=new zt(ce.comparator);function _m(...t){let e=O5;for(const n of t)e=e.insert(n.key,n);return e}function D5(t){let e=O5;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function qo(){return Gm()}function L5(){return Gm()}function Gm(){return new hl(t=>t.toString(),(t,e)=>t.isEqual(e))}const ree=new zt(ce.comparator),iee=new Rt(ce.comparator);function ze(...t){let e=iee;for(const n of t)e=e.add(n);return e}const see=new Rt(qe);function pC(){return see}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xg(e)?"-0":e}}function M5(t){return{integerValue:""+t}}function V5(t,e){return h5(e)?M5(e):mC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(){this._=void 0}}function oee(t,e,n){return t instanceof qf?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&k1(s)&&(s=O1(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof pd?F5(t,e):t instanceof md?B5(t,e):function(i,s){const o=j5(i,s),a=eD(o)+eD(i.Pe);return qT(o)&&qT(i.Pe)?M5(a):mC(i.serializer,a)}(t,e)}function aee(t,e,n){return t instanceof pd?F5(t,e):t instanceof md?B5(t,e):n}function j5(t,e){return t instanceof zf?function(r){return qT(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class qf extends L1{}class pd extends L1{constructor(e){super(),this.elements=e}}function F5(t,e){const n=U5(e);for(const r of t.elements)n.some(i=>sa(i,r))||n.push(r);return{arrayValue:{values:n}}}class md extends L1{constructor(e){super(),this.elements=e}}function B5(t,e){let n=U5(e);for(const r of t.elements)n=n.filter(i=>!sa(i,r));return{arrayValue:{values:n}}}class zf extends L1{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function eD(t){return on(t.integerValue||t.doubleValue)}function U5(t){return ey(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,n){this.field=e,this.transform=n}}function lee(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof pd&&i instanceof pd||r instanceof md&&i instanceof md?Bf(r.elements,i.elements,sa):r instanceof zf&&i instanceof zf?sa(r.Pe,i.Pe):r instanceof qf&&i instanceof qf}(t.transform,e.transform)}class cee{constructor(e,n){this.version=e,this.transformResults=n}}class un{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new un}static exists(e){return new un(void 0,e)}static updateTime(e){return new un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function o_(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class M1{}function $5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bp(t.key,un.none()):new Ep(t.key,t.data,un.none());{const n=t.data,r=Ir.empty();let i=new Rt(cn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new fl(t.key,r,new ji(i.toArray()),un.none())}}function uee(t,e,n){t instanceof Ep?function(i,s,o){const a=i.value.clone(),l=nD(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof fl?function(i,s,o){if(!o_(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=nD(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(q5(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Km(t,e,n,r){return t instanceof Ep?function(s,o,a,l){if(!o_(s.precondition,o))return a;const c=s.value.clone(),u=rD(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof fl?function(s,o,a,l){if(!o_(s.precondition,o))return a;const c=rD(s.fieldTransforms,l,o),u=o.data;return u.setAll(q5(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return o_(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function dee(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=j5(r.transform,i||null);s!=null&&(n===null&&(n=Ir.empty()),n.set(r.field,s))}return n||null}function tD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Bf(r,i,(s,o)=>lee(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ep extends M1{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fl extends M1{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function q5(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function nD(t,e,n){const r=new Map;xe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,aee(o,a,n[i]))}return r}function rD(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,oee(s,o,e))}return r}class bp extends M1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gC extends M1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&uee(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Km(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Km(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=L5();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=$5(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ze())}isEqual(e){return this.batchId===e.batchId&&Bf(this.mutations,e.mutations,(n,r)=>tD(n,r))&&Bf(this.baseMutations,e.baseMutations,(n,r)=>tD(n,r))}}class vC{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xe(e.mutations.length===r.length);let i=function(){return ree}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new vC(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _C=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hee{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qn,dt;function z5(t){switch(t){default:return ge();case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0}}function W5(t){if(t===void 0)return Dn("GRPC error has no .code"),G.UNKNOWN;switch(t){case qn.OK:return G.OK;case qn.CANCELLED:return G.CANCELLED;case qn.UNKNOWN:return G.UNKNOWN;case qn.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case qn.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case qn.INTERNAL:return G.INTERNAL;case qn.UNAVAILABLE:return G.UNAVAILABLE;case qn.UNAUTHENTICATED:return G.UNAUTHENTICATED;case qn.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case qn.NOT_FOUND:return G.NOT_FOUND;case qn.ALREADY_EXISTS:return G.ALREADY_EXISTS;case qn.PERMISSION_DENIED:return G.PERMISSION_DENIED;case qn.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case qn.ABORTED:return G.ABORTED;case qn.OUT_OF_RANGE:return G.OUT_OF_RANGE;case qn.UNIMPLEMENTED:return G.UNIMPLEMENTED;case qn.DATA_LOSS:return G.DATA_LOSS;default:return ge()}}(dt=qn||(qn={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fee=new Yu([4294967295,4294967295],0);function iD(t){const e=H5().encode(t),n=new J3;return n.update(e),new Uint8Array(n.digest())}function sD(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Yu([n,r],0),new Yu([i,s],0)]}class wC{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wm(`Invalid padding: ${n}`);if(r<0)throw new wm(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wm(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wm(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Yu.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Yu.fromNumber(r)));return i.compare(fee)===1&&(i=new Yu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=iD(e),[r,i]=sD(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new wC(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=iD(e),[r,i]=sD(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class wm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,iv.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new rv(Ce.min(),i,new zt(qe),Fi(),ze())}}class iv{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new iv(r,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class G5{constructor(e,n){this.targetId=e,this.me=n}}class K5{constructor(e,n,r=In.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class oD{constructor(){this.fe=0,this.ge=lD(),this.pe=In.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ze(),n=ze(),r=ze();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge()}}),new iv(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=lD()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class pee{constructor(e){this.Le=e,this.Be=new Map,this.ke=Fi(),this.qe=aD(),this.Qe=new zt(qe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(pw(s))if(r===0){const o=new ce(s.path);this.Ue(n,o,nn.newNoDocument(o,Ce.min()))}else xe(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ja(r).toUint8Array()}catch(l){if(l instanceof v5)return ia("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new wC(o,i,s)}catch(l){return ia(l instanceof wm?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&pw(a.target)){const l=new ce(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,nn.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ze();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new rv(e,n,this.Qe,this.ke,r);return this.ke=Fi(),this.qe=aD(),this.Qe=new zt(qe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new oD,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Rt(qe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new oD),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function aD(){return new zt(ce.comparator)}function lD(){return new zt(ce.comparator)}const mee={asc:"ASCENDING",desc:"DESCENDING"},gee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yee={and:"AND",or:"OR"};class vee{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function KT(t,e){return t.useProto3Json||Jy(e)?e:{value:e}}function Wf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Y5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _ee(t,e){return Wf(t,e.toTimestamp())}function Mn(t){return xe(!!t),Ce.fromTimestamp(function(n){const r=Xa(n);return new Yn(r.seconds,r.nanos)}(t))}function xC(t,e){return YT(t,e).canonicalString()}function YT(t,e){const n=function(i){return new rt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Q5(t){const e=rt.fromString(t);return xe(oB(e)),e}function ny(t,e){return xC(t.databaseId,e.path)}function Qo(t,e){const n=Q5(e);if(n.get(1)!==t.databaseId.projectId)throw new ee(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ce(Z5(n))}function X5(t,e){return xC(t.databaseId,e)}function J5(t){const e=Q5(t);return e.length===4?rt.emptyPath():Z5(e)}function QT(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Z5(t){return xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function cD(t,e,n){return{name:ny(t,e),fields:n.value.mapValue.fields}}function eB(t,e,n){const r=Qo(t,e.name),i=Mn(e.updateTime),s=e.createTime?Mn(e.createTime):Ce.min(),o=new Ir({mapValue:{fields:e.fields}}),a=nn.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function wee(t,e){return"found"in e?function(r,i){xe(!!i.found),i.found.name,i.found.updateTime;const s=Qo(r,i.found.name),o=Mn(i.found.updateTime),a=i.found.createTime?Mn(i.found.createTime):Ce.min(),l=new Ir({mapValue:{fields:i.found.fields}});return nn.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){xe(!!i.missing),xe(!!i.readTime);const s=Qo(r,i.missing),o=Mn(i.readTime);return nn.newNoDocument(s,o)}(t,e):ge()}function xee(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(xe(u===void 0||typeof u=="string"),In.fromBase64String(u||"")):(xe(u===void 0||u instanceof Buffer||u instanceof Uint8Array),In.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?G.UNKNOWN:W5(c.code);return new ee(u,c.message||"")}(o);n=new K5(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Qo(t,r.document.name),s=Mn(r.document.updateTime),o=r.document.createTime?Mn(r.document.createTime):Ce.min(),a=new Ir({mapValue:{fields:r.document.fields}}),l=nn.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new a_(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Qo(t,r.document),s=r.readTime?Mn(r.readTime):Ce.min(),o=nn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new a_([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Qo(t,r.document),s=r.removedTargetIds||[];n=new a_([],s,i,null)}else{if(!("filter"in e))return ge();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new hee(i,s),a=r.targetId;n=new G5(a,o)}}return n}function ry(t,e){let n;if(e instanceof Ep)n={update:cD(t,e.key,e.value)};else if(e instanceof bp)n={delete:ny(t,e.key)};else if(e instanceof fl)n={update:cD(t,e.key,e.data),updateMask:Iee(e.fieldMask)};else{if(!(e instanceof gC))return ge();n={verify:ny(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof qf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof pd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof md)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof zf)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ge()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:_ee(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ge()}(t,e.precondition)),n}function XT(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?un.updateTime(Mn(s.updateTime)):s.exists!==void 0?un.exists(s.exists):un.none()}(e.currentDocument):un.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)xe(a.setToServerValue==="REQUEST_TIME"),l=new qf;else if("appendMissingElements"in a){const u=a.appendMissingElements.values||[];l=new pd(u)}else if("removeAllFromArray"in a){const u=a.removeAllFromArray.values||[];l=new md(u)}else"increment"in a?l=new zf(o,a.increment):ge();const c=cn.fromServerFormat(a.fieldPath);return new nv(c,l)}(t,i)):[];if(e.update){e.update.name;const i=Qo(t,e.update.name),s=new Ir({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const c=l.fieldPaths||[];return new ji(c.map(u=>cn.fromServerFormat(u)))}(e.updateMask);return new fl(i,s,o,n,r)}return new Ep(i,s,n,r)}if(e.delete){const i=Qo(t,e.delete);return new bp(i,n)}if(e.verify){const i=Qo(t,e.verify);return new gC(i,n)}return ge()}function Eee(t,e){return t&&t.length>0?(xe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Mn(i.updateTime):Mn(s);return o.isEqual(Ce.min())&&(o=Mn(s)),new cee(o,i.transformResults||[])}(n,e))):[]}function tB(t,e){return{documents:[X5(t,e.path)]}}function nB(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=X5(t,i);const s=function(c){if(c.length!==0)return sB(It.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Th(h.field),direction:Tee(h.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=KT(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function rB(t){let e=J5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){xe(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const h=iB(d);return h instanceof It&&hC(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(g){return new ty(Sh(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Jy(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new Pc(f,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,f=d.values||[];return new Pc(f,h)}(n.endAt)),R5(e,i,o,s,a,"F",l,c)}function bee(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function iB(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Sh(n.unaryFilter.field);return it.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Sh(n.unaryFilter.field);return it.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Sh(n.unaryFilter.field);return it.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Sh(n.unaryFilter.field);return it.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(n){return it.create(Sh(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return It.create(n.compositeFilter.filters.map(r=>iB(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge()}}(n.compositeFilter.op))}(t):ge()}function Tee(t){return mee[t]}function See(t){return gee[t]}function Aee(t){return yee[t]}function Th(t){return{fieldPath:t.canonicalString()}}function Sh(t){return cn.fromServerFormat(t.fieldPath)}function sB(t){return t instanceof it?function(n){if(n.op==="=="){if(HO(n.value))return{unaryFilter:{field:Th(n.field),op:"IS_NAN"}};if(WO(n.value))return{unaryFilter:{field:Th(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(HO(n.value))return{unaryFilter:{field:Th(n.field),op:"IS_NOT_NAN"}};if(WO(n.value))return{unaryFilter:{field:Th(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Th(n.field),op:See(n.op),value:n.value}}}(t):t instanceof It?function(n){const r=n.getFilters().map(i=>sB(i));return r.length===1?r[0]:{compositeFilter:{op:Aee(n.op),filters:r}}}(t):ge()}function Iee(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function oB(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n,r,i,s=Ce.min(),o=Ce.min(),a=In.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ma(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e){this.ct=e}}function Cee(t,e){let n;if(e.document)n=eB(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ce.fromSegments(e.noDocument.path),i=yd(e.noDocument.readTime);n=nn.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ge();{const r=ce.fromSegments(e.unknownDocument.path),i=yd(e.unknownDocument.version);n=nn.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new Yn(i[0],i[1]);return Ce.fromTimestamp(s)}(e.readTime)),n}function uD(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:yw(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:ny(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Wf(s,o.version.toTimestamp()),createTime:Wf(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:gd(e.version)};else{if(!e.isUnknownDocument())return ge();r.unknownDocument={path:n.path.toArray(),version:gd(e.version)}}return r}function yw(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function gd(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function yd(t){const e=new Yn(t.seconds,t.nanoseconds);return Ce.fromTimestamp(e)}function Du(t,e){const n=(e.baseMutations||[]).map(s=>XT(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>XT(t.ct,s)),i=Yn.fromMillis(e.localWriteTimeMs);return new yC(e.batchId,i,n,r)}function xm(t){const e=yd(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?yd(t.lastLimboFreeSnapshotVersion):Ce.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return xe(s.documents.length===1),bi(xp(J5(s.documents[0])))}(t.query):function(s){return bi(rB(s))}(t.query),new Ma(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,In.fromBase64String(t.resumeToken))}function lB(t,e){const n=gd(e.snapshotVersion),r=gd(e.lastLimboFreeSnapshotVersion);let i;i=pw(e.target)?tB(t.ct,e.target):nB(t.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fd(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function EC(t){const e=rB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gw(e,e.limit,"L"):e}function TE(t,e){return new _C(e.largestBatchId,XT(t.ct,e.overlayMutation))}function dD(t,e){const n=e.path.lastSegment();return[t,ei(e.path.popLast()),n]}function hD(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:gd(r.readTime),documentKey:ei(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ree{getBundleMetadata(e,n){return fD(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:yd(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return fD(e).put(function(i){return{bundleId:i.id,createTime:gd(Mn(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return pD(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:EC(s.bundledQuery),readTime:yd(s.readTime)}}(r)})}saveNamedQuery(e,n){return pD(e).put(function(i){return{name:i.name,readTime:gd(Mn(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function fD(t){return cr(t,"bundles")}function pD(t){return cr(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new V1(e,r)}getOverlay(e,n){return Xp(e).get(dD(this.userId,n)).next(r=>r?TE(this.serializer,r):null)}getOverlays(e,n){const r=qo();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new _C(n,o);i.push(this.ht(e,a))}),$.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(ei(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Xp(e).j("collectionPathOverlayIndex",a))}),$.waitFor(s)}getOverlaysForCollection(e,n,r){const i=qo(),s=ei(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Xp(e).U("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=TE(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=qo();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Xp(e).J({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const d=TE(this.serializer,c);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):u.done()}).next(()=>s)}ht(e,n){return Xp(e).put(function(i,s,o){const[a,l,c]=dD(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:ry(i.ct,o.mutation)}}(this.serializer,this.userId,n))}}function Xp(t){return cr(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pee{Pt(e){return cr(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?In.fromUint8Array(r):In.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(on(e.integerValue));else if("doubleValue"in e){const r=on(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Xg(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Xa(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Ja(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?_5(e)?this.dt(n,Number.MAX_SAFE_INTEGER):D1(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ge()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;const s=e.fields||{};this.dt(n,53);const o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(on(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ce.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}Lu.vt=new Lu;function Nee(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function mD(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=Nee(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class kee{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=mD(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=mD(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Oee{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class Dee{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Jp{constructor(){this.jt=new kee,this.Ht=new Oee(this.jt),this.Jt=new Dee(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Mu(this.indexId,this.documentKey,this.arrayValue,r)}}function Tl(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=gD(t.arrayValue,e.arrayValue),n!==0?n:(n=gD(t.directionalValue,e.directionalValue),n!==0?n:ce.comparator(t.documentKey,e.documentKey)))}function gD(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.Xt=new Rt((n,r)=>cn.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(xe(e.collectionGroup===this.collectionId),this.nn)return!1;const n=BT(e);if(n!==void 0&&!this.sn(n))return!1;const r=Iu(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.sn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Xt.size>0){const a=this.Xt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.on(a,l)||!this._n(this.en[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.en.length||!this._n(this.en[o++],a))return!1}return!0}an(){if(this.nn)return null;let e=new Rt(cn.comparator);const n=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new t_(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new t_(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new t_(r.field,r.dir==="asc"?0:1)));return new fw(fw.UNKNOWN_ID,this.collectionId,n,Qg.empty())}sn(e){for(const n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cB(t){var e,n;if(xe(t instanceof it||t instanceof It),t instanceof it){if(t instanceof C5){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>it.create(t.field,"==",s)))||[];return It.create(i,"or")}return t}const r=t.filters.map(i=>cB(i));return It.create(r,t.op)}function Lee(t){if(t.getFilters().length===0)return[];const e=eS(cB(t));return xe(uB(e)),JT(e)||ZT(e)?[e]:e.getFilters()}function JT(t){return t instanceof it}function ZT(t){return t instanceof It&&hC(t)}function uB(t){return JT(t)||ZT(t)||function(n){if(n instanceof It&&zT(n)){for(const r of n.getFilters())if(!JT(r)&&!ZT(r))return!1;return!0}return!1}(t)}function eS(t){if(xe(t instanceof it||t instanceof It),t instanceof it)return t;if(t.filters.length===1)return eS(t.filters[0]);const e=t.filters.map(r=>eS(r));let n=It.create(e,t.op);return n=vw(n),uB(n)?n:(xe(n instanceof It),xe($f(n)),xe(n.filters.length>1),n.filters.reduce((r,i)=>bC(r,i)))}function bC(t,e){let n;return xe(t instanceof it||t instanceof It),xe(e instanceof it||e instanceof It),n=t instanceof it?e instanceof it?function(i,s){return It.create([i,s],"and")}(t,e):vD(t,e):e instanceof it?vD(e,t):function(i,s){if(xe(i.filters.length>0&&s.filters.length>0),$f(i)&&$f(s))return S5(i,s.getFilters());const o=zT(i)?i:s,a=zT(i)?s:i,l=o.filters.map(c=>bC(c,a));return It.create(l,"or")}(t,e),vw(n)}function vD(t,e){if($f(e))return S5(e,t.getFilters());{const n=e.filters.map(r=>bC(t,r));return It.create(n,"or")}}function vw(t){if(xe(t instanceof it||t instanceof It),t instanceof it)return t;const e=t.getFilters();if(e.length===1)return vw(e[0]);if(b5(t))return t;const n=e.map(i=>vw(i)),r=[];return n.forEach(i=>{i instanceof it?r.push(i):i instanceof It&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:It.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mee{constructor(){this.un=new TC}addToCollectionParentIndex(e,n){return this.un.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(vs.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(vs.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class TC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Rt(rt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Rt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=new Uint8Array(0);class Vee{constructor(e,n){this.databaseId=n,this.cn=new TC,this.ln=new hl(r=>fd(r),(r,i)=>Zy(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});const s={collectionId:r,parent:ei(i)};return _D(e).put(s)}return $.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[o5(n),""],!1,!0);return _D(e).U(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push($o(o.parent))}return r})}addFieldIndex(e,n){const r=Zp(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=ch(e);return s.next(a=>{o.put(hD(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=Zp(e),i=ch(e),s=lh(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Zp(e),r=lh(e),i=ch(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return $.forEach(this.hn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new yD(r).an();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=lh(e);let i=!0;const s=new Map;return $.forEach(this.hn(n),o=>this.Pn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=ze();const a=[];return $.forEach(s,(l,c)=>{te("IndexedDbIndexManager",`Using index ${function(E){return`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(S=>`${S.fieldPath}:${S.kind}`).join(",")}`}(l)} to execute ${fd(n)}`);const u=function(E,S){const C=BT(S);if(C===void 0)return null;for(const N of mw(E,C.fieldPath))switch(N.op){case"array-contains-any":return N.value.arrayValue.values||[];case"array-contains":return[N.value]}return null}(c,l),d=function(E,S){const C=new Map;for(const N of Iu(S))for(const T of mw(E,N.fieldPath))switch(T.op){case"==":case"in":C.set(N.fieldPath.canonicalString(),T.value);break;case"not-in":case"!=":return C.set(N.fieldPath.canonicalString(),T.value),Array.from(C.values())}return null}(c,l),h=function(E,S){const C=[];let N=!0;for(const T of Iu(S)){const A=T.kind===0?XO(E,T.fieldPath,E.startAt):JO(E,T.fieldPath,E.startAt);C.push(A.value),N&&(N=A.inclusive)}return new Pc(C,N)}(c,l),f=function(E,S){const C=[];let N=!0;for(const T of Iu(S)){const A=T.kind===0?JO(E,T.fieldPath,E.endAt):XO(E,T.fieldPath,E.endAt);C.push(A.value),N&&(N=A.inclusive)}return new Pc(C,N)}(c,l),g=this.In(l,c,h),m=this.In(l,c,f),v=this.Tn(l,c,d),y=this.En(l.indexId,u,g,h.inclusive,m,f.inclusive,v);return $.forEach(y,w=>r.G(w,n.limit).next(E=>{E.forEach(S=>{const C=ce.fromSegments(S.documentKey);o.has(C)||(o=o.add(C),a.push(C))})}))}).next(()=>a)}return $.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=Lee(It.create(e.filters,"and")).map(r=>HT(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),c=l/(n!=null?n.length:1),u=[];for(let d=0;d<l;++d){const h=n?this.dn(n[d/c]):Jv,f=this.An(e,h,r[d%c],i),g=this.Rn(e,h,s[d%c],o),m=a.map(v=>this.An(e,h,v,!0));u.push(...this.createRange(f,g,m))}return u}An(e,n,r,i){const s=new Mu(e,ce.empty(),n,r);return i?s:s.Zt()}Rn(e,n,r,i){const s=new Mu(e,ce.empty(),n,r);return i?s.Zt():s}Pn(e,n){const r=new yD(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.rn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.hn(n);return $.forEach(i,s=>this.Pn(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let c=new Rt(cn.comparator),u=!1;for(const d of l.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?u=!0:c=c.add(h.field));for(const d of l.orderBy)d.field.isKeyField()||(c=c.add(d.field));return c.size+(u?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}Vn(e,n){const r=new Jp;for(const i of Iu(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Yt(i.kind);Lu.vt.It(s,o)}return r.zt()}dn(e){const n=new Jp;return Lu.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){const r=new Jp;return Lu.vt.It(hd(this.databaseId,n),r.Yt(function(s){const o=Iu(s);return o.length===0?0:o[o.length-1].kind}(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let i=[];i.push(new Jp);let s=0;for(const o of Iu(e)){const a=r[s++];for(const l of i)if(this.fn(n,o.fieldPath)&&ey(a))i=this.gn(i,o,a);else{const c=l.Yt(o.kind);Lu.vt.It(a,c)}}return this.pn(i)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new Jp;l.seed(a.zt()),Lu.vt.It(o,l.Yt(n.kind)),s.push(l)}return s}fn(e,n){return!!e.filters.find(r=>r instanceof it&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Zp(e),i=ch(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(s=>{const o=[];return $.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(u,d){const h=d?new Qg(d.sequenceNumber,new vs(yd(d.readTime),new ce($o(d.documentKey)),d.largestBatchId)):Qg.empty(),f=u.fields.map(([g,m])=>new t_(cn.fromServerFormat(g),m));return new fw(u.indexId,u.collectionGroup,f,h)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:qe(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Zp(e),s=ch(e);return this.yn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>$.forEach(a,l=>s.put(hD(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return $.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?$.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),$.forEach(a,l=>this.wn(e,i,l).next(c=>{const u=this.Sn(s,l);return c.isEqual(u)?$.resolve():this.bn(e,s,l,c,u)}))))})}Dn(e,n,r,i){return lh(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,i){return lh(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const i=lh(e);let s=new Rt(Tl);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(o,a)=>{s=s.add(new Mu(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}Sn(e,n){let r=new Rt(Tl);const i=this.Vn(n,e);if(i==null)return r;const s=BT(n);if(s!=null){const o=e.data.field(s.fieldPath);if(ey(o))for(const a of o.arrayValue.values||[])r=r.add(new Mu(n.indexId,e.key,this.dn(a),i))}else r=r.add(new Mu(n.indexId,e.key,Jv,i));return r}bn(e,n,r,i,s){te("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,c,u,d,h){const f=l.getIterator(),g=c.getIterator();let m=ah(f),v=ah(g);for(;m||v;){let y=!1,w=!1;if(m&&v){const E=u(m,v);E<0?w=!0:E>0&&(y=!0)}else m!=null?w=!0:y=!0;y?(d(v),v=ah(g)):w?(h(m),m=ah(f)):(m=ah(f),v=ah(g))}}(i,s,Tl,a=>{o.push(this.Dn(e,n,r,a))},a=>{o.push(this.vn(e,n,r,a))}),$.waitFor(o)}yn(e){let n=1;return ch(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Tl(o,a)).filter((o,a,l)=>!a||Tl(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=Tl(o,e),l=Tl(o,n);if(a===0)i[0]=e.Zt();else if(a>0&&l<0)i.push(o),i.push(o.Zt());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Cn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Jv,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Jv,[]];s.push(IDBKeyRange.bound(a,l))}return s}Cn(e,n){return Tl(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(wD)}getMinOffset(e,n){return $.mapArray(this.hn(n),r=>this.Pn(e,r).next(i=>i||ge())).next(wD)}}function _D(t){return cr(t,"collectionParents")}function lh(t){return cr(t,"indexEntries")}function Zp(t){return cr(t,"indexConfiguration")}function ch(t){return cr(t,"indexState")}function wD(t){xe(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;cC(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new vs(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Hr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Hr(e,Hr.DEFAULT_COLLECTION_PERCENTILE,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dB(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:o},(u,d,h)=>(a++,h.delete()));s.push(l.next(()=>{xe(a===1)}));const c=[];for(const u of n.mutations){const d=f5(e,u.key.path,n.batchId);s.push(i.delete(d)),c.push(u.key)}return $.waitFor(s).next(()=>c)}function _w(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ge();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hr.DEFAULT_COLLECTION_PERCENTILE=10,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hr.DEFAULT=new Hr(41943040,Hr.DEFAULT_COLLECTION_PERCENTILE,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hr.DISABLED=new Hr(-1,0,0);class j1{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,n,r,i){xe(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new j1(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Sl(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Ah(e),o=Sl(e);return o.add({}).next(a=>{xe(typeof a=="number");const l=new yC(a,n,r,i),c=function(f,g,m){const v=m.baseMutations.map(w=>ry(f.ct,w)),y=m.mutations.map(w=>ry(f.ct,w));return{userId:g,batchId:m.batchId,localWriteTimeMs:m.localWriteTime.toMillis(),baseMutations:v,mutations:y}}(this.serializer,this.userId,l),u=[];let d=new Rt((h,f)=>qe(h.canonicalString(),f.canonicalString()));for(const h of i){const f=f5(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),u.push(o.put(c)),u.push(s.put(f,bZ))}return d.forEach(h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Fn[a]=l.keys()}),$.waitFor(u).next(()=>l)})}lookupMutationBatch(e,n){return Sl(e).get(n).next(r=>r?(xe(r.userId===this.userId),Du(this.serializer,r)):null)}Mn(e,n){return this.Fn[n]?$.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Fn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Sl(e).J({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(xe(a.batchId>=r),s=Du(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Sl(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Sl(e).U("userMutationsIndex",n).next(r=>r.map(i=>Du(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=n_(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Ah(e).J({range:i},(o,a,l)=>{const[c,u,d]=o,h=$o(u);if(c===this.userId&&n.path.isEqual(h))return Sl(e).get(d).next(f=>{if(!f)throw ge();xe(f.userId===this.userId),s.push(Du(this.serializer,f))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Rt(qe);const i=[];return n.forEach(s=>{const o=n_(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Ah(e).J({range:a},(c,u,d)=>{const[h,f,g]=c,m=$o(f);h===this.userId&&s.path.isEqual(m)?r=r.add(g):d.done()});i.push(l)}),$.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=n_(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Rt(qe);return Ah(e).J({range:o},(l,c,u)=>{const[d,h,f]=l,g=$o(h);d===this.userId&&r.isPrefixOf(g)?g.length===i&&(a=a.add(f)):u.done()}).next(()=>this.xn(e,a))}xn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Sl(e).get(s).next(o=>{if(o===null)throw ge();xe(o.userId===this.userId),r.push(Du(this.serializer,o))}))}),$.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return dB(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),$.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return $.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Ah(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=$o(s[1]);i.push(l)}else a.done()}).next(()=>{xe(i.length===0)})})}containsKey(e,n){return hB(e,this.userId,n)}Nn(e){return fB(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function hB(t,e,n){const r=n_(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Ah(t).J({range:s,H:!0},(a,l,c)=>{const[u,d,h]=a;u===e&&d===i&&(o=!0),c.done()}).next(()=>o)}function Sl(t){return cr(t,"mutations")}function Ah(t){return cr(t,"documentMutations")}function fB(t){return cr(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new vd(0)}static kn(){return new vd(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jee{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{const r=new vd(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>Ce.fromTimestamp(new Yn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Qn(e,i)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>uh(e).delete(n.targetId)).next(()=>this.qn(e)).next(r=>(xe(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return uh(e).J((o,a)=>{const l=xm(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>$.waitFor(s)).next(()=>i)}forEachTarget(e,n){return uh(e).J((r,i)=>{const s=xm(i);n(s)})}qn(e){return ED(e).get("targetGlobalKey").next(n=>(xe(n!==null),n))}Qn(e,n){return ED(e).put("targetGlobalKey",n)}Kn(e,n){return uh(e).put(lB(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=fd(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return uh(e).J({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const c=xm(a);Zy(n,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=zl(e);return n.forEach(o=>{const a=ei(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),$.waitFor(i)}removeMatchingKeys(e,n,r){const i=zl(e);return $.forEach(n,s=>{const o=ei(s.path);return $.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=zl(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=zl(e);let s=ze();return i.J({range:r,H:!0},(o,a,l)=>{const c=$o(o[1]),u=new ce(c);s=s.add(u)}).next(()=>s)}containsKey(e,n){const r=ei(n.path),i=IDBKeyRange.bound([r],[o5(r)],!1,!0);let s=0;return zl(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],l,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}ot(e,n){return uh(e).get(n).next(r=>r?xm(r):null)}}function uh(t){return cr(t,"targets")}function ED(t){return cr(t,"targetGlobal")}function zl(t){return cr(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD([t,e],[n,r]){const i=qe(t,n);return i===0?qe(e,r):i}class Fee{constructor(e){this.Un=e,this.buffer=new Rt(bD),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();bD(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class pB{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){te("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Jc(n)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Xc(n)}await this.Hn(3e5)})}}class Bee{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Vi.oe);const r=new Fee(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(xD)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xD):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),Eh()<=Ze.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function mB(t,e){return new Bee(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uee{constructor(e,n){this.db=e,this.garbageCollector=mB(this,n)}Yn(e){const n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(r,i)=>n(i))}addReference(e,n,r){return Zv(e,r)}removeReference(e,n,r){return Zv(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Zv(e,n)}nr(e,n){return function(i,s){let o=!1;return fB(i).Y(a=>hB(i,a,s).next(l=>(l&&(o=!0),$.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.tr(e,(o,a)=>{if(a<=n){const l=this.nr(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Ce.min()),zl(e).delete(function(d){return[0,ei(d.path)]}(o))))});i.push(l)}}).next(()=>$.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Zv(e,n)}tr(e,n){const r=zl(e);let i,s=Vi.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{o===0?(s!==Vi.oe&&n(new ce($o(i)),s),s=c,i=l):s=Vi.oe}).next(()=>{s!==Vi.oe&&n(new ce($o(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Zv(t,e){return zl(t).put(function(r,i){return{targetId:0,path:ei(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(){this.changes=new hl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ee{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return wu(e).put(r)}removeEntry(e,n,r){return wu(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],yw(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.rr(e,r)))}getEntry(e,n){let r=nn.newInvalidDocument(n);return wu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(em(n))},(i,s)=>{r=this.ir(n,s)}).next(()=>r)}sr(e,n){let r={size:0,document:nn.newInvalidDocument(n)};return wu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(em(n))},(i,s)=>{r={document:this.ir(n,s),size:_w(s)}}).next(()=>r)}getEntries(e,n){let r=Fi();return this._r(e,n,(i,s)=>{const o=this.ir(i,s);r=r.insert(i,o)}).next(()=>r)}ar(e,n){let r=Fi(),i=new zt(ce.comparator);return this._r(e,n,(s,o)=>{const a=this.ir(s,o);r=r.insert(s,a),i=i.insert(s,_w(o))}).next(()=>({documents:r,ur:i}))}_r(e,n,r){if(n.isEmpty())return $.resolve();let i=new Rt(AD);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(em(i.first()),em(i.last())),o=i.getIterator();let a=o.getNext();return wu(e).J({index:"documentKeyIndex",range:s},(l,c,u)=>{const d=ce.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&AD(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?u.$(em(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),yw(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return wu(e).U(IDBKeyRange.bound(a,l,!0)).next(c=>{s==null||s.incrementDocumentReadCount(c.length);let u=Fi();for(const d of c){const h=this.ir(ce.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(tv(n,h)||i.has(h.key))&&(u=u.insert(h.key,h))}return u})}getAllFromCollectionGroup(e,n,r,i){let s=Fi();const o=SD(n,r),a=SD(n,vs.max());return wu(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,u)=>{const d=this.ir(ce.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(d.key,d),s.size===i&&u.done()}).next(()=>s)}newChangeBuffer(e){return new qee(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return TD(e).get("remoteDocumentGlobalKey").next(n=>(xe(!!n),n))}rr(e,n){return TD(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){const r=Cee(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ce.min())))return r}return nn.newInvalidDocument(e)}}function yB(t){return new $ee(t)}class qee extends gB{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new hl(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Rt((s,o)=>qe(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.lr.get(s);if(n.push(this.cr.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=uD(this.cr.serializer,o);i=i.add(s.path.popLast());const c=_w(l);r+=c-a.size,n.push(this.cr.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=uD(this.cr.serializer,o.convertToNoDocument(Ce.min()));n.push(this.cr.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.cr.updateMetadata(e,r)),$.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:r,ur:i})=>(i.forEach((s,o)=>{this.lr.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function TD(t){return cr(t,"remoteDocumentGlobal")}function wu(t){return cr(t,"remoteDocumentsV14")}function em(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function SD(t,e){const n=e.documentKey.path.toArray();return[t,yw(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function AD(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=qe(n[s],r[s]),i)return i;return i=qe(n.length,r.length),i||(i=qe(n[n.length-2],r[r.length-2]),i||qe(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zee{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Km(r.mutation,i,ji.empty(),Yn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ze()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ze()){const i=qo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=_m();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=qo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ze()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Fi();const o=Gm(),a=function(){return Gm()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof fl)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Km(u.mutation,c,u.mutation.getFieldMask(),Yn.now())):o.set(c.key,ji.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new zee(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Gm();let i=new zt((o,a)=>o-a),s=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||ji.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||ze()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=L5();u.forEach(h=>{if(!s.has(h)){const f=$5(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ce.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(qo());let a=-1,l=s;return o.next(c=>$.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?$.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ze())).next(u=>({batchId:a,changes:D5(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ce(n)).next(r=>{let i=_m();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=_m();return this.indexManager.getCollectionParents(e,s).next(a=>$.forEach(a,l=>{const c=function(d,h){return new dl(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,nn.newInvalidDocument(u)))});let a=_m();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&Km(u.mutation,c,ji.empty(),Yn.now()),tv(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wee{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return $.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Mn(i.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:EC(i.bundledQuery),readTime:Mn(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hee{constructor(){this.overlays=new zt(ce.comparator),this.Ir=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=qo();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=qo(),s=n.length+1,o=new ce(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new zt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=qo(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=qo(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return $.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new _C(n,r));let s=this.Ir.get(n);s===void 0&&(s=ze(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gee{constructor(){this.sessionToken=In.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(){this.Tr=new Rt(gr.Er),this.dr=new Rt(gr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new gr(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new gr(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ce(new rt([])),r=new gr(n,e),i=new gr(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ce(new rt([])),r=new gr(n,e),i=new gr(n,e+1);let s=ze();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new gr(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class gr{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ce.comparator(e.key,n.key)||qe(e.wr,n.wr)}static Ar(e,n){return qe(e.wr,n.wr)||ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kee{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Rt(gr.Er)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new yC(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new gr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new gr(n,0),i=new gr(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Rt(qe);return n.forEach(i=>{const s=new gr(i,0),o=new gr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),$.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ce.isDocumentKey(s)||(s=s.child(""));const o=new gr(new ce(s),0);let a=new Rt(qe);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),$.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){xe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return $.forEach(n.mutations,i=>{const s=new gr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new gr(n,0),i=this.br.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yee{constructor(e){this.Mr=e,this.docs=function(){return new zt(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let r=Fi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():nn.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Fi();const o=n.path,a=new ce(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||cC(l5(u),r)<=0||(i.has(u.key)||tv(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ge()}Or(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Qee(this)}getSize(e){return $.resolve(this.size)}}class Qee extends gB{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xee{constructor(e){this.persistence=e,this.Nr=new hl(n=>fd(n),Zy),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new SC,this.targetCount=0,this.kr=vd.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),$.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new vd(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Kn(n),$.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Vi(0),this.Kr=!1,this.Kr=!0,this.$r=new Gee,this.referenceDelegate=e(this),this.Ur=new Xee(this),this.indexManager=new Mee,this.remoteDocumentCache=function(i){return new Yee(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new aB(n),this.Gr=new Wee(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Hee,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Kee(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const i=new Jee(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return $.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Jee extends u5{constructor(e){super(),this.currentSequenceNumber=e}}class F1{constructor(e){this.persistence=e,this.Jr=new SC,this.Yr=null}static Zr(e){return new F1(e)}get Xr(){if(this.Yr)return this.Yr;throw ge()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),$.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Xr,r=>{const i=ce.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Ce.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return $.or([()=>$.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class ww{constructor(e,n){this.persistence=e,this.ti=new hl(r=>ei(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=mB(this,n)}static Zr(e,n){return new ww(e,n)}zr(){}jr(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Yn(e){const n=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}Zn(e,n){return $.forEach(this.ti,(r,i)=>this.nr(e,r,i).next(s=>s?$.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Or(e,o=>this.nr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,Ce.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ti.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.ti.set(n,e.currentSequenceNumber),$.resolve()}Wr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=i_(e.data.value)),n}nr(e,n,r){return $.or([()=>this.persistence.Hr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ti.get(n);return $.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zee{constructor(e){this.serializer=e}O(e,n,r,i){const s=new N1("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",BO,{unique:!0}),l.createObjectStore("documentMutations")}(e),ID(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=$.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),ID(e)),o=o.next(()=>function(l){const c=l.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ce.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",u)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,c){return c.store("mutations").U().next(u=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",BO,{unique:!0});const d=c.store("mutations"),h=u.map(f=>d.put(f));return $.waitFor(h)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.ni(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ri(s)))),r<7&&i>=7&&(o=o.next(()=>this.ii(s))),r<8&&i>=8&&(o=o.next(()=>this.si(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.oi(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const c=l.createObjectStore("documentOverlays",{keyPath:LZ});c.createIndex("collectionPathOverlayIndex",MZ,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",VZ,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:TZ});c.createIndex("documentKeyIndex",SZ),c.createIndex("collectionGroupIndex",AZ)}(e)).next(()=>this._i(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ai(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:NZ}).createIndex("sequenceNumberIndex",kZ,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:OZ}).createIndex("documentKeyIndex",DZ,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&i>=17&&(o=o.next(()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)})),o}ri(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=_w(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>$.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>$.forEach(a,l=>{xe(l.userId===s.userId);const c=Du(this.serializer,l);return dB(e,s.userId,c).next(()=>{})}))}))}ii(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.J((o,a)=>{const l=new rt(o),c=function(d){return[0,ei(d)]}(l);s.push(n.get(c).next(u=>u?$.resolve():(d=>n.put({targetId:0,path:ei(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>$.waitFor(s))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:PZ});const r=n.store("collectionParents"),i=new TC,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:ei(l)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{const l=new rt(o);return s(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,l],c)=>{const u=$o(a);return s(u.popLast())}))}oi(e){const n=e.store("targets");return n.J((r,i)=>{const s=xm(i),o=lB(this.serializer,s);return n.put(o)})}_i(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(d){return d.document?new ce(rt.fromString(d.document.name).popFirst(5)):d.noDocument?ce.fromSegments(d.noDocument.path):d.unknownDocument?ce.fromSegments(d.unknownDocument.path):ge()}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>$.waitFor(i))}ai(e,n){const r=n.store("mutations"),i=yB(this.serializer),s=new AC(F1.Zr,this.serializer.ct);return r.U().next(o=>{const a=new Map;return o.forEach(l=>{var c;let u=(c=a.get(l.userId))!==null&&c!==void 0?c:ze();Du(this.serializer,l).keys().forEach(d=>u=u.add(d)),a.set(l.userId,u)}),$.forEach(a,(l,c)=>{const u=new vr(c),d=V1.lt(this.serializer,u),h=s.getIndexManager(u),f=j1.lt(u,this.serializer,h,s.referenceDelegate);return new vB(i,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new UT(n,Vi.oe),l).next()})})}}function ID(t){t.createObjectStore("targetDocuments",{keyPath:CZ}).createIndex("documentTargetsIndex",RZ,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",IZ,{unique:!0}),t.createObjectStore("targetGlobal")}const SE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class IC{constructor(e,n,r,i,s,o,a,l,c,u,d=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=s,this.window=o,this.document=a,this.ci=c,this.li=u,this.hi=d,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=h=>Promise.resolve(),!IC.D())throw new ee(G.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Uee(this,i),this.Ai=n+"main",this.serializer=new aB(l),this.Ri=new Yo(this.Ai,this.hi,new Zee(this.serializer)),this.$r=new Pee,this.Ur=new jee(this.referenceDelegate,this.serializer),this.remoteDocumentCache=yB(this.serializer),this.Gr=new Ree,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,u===!1&&Dn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ee(G.FAILED_PRECONDITION,SE);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new Vi(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>e0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(Jc(e))return te("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return te("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return tm(e).get("owner").next(n=>$.resolve(this.vi(n)))}Ci(e){return e0(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=cr(n,"clientMetadata");return r.U().next(i=>{const s=this.xi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return $.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Vi)for(const n of e)this.Vi.removeItem(this.Oi(n.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?$.resolve(!0):tm(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new ee(G.FAILED_PRECONDITION,SE);return!1}}return!(!this.networkEnabled||!this.inForeground)||e0(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&te("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new UT(e,Vi.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()}xi(e,n){return e.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>e0(e).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return j1.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Vee(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return V1.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){te("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===17?BZ:l===16?FZ:l===15?dC:l===14?g5:l===13?m5:l===12?jZ:l===11?p5:void ge()}(this.hi);let o;return this.Ri.runTransaction(e,i,s,a=>(o=new UT(a,this.Qr?this.Qr.next():Vi.oe),n==="readwrite-primary"?this.wi(o).next(l=>!!l||this.Si(o)).next(l=>{if(!l)throw Dn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new ee(G.FAILED_PRECONDITION,c5);return r(o)}).next(l=>this.Di(o).next(()=>l)):this.Ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ki(e){return tm(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ee(G.FAILED_PRECONDITION,SE)})}Di(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return tm(e).put("owner",n)}static D(){return Yo.D()}bi(e){const n=tm(e);return n.get("owner").next(r=>this.vi(r)?(te("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):$.resolve())}Mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Dn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const n=/(?:Version|Mobile)\/1[456]/;t3()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{const r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return te("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Dn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Dn("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function tm(t){return cr(t,"owner")}function e0(t){return cr(t,"clientMetadata")}function CC(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ze(),i=ze();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new RC(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ete{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return t3()?8:d5(ar())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new ete;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Eh()<=Ze.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",bh(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),$.resolve()):(Eh()<=Ze.DEBUG&&te("QueryEngine","Query:",bh(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Eh()<=Ze.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",bh(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(n))):$.resolve())}Yi(e,n){if(ZO(n))return $.resolve(null);let r=bi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=gw(n,null,"F"),r=bi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ze(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,gw(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return ZO(n)||i.isEqual(Ce.min())?$.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?$.resolve(null):(Eh()<=Ze.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),bh(n)),this.rs(e,o,n,a5(i,-1)).next(a=>a))})}ts(e,n){let r=new Rt(k5(e));return n.forEach((i,s)=>{tv(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Eh()<=Ze.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",bh(n)),this.Ji.getDocumentsMatchingQuery(e,n,vs.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tte{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new zt(qe),this._s=new hl(s=>fd(s),Zy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vB(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function wB(t,e,n,r){return new tte(t,e,n,r)}async function xB(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ze();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function nte(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let f=$.resolve();return h.forEach(g=>{f=f.next(()=>u.getEntry(l,g)).next(m=>{const v=c.docVersions.get(g);xe(v!==null),m.version.compareTo(v)<0&&(d.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ze();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function EB(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function rte(t,e){const n=de(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(n.Ur.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(In.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),function(m,v,y){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,f,u)&&a.push(n.Ur.updateTargetData(s,f))});let l=Fi(),c=ze();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(bB(s,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(Ce.min())){const u=n.Ur.getLastRemoteSnapshotVersion(s).next(d=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function bB(t,e,n){let r=ze(),i=ze();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Fi();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ce.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function ite(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Hf(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Ma(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Gf(t,e,n){const r=de(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Jc(o))throw o;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function xw(t,e,n){const r=de(t);let i=Ce.min(),s=ze();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=de(l),h=d._s.get(u);return h!==void 0?$.resolve(d.os.get(h)):d.Ur.getTargetData(c,u)}(r,o,bi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:Ce.min(),n?s:ze())).next(a=>(AB(r,N5(e),a),{documents:a,Ts:s})))}function TB(t,e){const n=de(t),r=de(n.Ur),i=n.os.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ot(s,e).next(o=>o?o.target:null))}function SB(t,e){const n=de(t),r=n.us.get(e)||Ce.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.cs.getAllFromCollectionGroup(i,e,a5(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(AB(n,e,i),i))}function AB(t,e,n){let r=t.us.get(e)||Ce.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}async function ste(t,e,n,r){const i=de(t);let s=ze(),o=Fi();for(const c of n){const u=e.Es(c.metadata.name);c.document&&(s=s.add(u));const d=e.ds(c);d.setReadTime(e.As(c.metadata.readTime)),o=o.insert(u,d)}const a=i.cs.newChangeBuffer({trackRemovals:!0}),l=await Hf(i,function(u){return bi(xp(rt.fromString(`__bundle__/docs/${u}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>bB(c,a,o).next(u=>(a.apply(c),u)).next(u=>i.Ur.removeMatchingKeysForTargetId(c,l.targetId).next(()=>i.Ur.addMatchingKeys(c,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,u.Ps,u.Is)).next(()=>u.Ps)))}async function ote(t,e,n=ze()){const r=await Hf(t,bi(EC(e.bundledQuery))),i=de(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=Mn(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Gr.saveNamedQuery(s,e);const a=r.withResumeToken(In.EMPTY_BYTE_STRING,o);return i.os=i.os.insert(a.targetId,a),i.Ur.updateTargetData(s,a).next(()=>i.Ur.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Ur.addMatchingKeys(s,n,r.targetId)).next(()=>i.Gr.saveNamedQuery(s,e))})}function CD(t,e){return`firestore_clients_${t}_${e}`}function RD(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function AE(t,e){return`firestore_targets_${t}_${e}`}class Ew{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Rs(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new ee(i.error.code,i.error.message))),o?new Ew(e,n,i.state,s):(Dn("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ym{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Rs(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new ee(r.error.code,r.error.message))),s?new Ym(e,r.state,i):(Dn("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class bw{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Rs(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=pC();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=h5(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new bw(e,s):(Dn("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class PC{constructor(e,n){this.clientId=e,this.onlineState=n}static Rs(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new PC(n.clientId,n.onlineState):(Dn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class tS{constructor(){this.activeTargetIds=pC()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IE{constructor(e,n,r,i,s){this.window=e,this.ui=n,this.persistenceKey=r,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new zt(qe),this.started=!1,this.bs=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ds=CD(this.persistenceKey,this.ps),this.vs=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new tS),this.Cs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.xs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Os=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Qi();for(const r of e){if(r===this.ps)continue;const i=this.getItem(CD(this.persistenceKey,r));if(i){const s=bw.Rs(r,i);s&&(this.Ss=this.Ss.insert(s.clientId,s))}}this.Ns();const n=this.storage.getItem(this.xs);if(n){const r=this.Ls(n);r&&this.Bs(r)}for(const r of this.bs)this.ws(r);this.bs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let n=!1;return this.Ss.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,n,r){this.qs(e,n,r),this.Qs(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(AE(this.persistenceKey,e));if(i){const s=Ym.Rs(e,i);s&&(r=s.state)}}return n&&this.Ks.fs(e),this.Ns(),r}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(AE(this.persistenceKey,e))}updateQueryState(e,n,r){this.$s(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Qs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return te("SharedClientState","READ",e,n),n}setItem(e,n){te("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){te("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){const n=e;if(n.storageArea===this.storage){if(te("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ds)return void Dn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Cs.test(n.key)){if(n.newValue==null){const r=this.Gs(n.key);return this.zs(r,null)}{const r=this.js(n.key,n.newValue);if(r)return this.zs(r.clientId,r)}}else if(this.Fs.test(n.key)){if(n.newValue!==null){const r=this.Hs(n.key,n.newValue);if(r)return this.Js(r)}}else if(this.Ms.test(n.key)){if(n.newValue!==null){const r=this.Ys(n.key,n.newValue);if(r)return this.Zs(r)}}else if(n.key===this.xs){if(n.newValue!==null){const r=this.Ls(n.newValue);if(r)return this.Bs(r)}}else if(n.key===this.vs){const r=function(s){let o=Vi.oe;if(s!=null)try{const a=JSON.parse(s);xe(typeof a=="number"),o=a}catch(a){Dn("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==Vi.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Os){const r=this.Xs(n.newValue);await Promise.all(r.map(i=>this.syncEngine.eo(i)))}}}else this.bs.push(n)})}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,n,r){const i=new Ew(this.currentUser,e,n,r),s=RD(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Vs())}Qs(e){const n=RD(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Us(e){const n={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(n))}$s(e,n,r){const i=AE(this.persistenceKey,e),s=new Ym(e,n,r);this.setItem(i,s.Vs())}Ws(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Os,n)}Gs(e){const n=this.Cs.exec(e);return n?n[1]:null}js(e,n){const r=this.Gs(e);return bw.Rs(r,n)}Hs(e,n){const r=this.Fs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Ew.Rs(new vr(s),i,n)}Ys(e,n){const r=this.Ms.exec(e),i=Number(r[1]);return Ym.Rs(i,n)}Ls(e){return PC.Rs(e)}Xs(e){return JSON.parse(e)}async Js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);te("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,n){const r=n?this.Ss.insert(e,n):this.Ss.remove(e),i=this.ks(this.Ss),s=this.ks(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.io(o,a).then(()=>{this.Ss=r})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let n=pC();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class IB{constructor(){this.so=new tS,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new tS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ate{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t0=null;function CE(){return t0===null?t0=function(){return 268435456+Math.round(2147483648*Math.random())}():t0++,"0x"+t0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lte={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cte{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr="WebChannelConnection";class ute extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=CE(),l=this.xo(n,r.toUriEncodedString());te("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,l,c,i).then(u=>(te("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw ia("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wp}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=lte[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=CE();return new Promise((o,a)=>{const l=new Z3;l.setWithCredentials(!0),l.listenOnce(e5.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Z0.NO_ERROR:const u=l.getResponseJson();te(qr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case Z0.TIMEOUT:te(qr,`RPC '${e}' ${s} timed out`),a(new ee(G.DEADLINE_EXCEEDED,"Request time out"));break;case Z0.HTTP_ERROR:const d=l.getStatus();if(te(qr,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const g=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(y)>=0?y:G.UNKNOWN}(f.status);a(new ee(g,f.message))}else a(new ee(G.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ee(G.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{te(qr,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);te(qr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=CE(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=r5(),a=n5(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");te(qr,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,f=!1;const g=new cte({Io:v=>{f?te(qr,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(te(qr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),te(qr,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},To:()=>d.close()}),m=(v,y,w)=>{v.listen(y,E=>{try{w(E)}catch(S){setTimeout(()=>{throw S},0)}})};return m(d,vm.EventType.OPEN,()=>{f||(te(qr,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),m(d,vm.EventType.CLOSE,()=>{f||(f=!0,te(qr,`RPC '${e}' stream ${i} transport closed`),g.So())}),m(d,vm.EventType.ERROR,v=>{f||(f=!0,ia(qr,`RPC '${e}' stream ${i} transport errored:`,v),g.So(new ee(G.UNAVAILABLE,"The operation could not be completed")))}),m(d,vm.EventType.MESSAGE,v=>{var y;if(!f){const w=v.data[0];xe(!!w);const E=w,S=E.error||((y=E[0])===null||y===void 0?void 0:y.error);if(S){te(qr,`RPC '${e}' stream ${i} received error:`,S);const C=S.status;let N=function(P){const k=qn[P];if(k!==void 0)return W5(k)}(C),T=S.message;N===void 0&&(N=G.INTERNAL,T="Unknown error status: "+C+" with message "+S.message),f=!0,g.So(new ee(N,T)),d.close()}else te(qr,`RPC '${e}' stream ${i} received:`,w),g.bo(w)}}),m(a,t5.STAT_EVENT,v=>{v.stat===FT.PROXY?te(qr,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===FT.NOPROXY&&te(qr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(){return typeof window<"u"?window:null}function l_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(t){return new vee(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new NC(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(Dn(n.toString()),Dn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ee(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dte extends RB{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=xee(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ce.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ce.min():o.readTime?Mn(o.readTime):Ce.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=QT(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=pw(l)?{documents:tB(s,l)}:{query:nB(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Y5(s,o.resumeToken);const c=KT(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ce.min())>0){a.readTime=Wf(s,o.snapshotVersion.toTimestamp());const c=KT(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=bee(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=QT(this.serializer),n.removeTarget=e,this.a_(n)}}class hte extends RB{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return xe(!!e.streamToken),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Eee(e.writeResults,e.commitTime),r=Mn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=QT(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>ry(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fte extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ee(G.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,YT(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee(G.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,YT(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee(G.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class pte{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Dn(n),this.D_=!1):te("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mte{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{eu(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=de(l);c.L_.add(4),await Tp(c),c.q_.set("Unknown"),c.L_.delete(4),await ov(c)}(this))})}),this.q_=new pte(r,i)}}async function ov(t){if(eu(t))for(const e of t.B_)await e(!0)}async function Tp(t){for(const e of t.B_)await e(!1)}function B1(t,e){const n=de(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),DC(n)?OC(n):Ap(n).r_()&&kC(n,e))}function Kf(t,e){const n=de(t),r=Ap(n);n.N_.delete(e),r.r_()&&PB(n,e),n.N_.size===0&&(r.r_()?r.o_():eu(n)&&n.q_.set("Unknown"))}function kC(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ap(t).A_(e)}function PB(t,e){t.Q_.xe(e),Ap(t).R_(e)}function OC(t){t.Q_=new pee({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ap(t).start(),t.q_.v_()}function DC(t){return eu(t)&&!Ap(t).n_()&&t.N_.size>0}function eu(t){return de(t).L_.size===0}function NB(t){t.Q_=void 0}async function gte(t){t.q_.set("Online")}async function yte(t){t.N_.forEach((e,n)=>{kC(t,e)})}async function vte(t,e){NB(t),DC(t)?(t.q_.M_(e),OC(t)):t.q_.set("Unknown")}async function _te(t,e,n){if(t.q_.set("Online"),e instanceof K5&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Tw(t,r)}else if(e instanceof a_?t.Q_.Ke(e):e instanceof G5?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ce.min()))try{const r=await EB(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.N_.get(c);u&&s.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.N_.get(l);if(!u)return;s.N_.set(l,u.withResumeToken(In.EMPTY_BYTE_STRING,u.snapshotVersion)),PB(s,l);const d=new Ma(u.target,l,c,u.sequenceNumber);kC(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){te("RemoteStore","Failed to raise snapshot:",r),await Tw(t,r)}}async function Tw(t,e,n){if(!Jc(e))throw e;t.L_.add(1),await Tp(t),t.q_.set("Offline"),n||(n=()=>EB(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await ov(t)})}function kB(t,e){return e().catch(n=>Tw(t,n,e))}async function Sp(t){const e=de(t),n=Nc(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;wte(e);)try{const i=await ite(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,xte(e,i)}catch(i){await Tw(e,i)}OB(e)&&DB(e)}function wte(t){return eu(t)&&t.O_.length<10}function xte(t,e){t.O_.push(e);const n=Nc(t);n.r_()&&n.V_&&n.m_(e.mutations)}function OB(t){return eu(t)&&!Nc(t).n_()&&t.O_.length>0}function DB(t){Nc(t).start()}async function Ete(t){Nc(t).p_()}async function bte(t){const e=Nc(t);for(const n of t.O_)e.m_(n.mutations)}async function Tte(t,e,n){const r=t.O_.shift(),i=vC.from(r,e,n);await kB(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Sp(t)}async function Ste(t,e){e&&Nc(t).V_&&await async function(r,i){if(function(o){return z5(o)&&o!==G.ABORTED}(i.code)){const s=r.O_.shift();Nc(r).s_(),await kB(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Sp(r)}}(t,e),OB(t)&&DB(t)}async function ND(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const r=eu(n);n.L_.add(3),await Tp(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await ov(n)}async function nS(t,e){const n=de(t);e?(n.L_.delete(2),await ov(n)):e||(n.L_.add(2),await Tp(n),n.q_.set("Unknown"))}function Ap(t){return t.K_||(t.K_=function(n,r,i){const s=de(n);return s.w_(),new dte(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:gte.bind(null,t),Ro:yte.bind(null,t),mo:vte.bind(null,t),d_:_te.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),DC(t)?OC(t):t.q_.set("Unknown")):(await t.K_.stop(),NB(t))})),t.K_}function Nc(t){return t.U_||(t.U_=function(n,r,i){const s=de(n);return s.w_(),new hte(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Ete.bind(null,t),mo:Ste.bind(null,t),f_:bte.bind(null,t),g_:Tte.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Sp(t)):(await t.U_.stop(),t.O_.length>0&&(te("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new LC(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ip(t,e){if(Dn("AsyncQueue",`${e}: ${t}`),Jc(t))return new ee(G.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ce.comparator(n.key,r.key):(n,r)=>ce.comparator(n.key,r.key),this.keyedMap=_m(),this.sortedSet=new zt(this.comparator)}static emptySet(e){return new hf(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof hf)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new hf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this.W_=new zt(ce.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ge():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Yf{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Yf(e,n,hf.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ev(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ate{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Ite{constructor(){this.queries=OD(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=de(n),s=i.queries;i.queries=OD(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ee(G.ABORTED,"Firestore shutting down"))}}function OD(){return new hl(t=>P5(t),ev)}async function MC(t,e){const n=de(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Ate,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Ip(o,`Initialization of query '${bh(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&jC(n)}async function VC(t,e){const n=de(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Cte(t,e){const n=de(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&jC(n)}function Rte(t,e,n){const r=de(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function jC(t){t.Y_.forEach(e=>{e.next()})}var rS,DD;(DD=rS||(rS={})).ea="default",DD.Cache="cache";class FC{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Yf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Yf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==rS.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pte{constructor(e,n){this.aa=e,this.byteLength=n}ua(){return"metadata"in this.aa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.serializer=e}Es(e){return Qo(this.serializer,e)}ds(e){return e.metadata.exists?eB(this.serializer,e.document,!1):nn.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Mn(e)}}class Nte{constructor(e,n,r){this.ca=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=LB(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++n;const r=rt.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ha(e){const n=new Map,r=new LD(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Es(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||ze()).add(s);n.set(o,a)}}return n}async complete(){const e=await ste(this.localStore,new LD(this.serializer),this.documents,this.ca.id),n=this.ha(this.documents);for(const r of this.queries)await ote(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}}}function LB(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e){this.key=e}}class VB{constructor(e){this.key=e}}class jB{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ze(),this.mutatedKeys=ze(),this.Aa=k5(e),this.Ra=new hf(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new kD,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=tv(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;h&&f?h.data.isEqual(f.data)?g!==m&&(r.track({type:3,doc:f}),v=!0):this.ga(h,f)||(r.track({type:2,doc:f}),v=!0,(l&&this.Aa(f,l)>0||c&&this.Aa(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),v=!0):h&&!f&&(r.track({type:1,doc:h}),v=!0,(l||c)&&(a=!0)),v&&(f?(o=o.add(f),s=m?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,d)=>function(f,g){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return m(f)-m(g)}(u.type,d.type)||this.Aa(u.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Yf(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new kD,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ze(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new VB(r))}),this.da.forEach(r=>{e.has(r)||n.push(new MB(r))}),n}ba(e){this.Ta=e.Ts,this.da=ze();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Yf.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class kte{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Ote{constructor(e){this.key=e,this.va=!1}}class Dte{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new hl(a=>P5(a),ev),this.Ma=new Map,this.xa=new Set,this.Oa=new zt(ce.comparator),this.Na=new Map,this.La=new SC,this.Ba={},this.ka=new Map,this.qa=vd.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Lte(t,e,n=!0){const r=U1(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await FB(r,e,n,!0),i}async function Mte(t,e){const n=U1(t);await FB(n,e,!0,!1)}async function FB(t,e,n,r){const i=await Hf(t.localStore,bi(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await BC(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&B1(t.remoteStore,i),a}async function BC(t,e,n,r,i){t.Ka=(d,h,f)=>async function(m,v,y,w){let E=v.view.ma(y);E.ns&&(E=await xw(m.localStore,v.query,!1).then(({documents:T})=>v.view.ma(T,E)));const S=w&&w.targetChanges.get(v.targetId),C=w&&w.targetMismatches.get(v.targetId)!=null,N=v.view.applyChanges(E,m.isPrimaryClient,S,C);return iS(m,v.targetId,N.wa),N.snapshot}(t,d,h,f);const s=await xw(t.localStore,e,!0),o=new jB(e,s.Ts),a=o.ma(s.documents),l=iv.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);iS(t,n,c.wa);const u=new kte(e,n,o);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function Vte(t,e,n){const r=de(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!ev(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Gf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Kf(r.remoteStore,i.targetId),Qf(r,i.targetId)}).catch(Xc)):(Qf(r,i.targetId),await Gf(r.localStore,i.targetId,!0))}async function jte(t,e){const n=de(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Kf(n.remoteStore,r.targetId))}async function Fte(t,e,n){const r=zC(t);try{const i=await function(o,a){const l=de(o),c=Yn.now(),u=a.reduce((f,g)=>f.add(g.key),ze());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=Fi(),m=ze();return l.cs.getEntries(f,u).next(v=>{g=v,g.forEach((y,w)=>{w.isValidDocument()||(m=m.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,g)).next(v=>{d=v;const y=[];for(const w of a){const E=dee(w,d.get(w.key).overlayedDocument);E!=null&&y.push(new fl(w.key,E,x5(E.value.mapValue),un.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,y,a)}).next(v=>{h=v;const y=v.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(f,v.batchId,y)})}).then(()=>({batchId:h.batchId,changes:D5(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new zt(qe)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await pl(r,i.changes),await Sp(r.remoteStore)}catch(i){const s=Ip(i,"Failed to persist write");n.reject(s)}}async function BB(t,e){const n=de(t);try{const r=await rte(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?xe(o.va):i.removedDocuments.size>0&&(xe(o.va),o.va=!1))}),await pl(n,r,e)}catch(r){await Xc(r)}}function MD(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=de(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.j_)h.Z_(a)&&(c=!0)}),c&&jC(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Bte(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new zt(ce.comparator);o=o.insert(s,nn.newNoDocument(s,Ce.min()));const a=ze().add(s),l=new rv(Ce.min(),new Map,new zt(qe),o,a);await BB(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),qC(r)}else await Gf(r.localStore,e,!1).then(()=>Qf(r,e,n)).catch(Xc)}async function Ute(t,e){const n=de(t),r=e.batch.batchId;try{const i=await nte(n.localStore,e);$C(n,r,null),UC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await pl(n,i)}catch(i){await Xc(i)}}async function $te(t,e,n){const r=de(t);try{const i=await function(o,a){const l=de(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(xe(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);$C(r,e,n),UC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await pl(r,i)}catch(i){await Xc(i)}}async function qte(t,e){const n=de(t);eu(n.remoteStore)||te("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=de(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===-1)return void e.resolve();const i=n.ka.get(r)||[];i.push(e),n.ka.set(r,i)}catch(r){const i=Ip(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function UC(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function $C(t,e,n){const r=de(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Qf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||UB(t,r)})}function UB(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Kf(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),qC(t))}function iS(t,e,n){for(const r of n)r instanceof MB?(t.La.addReference(r.key,e),zte(t,r)):r instanceof VB?(te("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||UB(t,r.key)):ge()}function zte(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(te("SyncEngine","New document in limbo: "+n),t.xa.add(r),qC(t))}function qC(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ce(rt.fromString(e)),r=t.qa.next();t.Na.set(r,new Ote(n)),t.Oa=t.Oa.insert(n,r),B1(t.remoteStore,new Ma(bi(xp(n.path)),r,"TargetPurposeLimboResolution",Vi.oe))}}async function pl(t,e,n){const r=de(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=RC.Wi(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const u=de(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>$.forEach(c,h=>$.forEach(h.$i,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>$.forEach(h.Ui,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Jc(d))throw d;te("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=u.os.get(h),g=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(g);u.os=u.os.insert(h,m)}}}(r.localStore,s))}async function Wte(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const r=await xB(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new ee(G.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await pl(n,r.hs)}}function Hte(t,e){const n=de(t),r=n.Na.get(e);if(r&&r.va)return ze().add(r.key);{let i=ze();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}async function Gte(t,e){const n=de(t),r=await xw(n.localStore,e.query,!0),i=e.view.ba(r);return n.isPrimaryClient&&iS(n,e.targetId,i.wa),i}async function Kte(t,e){const n=de(t);return SB(n.localStore,e).then(r=>pl(n,r))}async function Yte(t,e,n,r){const i=de(t),s=await function(a,l){const c=de(a),u=de(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",d=>u.Mn(d,l).next(h=>h?c.localDocuments.getDocuments(d,h):$.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await Sp(i.remoteStore):n==="acknowledged"||n==="rejected"?($C(i,e,r||null),UC(i,e),function(a,l){de(de(a).mutationQueue).On(l)}(i.localStore,e)):ge(),await pl(i,s)):te("SyncEngine","Cannot apply mutation batch with id: "+e)}async function Qte(t,e){const n=de(t);if(U1(n),zC(n),e===!0&&n.Qa!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await VD(n,r.toArray());n.Qa=!0,await nS(n.remoteStore,!0);for(const s of i)B1(n.remoteStore,s)}else if(e===!1&&n.Qa!==!1){const r=[];let i=Promise.resolve();n.Ma.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Qf(n,o),Gf(n.localStore,o,!0))),Kf(n.remoteStore,o)}),await i,await VD(n,r),function(o){const a=de(o);a.Na.forEach((l,c)=>{Kf(a.remoteStore,c)}),a.La.pr(),a.Na=new Map,a.Oa=new zt(ce.comparator)}(n),n.Qa=!1,await nS(n.remoteStore,!1)}}async function VD(t,e,n){const r=de(t),i=[],s=[];for(const o of e){let a;const l=r.Ma.get(o);if(l&&l.length!==0){a=await Hf(r.localStore,bi(l[0]));for(const c of l){const u=r.Fa.get(c),d=await Gte(r,u);d.snapshot&&s.push(d.snapshot)}}else{const c=await TB(r.localStore,o);a=await Hf(r.localStore,c),await BC(r,$B(c),o,!1,a.resumeToken)}i.push(a)}return r.Ca.d_(s),i}function $B(t){return R5(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Xte(t){return function(n){return de(de(n).persistence).Qi()}(de(t).localStore)}async function Jte(t,e,n,r){const i=de(t);if(i.Qa)return void te("SyncEngine","Ignoring unexpected query state notification.");const s=i.Ma.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await SB(i.localStore,N5(s[0])),a=rv.createSynthesizedRemoteEventForCurrentChange(e,n==="current",In.EMPTY_BYTE_STRING);await pl(i,o,a);break}case"rejected":await Gf(i.localStore,e,!0),Qf(i,e,r);break;default:ge()}}async function Zte(t,e,n){const r=U1(t);if(r.Qa){for(const i of e){if(r.Ma.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){te("SyncEngine","Adding an already active target "+i);continue}const s=await TB(r.localStore,i),o=await Hf(r.localStore,s);await BC(r,$B(s),o.targetId,!1,o.resumeToken),B1(r.remoteStore,o)}for(const i of n)r.Ma.has(i)&&await Gf(r.localStore,i,!1).then(()=>{Kf(r.remoteStore,i),Qf(r,i)}).catch(Xc)}}function U1(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hte.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Bte.bind(null,e),e.Ca.d_=Cte.bind(null,e.eventManager),e.Ca.$a=Rte.bind(null,e.eventManager),e}function zC(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ute.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$te.bind(null,e),e}function ene(t,e,n){const r=de(t);(async function(s,o,a){try{const l=await o.getMetadata();if(await function(f,g){const m=de(f),v=Mn(g.createTime);return m.persistence.runTransaction("hasNewerBundle","readonly",y=>m.Gr.getBundleMetadata(y,g.id)).then(y=>!!y&&y.createTime.compareTo(v)>=0)}(s.localStore,l))return await o.close(),a._completeWith(function(f){return{taskState:"Success",documentsLoaded:f.totalDocuments,bytesLoaded:f.totalBytes,totalDocuments:f.totalDocuments,totalBytes:f.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(LB(l));const c=new Nte(l,s.localStore,o.serializer);let u=await o.Ua();for(;u;){const h=await c.la(u);h&&a._updateProgress(h),u=await o.Ua()}const d=await c.complete();return await pl(s,d.Ia,void 0),await function(f,g){const m=de(f);return m.persistence.runTransaction("Save bundle","readwrite",v=>m.Gr.saveBundleMetadata(v,g))}(s.localStore,l),a._completeWith(d.progress),Promise.resolve(d.Pa)}catch(l){return ia("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class iy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sv(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return wB(this.persistence,new _B,e.initialUser,this.serializer)}Ga(e){return new AC(F1.Zr,this.serializer)}Wa(e){return new IB}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}iy.provider={build:()=>new iy};class tne extends iy{constructor(e){super(),this.cacheSizeBytes=e}ja(e,n){xe(this.persistence.referenceDelegate instanceof ww);const r=this.persistence.referenceDelegate.garbageCollector;return new pB(r,e.asyncQueue,n)}Ga(e){const n=this.cacheSizeBytes!==void 0?Hr.withCacheSize(this.cacheSizeBytes):Hr.DEFAULT;return new AC(r=>ww.Zr(r,n),this.serializer)}}class qB extends iy{constructor(e,n,r){super(),this.Ja=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await zC(this.Ja.syncEngine),await Sp(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return wB(this.persistence,new _B,e.initialUser,this.serializer)}ja(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new pB(r,e.asyncQueue,n)}Ha(e,n){const r=new xZ(n,this.persistence);return new wZ(e.asyncQueue,r)}Ga(e){const n=CC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Hr.withCacheSize(this.cacheSizeBytes):Hr.DEFAULT;return new IC(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,CB(),l_(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new IB}}class nne extends qB{constructor(e,n){super(e,n,!1),this.Ja=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Ja.syncEngine;this.sharedClientState instanceof IE&&(this.sharedClientState.syncEngine={no:Yte.bind(null,n),ro:Jte.bind(null,n),io:Zte.bind(null,n),Qi:Xte.bind(null,n),eo:Kte.bind(null,n)},await this.sharedClientState.start()),await this.persistence.yi(async r=>{await Qte(this.Ja.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Wa(e){const n=CB();if(!IE.D(n))throw new ee(G.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=CC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new IE(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class sy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>MD(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Wte.bind(null,this.syncEngine),await nS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ite}()}createDatastore(e){const n=sv(e.databaseInfo.databaseId),r=function(s){return new ute(s)}(e.databaseInfo);return function(s,o,a,l){return new fte(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new mte(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>MD(this.syncEngine,n,0),function(){return PD.D()?new PD:new ate}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,u){const d=new Dte(i,s,o,a,l,c);return u&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=de(i);te("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Tp(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}sy.provider={build:()=>new sy};function jD(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Dn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rne{constructor(e,n){this.Xa=e,this.serializer=n,this.metadata=new Pr,this.buffer=new Uint8Array,this.eu=function(){return new TextDecoder("utf-8")}(),this.tu().then(r=>{r&&r.ua()?this.metadata.resolve(r.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.aa)}`))},r=>this.metadata.reject(r))}close(){return this.Xa.cancel()}async getMetadata(){return this.metadata.promise}async Ua(){return await this.getMetadata(),this.tu()}async tu(){const e=await this.nu();if(e===null)return null;const n=this.eu.decode(e),r=Number(n);isNaN(r)&&this.ru(`length string (${n}) is not valid number`);const i=await this.iu(r);return new Pte(JSON.parse(i),e.length+r)}su(){return this.buffer.findIndex(e=>e===123)}async nu(){for(;this.su()<0&&!await this.ou(););if(this.buffer.length===0)return null;const e=this.su();e<0&&this.ru("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async iu(e){for(;this.buffer.length<e;)await this.ou()&&this.ru("Reached the end of bundle when more is expected.");const n=this.eu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}async ou(){const e=await this.Xa.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ine{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ee(G.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=de(i),a={documents:s.map(d=>ny(o.serializer,d))},l=await o.Lo("BatchGetDocuments",o.serializer.databaseId,rt.emptyPath(),a,s.length),c=new Map;l.forEach(d=>{const h=wee(o.serializer,d);c.set(h.key.toString(),h)});const u=[];return s.forEach(d=>{const h=c.get(d.toString());xe(!!h),u.push(h)}),u}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new bp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=ce.fromPath(r);this.mutations.push(new gC(i,this.precondition(i)))}),await async function(r,i){const s=de(r),o={writes:i.map(a=>ry(s.serializer,a))};await s.Mo("Commit",s.serializer.databaseId,rt.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ge();n=Ce.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new ee(G.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ce.min())?un.exists(!1):un.updateTime(n):un.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ce.min()))throw new ee(G.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return un.updateTime(n)}return un.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sne{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this._u=r.maxAttempts,this.t_=new NC(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new ine(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.lu(i)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!Jy(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!z5(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class one{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=vr.UNAUTHENTICATED,this.clientId=s5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{te("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(te("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ip(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function RE(t,e){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await xB(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function FD(t,e){t.asyncQueue.verifyOperationInProgress();const n=await WC(t);te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ND(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ND(e.remoteStore,i)),t._onlineComponents=e}async function WC(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await RE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===G.FAILED_PRECONDITION||i.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ia("Error using user provided cache. Falling back to memory cache: "+n),await RE(t,new iy)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await RE(t,new tne(void 0));return t._offlineComponents}async function q1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await FD(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await FD(t,new sy))),t._onlineComponents}function zB(t){return WC(t).then(e=>e.persistence)}function HC(t){return WC(t).then(e=>e.localStore)}function WB(t){return q1(t).then(e=>e.remoteStore)}function GC(t){return q1(t).then(e=>e.syncEngine)}function ane(t){return q1(t).then(e=>e.datastore)}async function Xf(t){const e=await q1(t),n=e.eventManager;return n.onListen=Lte.bind(null,e.syncEngine),n.onUnlisten=Vte.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Mte.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jte.bind(null,e.syncEngine),n}function lne(t){return t.asyncQueue.enqueue(async()=>{const e=await zB(t),n=await WB(t);return e.setNetworkEnabled(!0),function(i){const s=de(i);return s.L_.delete(0),ov(s)}(n)})}function cne(t){return t.asyncQueue.enqueue(async()=>{const e=await zB(t),n=await WB(t);return e.setNetworkEnabled(!1),async function(i){const s=de(i);s.L_.add(0),await Tp(s),s.q_.set("Offline")}(n)})}function une(t,e){const n=new Pr;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(c,u){const d=de(c);return d.persistence.runTransaction("read document","readonly",h=>d.localDocuments.getDocument(h,u))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new ee(G.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=Ip(a,`Failed to get document '${s} from cache`);o.reject(l)}}(await HC(t),e,n)),n.promise}function HB(t,e,n={}){const r=new Pr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new $1({next:h=>{u.Za(),o.enqueueAndForget(()=>VC(s,d));const f=h.docs.has(a);!f&&h.fromCache?c.reject(new ee(G.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?c.reject(new ee(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new FC(xp(a.path),u,{includeMetadataChanges:!0,_a:!0});return MC(s,d)}(await Xf(t),t.asyncQueue,e,n,r)),r.promise}function dne(t,e){const n=new Pr;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await xw(i,s,!0),l=new jB(s,a.Ts),c=l.ma(a.documents),u=l.applyChanges(c,!1);o.resolve(u.snapshot)}catch(a){const l=Ip(a,`Failed to execute query '${s} against cache`);o.reject(l)}}(await HC(t),e,n)),n.promise}function GB(t,e,n={}){const r=new Pr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new $1({next:h=>{u.Za(),o.enqueueAndForget(()=>VC(s,d)),h.fromCache&&l.source==="server"?c.reject(new ee(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new FC(a,u,{includeMetadataChanges:!0,_a:!0});return MC(s,d)}(await Xf(t),t.asyncQueue,e,n,r)),r.promise}function hne(t,e){const n=new $1(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){de(i).Y_.add(s),s.next()}(await Xf(t),n)),()=>{n.Za(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){de(i).Y_.delete(s)}(await Xf(t),n))}}function fne(t,e,n,r){const i=function(o,a){let l;return l=typeof o=="string"?H5().encode(o):o,function(u,d){return new rne(u,d)}(function(u,d){if(u instanceof Uint8Array)return jD(u,d);if(u instanceof ArrayBuffer)return jD(new Uint8Array(u),d);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,sv(e));t.asyncQueue.enqueueAndForget(async()=>{ene(await GC(t),i,r)})}function pne(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=de(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Gr.getNamedQuery(o,i))}(await HC(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KB(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(t,e,n){if(!n)throw new ee(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function YB(t,e,n,r){if(e===!0&&r===!0)throw new ee(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function UD(t){if(!ce.isDocumentKey(t))throw new ee(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $D(t){if(ce.isDocumentKey(t))throw new ee(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function z1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function yt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=z1(t);throw new ee(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function QB(t,e){if(e<=0)throw new ee(G.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ee(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ee(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KB((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ee(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ee(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ee(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class av{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qD({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ee(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ee(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qD(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new cZ;switch(r.type){case"firstParty":return new fZ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=BD.get(n);r&&(te("ComponentProvider","Removing Datastore"),BD.delete(n),r.terminate())}(this),Promise.resolve()}}function mne(t,e,n,r={}){var i;const s=(t=yt(t,av))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=vr.MOCK_USER;else{a=hY(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ee(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new vr(c)}t._authCredentials=new uZ(new i5(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ai=class XB{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new XB(this.firestore,e,this._query)}},vn=class JB{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new JB(this.firestore,e,this._key)}},pc=class ZB extends Ai{constructor(e,n,r){super(e,n,xp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new ce(e))}withConverter(e){return new ZB(this.firestore,e,this._path)}};function eU(t,e,...n){if(t=Pt(t),KC("collection","path",e),t instanceof av){const r=rt.fromString(e,...n);return $D(r),new pc(t,null,r)}{if(!(t instanceof vn||t instanceof pc))throw new ee(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return $D(r),new pc(t.firestore,null,r)}}function gne(t,e){if(t=yt(t,av),KC("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ee(G.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ai(t,null,function(r){return new dl(rt.emptyPath(),r)}(e))}function Sw(t,e,...n){if(t=Pt(t),arguments.length===1&&(e=s5.newId()),KC("doc","path",e),t instanceof av){const r=rt.fromString(e,...n);return UD(r),new vn(t,null,new ce(r))}{if(!(t instanceof vn||t instanceof pc))throw new ee(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return UD(r),new vn(t.firestore,t instanceof pc?t.converter:null,new ce(r))}}function tU(t,e){return t=Pt(t),e=Pt(e),(t instanceof vn||t instanceof pc)&&(e instanceof vn||e instanceof pc)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function nU(t,e){return t=Pt(t),e=Pt(e),t instanceof Ai&&e instanceof Ai&&t.firestore===e.firestore&&ev(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new NC(this,"async_queue_retry"),this.Vu=()=>{const r=l_();r&&te("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=l_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=l_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Pr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Jc(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Dn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=LC.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ge()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function sS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class yne{constructor(){this._progressObserver={},this._taskCompletionResolver=new Pr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vne=-1;let Vn=class extends av{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new zD,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zD(e),this._firestoreClient=void 0,await e}}};function ii(t){if(t._terminated)throw new ee(G.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||rU(t),t._firestoreClient}function rU(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,u){return new qZ(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,KB(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new one(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}function _ne(t,e){ia("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return iU(t,sy.provider,{build:r=>new qB(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function wne(t){ia("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();iU(t,sy.provider,{build:n=>new nne(n,e.cacheSizeBytes)})}function iU(t,e,n){if((t=yt(t,Vn))._firestoreClient||t._terminated)throw new ee(G.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new ee(G.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},rU(t)}function xne(t){if(t._initialized&&!t._terminated)throw new ee(G.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Pr;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Yo.D())return Promise.resolve();const i=r+"main";await Yo.delete(i)}(CC(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function Ene(t){return function(n){const r=new Pr;return n.asyncQueue.enqueueAndForget(async()=>qte(await GC(n),r)),r.promise}(ii(t=yt(t,Vn)))}function bne(t){return lne(ii(t=yt(t,Vn)))}function Tne(t){return cne(ii(t=yt(t,Vn)))}function Sne(t,e){const n=ii(t=yt(t,Vn)),r=new yne;return fne(n,t._databaseId,e,r),r}function Ane(t,e){return pne(ii(t=yt(t,Vn)),e).then(n=>n?new Ai(t,null,n.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oa(In.fromBase64String(e))}catch(n){throw new ee(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new oa(In.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fd=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ine=/^__.*__$/;class Cne{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ep(e,this.data,n,this.fieldTransforms)}}class sU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function oU(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class H1{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new H1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Aw(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(oU(this.Cu)&&Ine.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Rne{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sv(e)}Qu(e,n,r,i=!1){return new H1({Cu:e,methodName:n,qu:r,path:cn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bd(t){const e=t._freezeSettings(),n=sv(t._databaseId);return new Rne(t._databaseId,!!e.ignoreUndefinedProperties,n)}function G1(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);nR("Data must be an object, but it was:",o,r);const a=cU(r,o);let l,c;if(s.merge)l=new ji(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=oS(e,d,n);if(!o.contains(h))throw new ee(G.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);dU(u,h)||u.push(h)}l=new ji(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new Cne(new Ir(a),l,c)}class lv extends Fd{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lv}}function aU(t,e,n){return new H1({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class QC extends Fd{_toFieldTransform(e){return new nv(e.path,new qf)}isEqual(e){return e instanceof QC}}class XC extends Fd{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=aU(this,e,!0),r=this.Ku.map(s=>Ud(s,n)),i=new pd(r);return new nv(e.path,i)}isEqual(e){return e instanceof XC&&Vf(this.Ku,e.Ku)}}class JC extends Fd{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=aU(this,e,!0),r=this.Ku.map(s=>Ud(s,n)),i=new md(r);return new nv(e.path,i)}isEqual(e){return e instanceof JC&&Vf(this.Ku,e.Ku)}}class ZC extends Fd{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new zf(e.serializer,V5(e.serializer,this.$u));return new nv(e.path,n)}isEqual(e){return e instanceof ZC&&this.$u===e.$u}}function eR(t,e,n,r){const i=t.Qu(1,e,n);nR("Data must be an object, but it was:",i,r);const s=[],o=Ir.empty();Zc(r,(l,c)=>{const u=rR(e,l,n);c=Pt(c);const d=i.Nu(u);if(c instanceof lv)s.push(u);else{const h=Ud(c,d);h!=null&&(s.push(u),o.set(u,h))}});const a=new ji(s);return new sU(o,a,i.fieldTransforms)}function tR(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[oS(e,r,n)],l=[i];if(s.length%2!=0)throw new ee(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(oS(e,s[h])),l.push(s[h+1]);const c=[],u=Ir.empty();for(let h=a.length-1;h>=0;--h)if(!dU(c,a[h])){const f=a[h];let g=l[h];g=Pt(g);const m=o.Nu(f);if(g instanceof lv)c.push(f);else{const v=Ud(g,m);v!=null&&(c.push(f),u.set(f,v))}}const d=new ji(c);return new sU(u,d,o.fieldTransforms)}function lU(t,e,n,r=!1){return Ud(n,t.Qu(r?4:3,e))}function Ud(t,e){if(uU(t=Pt(t)))return nR("Unsupported field value:",e,t),cU(t,e);if(t instanceof Fd)return function(r,i){if(!oU(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Ud(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return V5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Yn.fromDate(r);return{timestampValue:Wf(i.serializer,s)}}if(r instanceof Yn){const s=new Yn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wf(i.serializer,s)}}if(r instanceof W1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof oa)return{bytesValue:Y5(i.serializer,r._byteString)};if(r instanceof vn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:xC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof YC)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return mC(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${z1(r)}`)}(t,e)}function cU(t,e){const n={};return y5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zc(t,(r,i)=>{const s=Ud(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function uU(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Yn||t instanceof W1||t instanceof oa||t instanceof vn||t instanceof Fd||t instanceof YC)}function nR(t,e,n){if(!uU(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=z1(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function oS(t,e,n){if((e=Pt(e))instanceof kc)return e._internalPath;if(typeof e=="string")return rR(t,e);throw Aw("Field path arguments must be of type string or ",t,!1,void 0,n)}const Pne=new RegExp("[~\\*/\\[\\]]");function rR(t,e,n){if(e.search(Pne)>=0)throw Aw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new kc(...e.split("."))._internalPath}catch{throw Aw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Aw(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ee(G.INVALID_ARGUMENT,a+t+l)}function dU(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Nne(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(K1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Nne extends oy{data(){return super.data()}}function K1(t,e){return typeof e=="string"?rR(t,e):e instanceof kc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ee(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iR{}class cv extends iR{}function Al(t,e,...n){let r=[];e instanceof iR&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof sR).length,a=s.filter(l=>l instanceof Y1).length;if(o>1||o>0&&a>0)throw new ee(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Y1 extends cv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Y1(e,n,r)}_apply(e){const n=this._parse(e);return pU(e._query,n),new Ai(e.firestore,e.converter,GT(e._query,n))}_parse(e){const n=Bd(e.firestore);return function(s,o,a,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new ee(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){HD(d,u);const f=[];for(const g of d)f.push(WD(l,s,g));h={arrayValue:{values:f}}}else h=WD(l,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||HD(d,u),h=lU(a,o,d,u==="in"||u==="not-in");return it.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function kne(t,e,n){const r=e,i=K1("where",t);return Y1._create(i,r,n)}class sR extends iR{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new sR(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:It.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)pU(o,l),o=GT(o,l)}(e._query,n),new Ai(e.firestore,e.converter,GT(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class oR extends cv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new oR(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new ee(G.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ee(G.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ty(s,o)}(e._query,this._field,this._direction);return new Ai(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new dl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function One(t,e="asc"){const n=e,r=K1("orderBy",t);return oR._create(r,n)}class Q1 extends cv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Q1(e,n,r)}_apply(e){return new Ai(e.firestore,e.converter,gw(e._query,this._limit,this._limitType))}}function Dne(t){return QB("limit",t),Q1._create("limit",t,"F")}function Lne(t){return QB("limitToLast",t),Q1._create("limitToLast",t,"L")}class X1 extends cv{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new X1(e,n,r)}_apply(e){const n=fU(e,this.type,this._docOrFields,this._inclusive);return new Ai(e.firestore,e.converter,function(i,s){return new dl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function Mne(...t){return X1._create("startAt",t,!0)}function Vne(...t){return X1._create("startAfter",t,!1)}class J1 extends cv{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new J1(e,n,r)}_apply(e){const n=fU(e,this.type,this._docOrFields,this._inclusive);return new Ai(e.firestore,e.converter,function(i,s){return new dl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function jne(...t){return J1._create("endBefore",t,!1)}function Fne(...t){return J1._create("endAt",t,!0)}function fU(t,e,n,r){if(n[0]=Pt(n[0]),n[0]instanceof oy)return function(s,o,a,l,c){if(!l)throw new ee(G.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const d of df(s))if(d.field.isKeyField())u.push(hd(o,l.key));else{const h=l.data.field(d.field);if(k1(h))throw new ee(G.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const f=d.field.canonicalString();throw new ee(G.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}u.push(h)}return new Pc(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Bd(t.firestore);return function(o,a,l,c,u,d){const h=o.explicitOrderBy;if(u.length>h.length)throw new ee(G.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let g=0;g<u.length;g++){const m=u[g];if(h[g].field.isKeyField()){if(typeof m!="string")throw new ee(G.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof m}`);if(!fC(o)&&m.indexOf("/")!==-1)throw new ee(G.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${m}' contains a slash.`);const v=o.path.child(rt.fromString(m));if(!ce.isDocumentKey(v))throw new ee(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${v}' is not because it contains an odd number of segments.`);const y=new ce(v);f.push(hd(a,y))}else{const v=lU(l,c,m);f.push(v)}}return new Pc(f,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function WD(t,e,n){if(typeof(n=Pt(n))=="string"){if(n==="")throw new ee(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fC(e)&&n.indexOf("/")!==-1)throw new ee(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(rt.fromString(n));if(!ce.isDocumentKey(r))throw new ee(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hd(t,new ce(r))}if(n instanceof vn)return hd(t,n._key);throw new ee(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${z1(n)}.`)}function HD(t,e){if(!Array.isArray(t)||t.length===0)throw new ee(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pU(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ee(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ee(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class aR{convertValue(e,n="none"){switch(Cc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return on(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ja(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Zc(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>on(o.doubleValue));return new YC(s)}convertGeoPoint(e){return new W1(on(e.latitude),on(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=O1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jg(e));default:return null}}convertTimestamp(e){const n=Xa(e);return new Yn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);xe(oB(r));const i=new Ic(r.get(1),r.get(3)),s=new ce(r.popFirst(5));return i.isEqual(n)||Dn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Bne extends aR{constructor(e){super(),this.firestore=e}convertBytes(e){return new oa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Za=class extends oy{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(K1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Qm=class extends Za{data(e={}){return super.data(e)}},Oc=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new $u(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Qm(this._firestore,this._userDataWriter,r.key,r,new $u(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Qm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $u(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Qm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $u(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Une(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Une(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}function mU(t,e){return t instanceof Za&&e instanceof Za?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Oc&&e instanceof Oc&&t._firestore===e._firestore&&nU(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ne(t){t=yt(t,vn);const e=yt(t.firestore,Vn);return HB(ii(e),t._key).then(n=>lR(e,t,n))}class $d extends aR{constructor(e){super(),this.firestore=e}convertBytes(e){return new oa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function qne(t){t=yt(t,vn);const e=yt(t.firestore,Vn),n=ii(e),r=new $d(e);return une(n,t._key).then(i=>new Za(e,r,t._key,i,new $u(i!==null&&i.hasLocalMutations,!0),t.converter))}function zne(t){t=yt(t,vn);const e=yt(t.firestore,Vn);return HB(ii(e),t._key,{source:"server"}).then(n=>lR(e,t,n))}function Wne(t){t=yt(t,Ai);const e=yt(t.firestore,Vn),n=ii(e),r=new $d(e);return hU(t._query),GB(n,t._query).then(i=>new Oc(e,r,t,i))}function Hne(t){t=yt(t,Ai);const e=yt(t.firestore,Vn),n=ii(e),r=new $d(e);return dne(n,t._query).then(i=>new Oc(e,r,t,i))}function Gne(t){t=yt(t,Ai);const e=yt(t.firestore,Vn),n=ii(e),r=new $d(e);return GB(n,t._query,{source:"server"}).then(i=>new Oc(e,r,t,i))}function GD(t,e,n){t=yt(t,vn);const r=yt(t.firestore,Vn),i=Z1(t.converter,e,n);return uv(r,[G1(Bd(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,un.none())])}function KD(t,e,n,...r){t=yt(t,vn);const i=yt(t.firestore,Vn),s=Bd(i);let o;return o=typeof(e=Pt(e))=="string"||e instanceof kc?tR(s,"updateDoc",t._key,e,n,r):eR(s,"updateDoc",t._key,e),uv(i,[o.toMutation(t._key,un.exists(!0))])}function Kne(t){return uv(yt(t.firestore,Vn),[new bp(t._key,un.none())])}function Yne(t,e){const n=yt(t.firestore,Vn),r=Sw(t),i=Z1(t.converter,e);return uv(n,[G1(Bd(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,un.exists(!1))]).then(()=>r)}function gU(t,...e){var n,r,i;t=Pt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||sS(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(sS(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,c,u;if(t instanceof vn)c=yt(t.firestore,Vn),u=xp(t._key.path),l={next:d=>{e[o]&&e[o](lR(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=yt(t,Ai);c=yt(d.firestore,Vn),u=d._query;const h=new $d(c);l={next:f=>{e[o]&&e[o](new Oc(c,h,d,f))},error:e[o+1],complete:e[o+2]},hU(t._query)}return function(h,f,g,m){const v=new $1(m),y=new FC(f,v,g);return h.asyncQueue.enqueueAndForget(async()=>MC(await Xf(h),y)),()=>{v.Za(),h.asyncQueue.enqueueAndForget(async()=>VC(await Xf(h),y))}}(ii(c),u,a,l)}function Qne(t,e){return hne(ii(t=yt(t,Vn)),sS(e)?e:{next:e})}function uv(t,e){return function(r,i){const s=new Pr;return r.asyncQueue.enqueueAndForget(async()=>Fte(await GC(r),i,s)),s.promise}(ii(t),e)}function lR(t,e,n){const r=n.docs.get(e._key),i=new $d(t);return new Za(t,i,e._key,r,new $u(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xne={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jne=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Bd(e)}set(e,n,r){this._verifyNotCommitted();const i=Wl(e,this._firestore),s=Z1(i.converter,n,r),o=G1(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,un.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Wl(e,this._firestore);let o;return o=typeof(n=Pt(n))=="string"||n instanceof kc?tR(this._dataReader,"WriteBatch.update",s._key,n,r,i):eR(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,un.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Wl(e,this._firestore);return this._mutations=this._mutations.concat(new bp(n._key,un.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ee(G.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Wl(t,e){if((t=Pt(t)).firestore!==e)throw new ee(G.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zne=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Bd(n)}get(n){const r=Wl(n,this._firestore),i=new Bne(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return ge();const o=s[0];if(o.isFoundDocument())return new oy(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new oy(this._firestore,i,r._key,null,r.converter);throw ge()})}set(n,r,i){const s=Wl(n,this._firestore),o=Z1(s.converter,r,i),a=G1(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=Wl(n,this._firestore);let a;return a=typeof(r=Pt(r))=="string"||r instanceof kc?tR(this._dataReader,"Transaction.update",o._key,r,i,s):eR(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=Wl(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Wl(e,this._firestore),r=new $d(this._firestore);return super.get(e).then(i=>new Za(this._firestore,r,n._key,i._document,new $u(!1,!1),n.converter))}};function ere(t,e,n){t=yt(t,Vn);const r=Object.assign(Object.assign({},Xne),n);return function(s){if(s.maxAttempts<1)throw new ee(G.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new Pr;return s.asyncQueue.enqueueAndForget(async()=>{const c=await ane(s);new sne(s.asyncQueue,c,a,o,l).au()}),l.promise}(ii(t),i=>e(new Zne(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tre(){return new lv("deleteField")}function nre(){return new QC("serverTimestamp")}function rre(...t){return new XC("arrayUnion",t)}function ire(...t){return new JC("arrayRemove",t)}function sre(t){return new ZC("increment",t)}(function(e,n=!0){(function(i){wp=i})(Gc),Sc(new Ka("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Vn(new dZ(r.getProvider("auth-internal")),new mZ(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ee(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ic(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),vo(VO,"4.7.4",e),vo(VO,"4.7.4","esm2017")})();const ore="@firebase/firestore-compat",are="0.3.39";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new ee("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(){if(typeof Uint8Array>"u")throw new ee("unimplemented","Uint8Arrays are not available in this environment.")}function QD(){if(!UZ())throw new ee("unimplemented","Blobs are unavailable in Firestore in this environment.")}class ay{constructor(e){this._delegate=e}static fromBase64String(e){return QD(),new ay(oa.fromBase64String(e))}static fromUint8Array(e){return YD(),new ay(oa.fromUint8Array(e))}toBase64(){return QD(),this._delegate.toBase64()}toUint8Array(){return YD(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(t){return lre(t,["next","error","complete"])}function lre(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cre{enableIndexedDbPersistence(e,n){return _ne(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return wne(e._delegate)}clearIndexedDbPersistence(e){return xne(e._delegate)}}class yU{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ic||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&ia("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){mne(this._delegate,e,n,r)}enableNetwork(){return bne(this._delegate)}disableNetwork(){return Tne(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,YB("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Ene(this._delegate)}onSnapshotsInSync(e){return Qne(this._delegate,e)}get app(){if(!this._appCompat)throw new ee("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Jf(this,eU(this._delegate,e))}catch(n){throw yi(n,"collection()","Firestore.collection()")}}doc(e){try{return new Bs(this,Sw(this._delegate,e))}catch(n){throw yi(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new pi(this,gne(this._delegate,e))}catch(n){throw yi(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return ere(this._delegate,n=>e(new vU(this,n)))}batch(){return ii(this._delegate),new _U(new Jne(this._delegate,e=>uv(this._delegate,e)))}loadBundle(e){return Sne(this._delegate,e)}namedQuery(e){return Ane(this._delegate,e).then(n=>n?new pi(this,n):null)}}class ex extends aR{constructor(e){super(),this.firestore=e}convertBytes(e){return new ay(new oa(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Bs.forKey(n,this.firestore,null)}}function ure(t){aZ(t)}class vU{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new ex(e)}get(e){const n=qu(e);return this._delegate.get(n).then(r=>new ly(this._firestore,new Za(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=qu(e);return r?(cR("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=qu(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=qu(e);return this._delegate.delete(n),this}}class _U{constructor(e){this._delegate=e}set(e,n,r){const i=qu(e);return r?(cR("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=qu(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=qu(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class _d{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Qm(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new cy(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=_d.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new _d(e,new ex(e),n),i.set(n,s)),s}}_d.INSTANCES=new WeakMap;class Bs{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ex(e)}static forPath(e,n,r){if(e.length%2!==0)throw new ee("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Bs(n,new vn(n._delegate,r,new ce(e)))}static forKey(e,n,r){return new Bs(n,new vn(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Jf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Jf(this.firestore,eU(this._delegate,e))}catch(n){throw yi(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Pt(e),e instanceof vn?tU(this._delegate,e):!1}set(e,n){n=cR("DocumentReference.set",n);try{return n?GD(this._delegate,e,n):GD(this._delegate,e)}catch(r){throw yi(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?KD(this._delegate,e):KD(this._delegate,e,n,...r)}catch(i){throw yi(i,"updateDoc()","DocumentReference.update()")}}delete(){return Kne(this._delegate)}onSnapshot(...e){const n=wU(e),r=xU(e,i=>new ly(this.firestore,new Za(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return gU(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=qne(this._delegate):(e==null?void 0:e.source)==="server"?n=zne(this._delegate):n=$ne(this._delegate),n.then(r=>new ly(this.firestore,new Za(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Bs(this.firestore,e?this._delegate.withConverter(_d.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function yi(t,e,n){return t.message=t.message.replace(e,n),t}function wU(t){for(const e of t)if(typeof e=="object"&&!aS(e))return e;return{}}function xU(t,e){var n,r;let i;return aS(t[0])?i=t[0]:aS(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class ly{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Bs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return mU(this._delegate,e._delegate)}}class cy extends ly{data(e){const n=this._delegate.data(e);return this._delegate._converter||lZ(n!==void 0),n}}class pi{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ex(e)}where(e,n,r){try{return new pi(this.firestore,Al(this._delegate,kne(e,n,r)))}catch(i){throw yi(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new pi(this.firestore,Al(this._delegate,One(e,n)))}catch(r){throw yi(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new pi(this.firestore,Al(this._delegate,Dne(e)))}catch(n){throw yi(n,"limit()","Query.limit()")}}limitToLast(e){try{return new pi(this.firestore,Al(this._delegate,Lne(e)))}catch(n){throw yi(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new pi(this.firestore,Al(this._delegate,Mne(...e)))}catch(n){throw yi(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new pi(this.firestore,Al(this._delegate,Vne(...e)))}catch(n){throw yi(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new pi(this.firestore,Al(this._delegate,jne(...e)))}catch(n){throw yi(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new pi(this.firestore,Al(this._delegate,Fne(...e)))}catch(n){throw yi(n,"endAt()","Query.endAt()")}}isEqual(e){return nU(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Hne(this._delegate):(e==null?void 0:e.source)==="server"?n=Gne(this._delegate):n=Wne(this._delegate),n.then(r=>new lS(this.firestore,new Oc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=wU(e),r=xU(e,i=>new lS(this.firestore,new Oc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return gU(this._delegate,n,r)}withConverter(e){return new pi(this.firestore,e?this._delegate.withConverter(_d.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class dre{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new cy(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class lS{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new pi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new cy(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new dre(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new cy(this._firestore,r))})}isEqual(e){return mU(this._delegate,e._delegate)}}class Jf extends pi{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Bs(this.firestore,e):null}doc(e){try{return e===void 0?new Bs(this.firestore,Sw(this._delegate)):new Bs(this.firestore,Sw(this._delegate,e))}catch(n){throw yi(n,"doc()","CollectionReference.doc()")}}add(e){return Yne(this._delegate,e).then(n=>new Bs(this.firestore,n))}isEqual(e){return tU(this._delegate,e._delegate)}withConverter(e){return new Jf(this.firestore,e?this._delegate.withConverter(_d.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function qu(t){return yt(t,vn)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(...e){this._delegate=new kc(...e)}static documentId(){return new uR(cn.keyField().canonicalString())}isEqual(e){return e=Pt(e),e instanceof kc?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e){this._delegate=e}static serverTimestamp(){const e=nre();return e._methodName="FieldValue.serverTimestamp",new Vu(e)}static delete(){const e=tre();return e._methodName="FieldValue.delete",new Vu(e)}static arrayUnion(...e){const n=rre(...e);return n._methodName="FieldValue.arrayUnion",new Vu(n)}static arrayRemove(...e){const n=ire(...e);return n._methodName="FieldValue.arrayRemove",new Vu(n)}static increment(e){const n=sre(e);return n._methodName="FieldValue.increment",new Vu(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hre={Firestore:yU,GeoPoint:W1,Timestamp:Yn,Blob:ay,Transaction:vU,WriteBatch:_U,DocumentReference:Bs,DocumentSnapshot:ly,Query:pi,QueryDocumentSnapshot:cy,QuerySnapshot:lS,CollectionReference:Jf,FieldPath:uR,FieldValue:Vu,setLogLevel:ure,CACHE_SIZE_UNLIMITED:vne};function fre(t,e){t.INTERNAL.registerComponent(new Ka("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},hre)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pre(t){fre(t,(e,n)=>new yU(e,n,new cre)),t.registerVersion(ore,are)}pre(wo);const mre={apiKey:"AIzaSyDRyFSLBHW0YFUerFAI9jaRvfULlZzUrEg",authDomain:"story-gen-ee464.firebaseapp.com",projectId:"story-gen-ee464",storageBucket:"story-gen-ee464.firebasestorage.app",messagingSenderId:"270691858672",appId:"1:270691858672:web:71e038d6ed91d786912a35"};wo.apps.length?wo.app():wo.initializeApp(mre);const gre=new Ra,Xm=QJ(),We=wo.firestore(),EU=x.createContext(void 0),yre=({children:t})=>{const[e,n]=x.useState(null);return x.useEffect(()=>{const r=Xm.onAuthStateChanged(async i=>{if(i){n(i);const s=i.uid;(await We.collection("user").doc(s).get()).exists||await We.collection("user").doc(s).set({name:e!=null&&e.email?e.email.split("@")[0]:"",PhotoUrl:e!=null&&e.photoURL?e.photoURL:"",likes:0,desc:"",score:0})}else n(null)});return()=>r()},[e]),_.jsx(EU.Provider,{value:{currentUser:e},children:t})},Js=()=>{const t=x.useContext(EU);if(!t)throw new Error("useUser must be used within a UserProvider");return t},bU=t=>{const[e,n]=x.useState([]);return x.useEffect(()=>{let r;async function i(){try{r=We.collection("WrittenStories").where("author","==",t).onSnapshot(o=>{const a=[];o.forEach(l=>{const c=l.data();a.push({id:l.id,...c})}),n(a)})}catch(s){console.log(s)}}return i(),()=>{r&&r()}},[t]),{Data:e,setData:n}},tu=t=>{const[e,n]=x.useState(),[r,i]=x.useState("");function s(){return We.collection("user").doc(t).onSnapshot(l=>{if(l.exists){const c=l.data();c&&i(c.PhotoUrl)}})}return x.useEffect(()=>{async function o(){try{const l=(await We.collection("user").doc(t).get()).data();l&&n(l)}catch(a){console.log(a)}}o().then(()=>{})},[t]),{author:e,setAuthor:n,ListenToImgChanges:s,Img:r}},dR=x.createContext({});function tx(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const nx=x.createContext(null),hR=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class vre extends x.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=r instanceof HTMLElement&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function _re({children:t,isPresent:e,anchorX:n}){const r=x.useId(),i=x.useRef(null),s=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=x.useContext(hR);return x.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:u,right:d}=s.current;if(e||!i.current||!a||!l)return;const h=n==="left"?`left: ${u}`:`right: ${d}`;i.current.dataset.motionPopId=r;const f=document.createElement("style");return o&&(f.nonce=o),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[e]),_.jsx(vre,{isPresent:e,childRef:i,sizeRef:s,children:x.cloneElement(t,{ref:i})})}const wre=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a})=>{const l=tx(xre),c=x.useId(),u=x.useCallback(h=>{l.set(h,!0);for(const f of l.values())if(!f)return;r&&r()},[l,r]),d=x.useMemo(()=>({id:c,initial:e,isPresent:n,custom:i,onExitComplete:u,register:h=>(l.set(h,!1),()=>l.delete(h))}),s?[Math.random(),u]:[n,u]);return x.useMemo(()=>{l.forEach((h,f)=>l.set(f,!1))},[n]),x.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=_.jsx(_re,{isPresent:n,anchorX:a,children:t})),_.jsx(nx.Provider,{value:d,children:t})};function xre(){return new Map}function TU(t=!0){const e=x.useContext(nx);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=x.useId();x.useEffect(()=>{t&&i(s)},[t]);const o=x.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const n0=t=>t.key||"";function XD(t){const e=[];return x.Children.forEach(t,n=>{x.isValidElement(n)&&e.push(n)}),e}const fR=typeof window<"u",pR=fR?x.useLayoutEffect:x.useEffect,SU=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,c]=TU(o),u=x.useMemo(()=>XD(t),[t]),d=o&&!l?[]:u.map(n0),h=x.useRef(!0),f=x.useRef(u),g=tx(()=>new Map),[m,v]=x.useState(u),[y,w]=x.useState(u);pR(()=>{h.current=!1,f.current=u;for(let C=0;C<y.length;C++){const N=n0(y[C]);d.includes(N)?g.delete(N):g.get(N)!==!0&&g.set(N,!1)}},[y,d.length,d.join("-")]);const E=[];if(u!==m){let C=[...u];for(let N=0;N<y.length;N++){const T=y[N],A=n0(T);d.includes(A)||(C.splice(N,0,T),E.push(T))}s==="wait"&&E.length&&(C=E),w(XD(C)),v(u);return}const{forceRender:S}=x.useContext(dR);return _.jsx(_.Fragment,{children:y.map(C=>{const N=n0(C),T=o&&!l?!1:u===y||d.includes(N),A=()=>{if(g.has(N))g.set(N,!0);else return;let P=!0;g.forEach(k=>{k||(P=!1)}),P&&(S==null||S(),w(f.current),o&&(c==null||c()),r&&r())};return _.jsx(wre,{isPresent:T,initial:!h.current||n?void 0:!1,custom:T?void 0:e,presenceAffectsLayout:i,mode:s,onExitComplete:T?void 0:A,anchorX:a,children:C},N)})})},Ti=t=>t;let Ere=Ti,cS=Ti;function mR(t){let e;return()=>(e===void 0&&(e=t()),e)}const wd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ua=t=>t*1e3,$a=t=>t/1e3,bre={skipAnimations:!1,useManualTiming:!1};function Tre(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,u=!1,d=!1)=>{const f=d&&r?e:n;return u&&s.add(c),f.has(c)||f.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,i&&(i=!1,l.process(c))}};return l}const r0=["read","resolveKeyframes","update","preRender","render","postRender"],Sre=40;function AU(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=r0.reduce((y,w)=>(y[w]=Tre(s),y),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:h}=o,f=()=>{const y=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(y-i.timestamp,Sre),1),i.timestamp=y,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(f))},g=()=>{n=!0,r=!0,i.isProcessing||t(f)};return{schedule:r0.reduce((y,w)=>{const E=o[w];return y[w]=(S,C=!1,N=!1)=>(n||g(),E.schedule(S,C,N)),y},{}),cancel:y=>{for(let w=0;w<r0.length;w++)o[r0[w]].cancel(y)},state:i,steps:o}}const{schedule:Tt,cancel:aa,state:mr,steps:PE}=AU(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ti,!0),IU=x.createContext({strict:!1}),JD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zf={};for(const t in JD)Zf[t]={isEnabled:e=>JD[t].some(n=>!!e[n])};function Are(t){for(const e in t)Zf[e]={...Zf[e],...t[e]}}const Ire=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Iw(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Ire.has(t)}let CU=t=>!Iw(t);function Cre(t){t&&(CU=e=>e.startsWith("on")?!Iw(e):t(e))}try{Cre(require("@emotion/is-prop-valid").default)}catch{}function Rre(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(CU(i)||n===!0&&Iw(i)||!e&&!Iw(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Pre(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const rx=x.createContext({});function uy(t){return typeof t=="string"||Array.isArray(t)}function ix(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const gR=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yR=["initial",...gR];function sx(t){return ix(t.animate)||yR.some(e=>uy(t[e]))}function RU(t){return!!(sx(t)||t.variants)}function Nre(t,e){if(sx(t)){const{initial:n,animate:r}=t;return{initial:n===!1||uy(n)?n:void 0,animate:uy(r)?r:void 0}}return t.inherit!==!1?e:{}}function kre(t){const{initial:e,animate:n}=Nre(t,x.useContext(rx));return x.useMemo(()=>({initial:e,animate:n}),[ZD(e),ZD(n)])}function ZD(t){return Array.isArray(t)?t.join(" "):t}const Ore=Symbol.for("motionComponentSymbol");function Gh(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Dre(t,e,n){return x.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Gh(n)&&(n.current=r))},[e])}const vR=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Lre="framerAppearId",PU="data-"+vR(Lre),{schedule:_R,cancel:Bbe}=AU(queueMicrotask,!1),NU=x.createContext({});function Mre(t,e,n,r,i){var s,o;const{visualElement:a}=x.useContext(rx),l=x.useContext(IU),c=x.useContext(nx),u=x.useContext(hR).reducedMotion,d=x.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const h=d.current,f=x.useContext(NU);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&Vre(d.current,n,i,f);const g=x.useRef(!1);x.useInsertionEffect(()=>{h&&g.current&&h.update(n,c)});const m=n[PU],v=x.useRef(!!m&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,m))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,m)));return pR(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),_R.render(h.render),v.current&&h.animationState&&h.animationState.animateChanges())}),x.useEffect(()=>{h&&(!v.current&&h.animationState&&h.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,m)}),v.current=!1))}),h}function Vre(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:kU(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Gh(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function kU(t){if(t)return t.options.allowProjection!==!1?t.projection:kU(t.parent)}function jre({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,o;t&&Are(t);function a(c,u){let d;const h={...x.useContext(hR),...c,layoutId:Fre(c)},{isStatic:f}=h,g=kre(c),m=r(c,f);if(!f&&fR){Bre();const v=Ure(h);d=v.MeasureLayout,g.visualElement=Mre(i,m,h,e,v.ProjectionNode)}return _.jsxs(rx.Provider,{value:g,children:[d&&g.visualElement?_.jsx(d,{visualElement:g.visualElement,...h}):null,n(i,c,Dre(m,g.visualElement,u),m,f,g.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=x.forwardRef(a);return l[Ore]=i,l}function Fre({layoutId:t}){const e=x.useContext(dR).id;return e&&t!==void 0?e+"-"+t:t}function Bre(t,e){x.useContext(IU).strict}function Ure(t){const{drag:e,layout:n}=Zf;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const $re=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wR(t){return typeof t!="string"||t.includes("-")?!1:!!($re.indexOf(t)>-1||/[A-Z]/u.test(t))}function e2(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function xR(t,e,n,r){if(typeof e=="function"){const[i,s]=e2(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=e2(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const uS=t=>Array.isArray(t),qre=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),zre=t=>uS(t)?t[t.length-1]||0:t,Zr=t=>!!(t&&t.getVelocity);function c_(t){const e=Zr(t)?t.get():t;return qre(e)?e.toValue():e}function Wre({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:Hre(r,i,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const OU=t=>(e,n)=>{const r=x.useContext(rx),i=x.useContext(nx),s=()=>Wre(t,e,r,i);return n?s():tx(s)};function Hre(t,e,n,r){const i={},s=r(t,{});for(const h in s)i[h]=c_(s[h]);let{initial:o,animate:a}=t;const l=sx(t),c=RU(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!ix(d)){const h=Array.isArray(d)?d:[d];for(let f=0;f<h.length;f++){const g=xR(t,h[f]);if(g){const{transitionEnd:m,transition:v,...y}=g;for(const w in y){let E=y[w];if(Array.isArray(E)){const S=u?E.length-1:0;E=E[S]}E!==null&&(i[w]=E)}for(const w in m)i[w]=m[w]}}}return i}const Cp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qd=new Set(Cp),DU=t=>e=>typeof e=="string"&&e.startsWith(t),ER=DU("--"),Gre=DU("var(--"),bR=t=>Gre(t)?Kre.test(t.split("/*")[0].trim()):!1,Kre=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,LU=(t,e)=>e&&typeof t=="number"?e.transform(t):t,la=(t,e,n)=>n>e?e:n<t?t:n,Rp={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},dy={...Rp,transform:t=>la(0,1,t)},i0={...Rp,default:1},dv=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Pl=dv("deg"),Xo=dv("%"),Ve=dv("px"),Yre=dv("vh"),Qre=dv("vw"),t2={...Xo,parse:t=>Xo.parse(t)/100,transform:t=>Xo.transform(t*100)},Xre={borderWidth:Ve,borderTopWidth:Ve,borderRightWidth:Ve,borderBottomWidth:Ve,borderLeftWidth:Ve,borderRadius:Ve,radius:Ve,borderTopLeftRadius:Ve,borderTopRightRadius:Ve,borderBottomRightRadius:Ve,borderBottomLeftRadius:Ve,width:Ve,maxWidth:Ve,height:Ve,maxHeight:Ve,top:Ve,right:Ve,bottom:Ve,left:Ve,padding:Ve,paddingTop:Ve,paddingRight:Ve,paddingBottom:Ve,paddingLeft:Ve,margin:Ve,marginTop:Ve,marginRight:Ve,marginBottom:Ve,marginLeft:Ve,backgroundPositionX:Ve,backgroundPositionY:Ve},Jre={rotate:Pl,rotateX:Pl,rotateY:Pl,rotateZ:Pl,scale:i0,scaleX:i0,scaleY:i0,scaleZ:i0,skew:Pl,skewX:Pl,skewY:Pl,distance:Ve,translateX:Ve,translateY:Ve,translateZ:Ve,x:Ve,y:Ve,z:Ve,perspective:Ve,transformPerspective:Ve,opacity:dy,originX:t2,originY:t2,originZ:Ve},n2={...Rp,transform:Math.round},TR={...Xre,...Jre,zIndex:n2,size:Ve,fillOpacity:dy,strokeOpacity:dy,numOctaves:n2},Zre={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eie=Cp.length;function tie(t,e,n){let r="",i=!0;for(let s=0;s<eie;s++){const o=Cp[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=LU(a,TR[o]);if(!l){i=!1;const u=Zre[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function SR(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(qd.has(l)){o=!0;continue}else if(ER(l)){i[l]=c;continue}else{const u=LU(c,TR[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=tie(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}const nie={offset:"stroke-dashoffset",array:"stroke-dasharray"},rie={offset:"strokeDashoffset",array:"strokeDasharray"};function iie(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?nie:rie;t[s.offset]=Ve.transform(-r);const o=Ve.transform(e),a=Ve.transform(n);t[s.array]=`${o} ${a}`}function r2(t,e,n){return typeof t=="string"?t:Ve.transform(e+n*t)}function sie(t,e,n){const r=r2(e,t.x,t.width),i=r2(n,t.y,t.height);return`${r} ${i}`}function AR(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,d){if(SR(t,c,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f,dimensions:g}=t;h.transform&&(g&&(f.transform=h.transform),delete h.transform),g&&(i!==void 0||s!==void 0||f.transform)&&(f.transformOrigin=sie(g,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),o!==void 0&&iie(h,o,a,l,!1)}const IR=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),MU=()=>({...IR(),attrs:{}}),CR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function VU(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const jU=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function FU(t,e,n,r){VU(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(jU.has(i)?i:vR(i),e.attrs[i])}const hy={};function oie(t){for(const e in t)hy[e]=t[e],ER(e)&&(hy[e].isCSSVariable=!0)}function BU(t,{layout:e,layoutId:n}){return qd.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!hy[t]||t==="opacity")}function RR(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(Zr(i[o])||e.style&&Zr(e.style[o])||BU(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function UU(t,e,n){const r=RR(t,e,n);for(const i in t)if(Zr(t[i])||Zr(e[i])){const s=Cp.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function aie(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const i2=["x","y","width","height","cx","cy","r"],lie={useVisualState:OU({scrapeMotionValuesFromProps:UU,createRenderState:MU,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in i)if(qd.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<i2.length;a++){const l=i2[a];t[l]!==e[l]&&(o=!0)}o&&Tt.read(()=>{aie(n,r),Tt.render(()=>{AR(r,i,CR(n.tagName),t.transformTemplate),FU(n,r)})})}})},cie={useVisualState:OU({scrapeMotionValuesFromProps:RR,createRenderState:IR})};function $U(t,e,n){for(const r in e)!Zr(e[r])&&!BU(r,n)&&(t[r]=e[r])}function uie({transformTemplate:t},e){return x.useMemo(()=>{const n=IR();return SR(n,e,t),Object.assign({},n.vars,n.style)},[e])}function die(t,e){const n=t.style||{},r={};return $U(r,n,t),Object.assign(r,uie(t,e)),r}function hie(t,e){const n={},r=die(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function fie(t,e,n,r){const i=x.useMemo(()=>{const s=MU();return AR(s,e,CR(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};$U(s,t.style,t),i.style={...s,...i.style}}return i}function pie(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(wR(n)?fie:hie)(r,s,o,n),c=Rre(r,typeof n=="string",t),u=n!==x.Fragment?{...c,...l,ref:i}:{},{children:d}=r,h=x.useMemo(()=>Zr(d)?d.get():d,[d]);return x.createElement(n,{...u,children:h})}}function mie(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...wR(r)?lie:cie,preloadedFeatures:t,useRender:pie(i),createVisualElement:e,Component:r};return jre(o)}}function qU(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function ox(t,e,n){const r=t.getProps();return xR(r,e,n!==void 0?n:r.custom,t)}const zU=mR(()=>window.ScrollTimeline!==void 0);class gie{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(zU()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class yie extends gie{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function PR(t,e){return t?t[e]||t.default||t:void 0}const dS=2e4;function WU(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<dS;)e+=n,r=t.next(e);return e>=dS?1/0:e}function NR(t){return typeof t=="function"}function s2(t,e){t.timeline=e,t.onfinish=null}const kR=t=>Array.isArray(t)&&typeof t[0]=="number",vie={linearEasing:void 0};function _ie(t,e){const n=mR(t);return()=>{var r;return(r=vie[e])!==null&&r!==void 0?r:n()}}const Cw=_ie(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),HU=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(wd(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function GU(t){return!!(typeof t=="function"&&Cw()||!t||typeof t=="string"&&(t in hS||Cw())||kR(t)||Array.isArray(t)&&t.every(GU))}const Em=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,hS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Em([0,.65,.55,1]),circOut:Em([.55,0,1,.45]),backIn:Em([.31,.01,.66,-.59]),backOut:Em([.33,1.53,.69,.99])};function KU(t,e){if(t)return typeof t=="function"&&Cw()?HU(t,e):kR(t)?Em(t):Array.isArray(t)?t.map(n=>KU(n,e)||hS.easeOut):hS[t]}const oo={x:!1,y:!1};function YU(){return oo.x||oo.y}function QU(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function XU(t,e){const n=QU(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function o2(t){return!(t.pointerType==="touch"||YU())}function wie(t,e,n={}){const[r,i,s]=XU(t,n),o=a=>{if(!o2(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const u=d=>{o2(d)&&(c(d),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const JU=(t,e)=>e?t===e?!0:JU(t,e.parentElement):!1,OR=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,xie=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Eie(t){return xie.has(t.tagName)||t.tabIndex!==-1}const bm=new WeakSet;function a2(t){return e=>{e.key==="Enter"&&t(e)}}function NE(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const bie=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=a2(()=>{if(bm.has(n))return;NE(n,"down");const i=a2(()=>{NE(n,"up")}),s=()=>NE(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function l2(t){return OR(t)&&!YU()}function Tie(t,e,n={}){const[r,i,s]=XU(t,n),o=a=>{const l=a.currentTarget;if(!l2(a)||bm.has(l))return;bm.add(l);const c=e(l,a),u=(f,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),!(!l2(f)||!bm.has(l))&&(bm.delete(l),typeof c=="function"&&c(f,{success:g}))},d=f=>{u(f,n.useGlobalTarget||JU(l,f.target))},h=f=>{u(f,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",h,i)};return r.forEach(a=>{!Eie(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",c=>bie(c,i),i)}),s}function Sie(t){return t==="x"||t==="y"?oo[t]?null:(oo[t]=!0,()=>{oo[t]=!1}):oo.x||oo.y?null:(oo.x=oo.y=!0,()=>{oo.x=oo.y=!1})}const ZU=new Set(["width","height","top","left","right","bottom",...Cp]);let u_;function Aie(){u_=void 0}const Jo={now:()=>(u_===void 0&&Jo.set(mr.isProcessing||bre.useManualTiming?mr.timestamp:performance.now()),u_),set:t=>{u_=t,queueMicrotask(Aie)}};function DR(t,e){t.indexOf(e)===-1&&t.push(e)}function LR(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class MR{constructor(){this.subscriptions=[]}add(e){return DR(this.subscriptions,e),()=>LR(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function VR(t,e){return e?t*(1e3/e):0}const c2=30,Iie=t=>!isNaN(parseFloat(t));class Cie{constructor(e,n={}){this.version="12.0.6",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Jo.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Jo.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Iie(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new MR);const r=this.events[e].add(n);return e==="change"?()=>{r(),Tt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Jo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>c2)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,c2);return VR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Va(t,e){return new Cie(t,e)}function Rie(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Va(n))}function Pie(t,e){const n=ox(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=zre(s[o]);Rie(t,o,a)}}function Nie(t){return!!(Zr(t)&&t.add)}function fS(t,e){const n=t.getValue("willChange");if(Nie(n))return n.add(e)}function e$(t){return t.props[PU]}const t$=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,kie=1e-7,Oie=12;function Die(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=t$(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>kie&&++a<Oie);return o}function hv(t,e,n,r){if(t===e&&n===r)return Ti;const i=s=>Die(s,0,1,t,n);return s=>s===0||s===1?s:t$(i(s),e,r)}const n$=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,r$=t=>e=>1-t(1-e),i$=hv(.33,1.53,.69,.99),jR=r$(i$),s$=n$(jR),o$=t=>(t*=2)<1?.5*jR(t):.5*(2-Math.pow(2,-10*(t-1))),FR=t=>1-Math.sin(Math.acos(t)),a$=r$(FR),l$=n$(FR),c$=t=>/^0[^.\s]+$/u.test(t);function Lie(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||c$(t):!0}const Jm=t=>Math.round(t*1e5)/1e5,BR=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Mie(t){return t==null}const Vie=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,UR=(t,e)=>n=>!!(typeof n=="string"&&Vie.test(n)&&n.startsWith(t)||e&&!Mie(n)&&Object.prototype.hasOwnProperty.call(n,e)),u$=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(BR);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},jie=t=>la(0,255,t),kE={...Rp,transform:t=>Math.round(jie(t))},zu={test:UR("rgb","red"),parse:u$("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+kE.transform(t)+", "+kE.transform(e)+", "+kE.transform(n)+", "+Jm(dy.transform(r))+")"};function Fie(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const pS={test:UR("#"),parse:Fie,transform:zu.transform},Kh={test:UR("hsl","hue"),parse:u$("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Xo.transform(Jm(e))+", "+Xo.transform(Jm(n))+", "+Jm(dy.transform(r))+")"},Wr={test:t=>zu.test(t)||pS.test(t)||Kh.test(t),parse:t=>zu.test(t)?zu.parse(t):Kh.test(t)?Kh.parse(t):pS.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?zu.transform(t):Kh.transform(t)},Bie=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Uie(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(BR))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Bie))===null||n===void 0?void 0:n.length)||0)>0}const d$="number",h$="color",$ie="var",qie="var(",u2="${}",zie=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fy(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(zie,l=>(Wr.test(l)?(r.color.push(s),i.push(h$),n.push(Wr.parse(l))):l.startsWith(qie)?(r.var.push(s),i.push($ie),n.push(l)):(r.number.push(s),i.push(d$),n.push(parseFloat(l))),++s,u2)).split(u2);return{values:n,split:a,indexes:r,types:i}}function f$(t){return fy(t).values}function p$(t){const{split:e,types:n}=fy(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===d$?s+=Jm(i[o]):a===h$?s+=Wr.transform(i[o]):s+=i[o]}return s}}const Wie=t=>typeof t=="number"?0:t;function Hie(t){const e=f$(t);return p$(t)(e.map(Wie))}const Dc={test:Uie,parse:f$,createTransformer:p$,getAnimatableNone:Hie},Gie=new Set(["brightness","contrast","saturate","opacity"]);function Kie(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(BR)||[];if(!r)return t;const i=n.replace(r,"");let s=Gie.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const Yie=/\b([a-z-]*)\(.*?\)/gu,mS={...Dc,getAnimatableNone:t=>{const e=t.match(Yie);return e?e.map(Kie).join(" "):t}},Qie={...TR,color:Wr,backgroundColor:Wr,outlineColor:Wr,fill:Wr,stroke:Wr,borderColor:Wr,borderTopColor:Wr,borderRightColor:Wr,borderBottomColor:Wr,borderLeftColor:Wr,filter:mS,WebkitFilter:mS},$R=t=>Qie[t];function m$(t,e){let n=$R(t);return n!==mS&&(n=Dc),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Xie=new Set(["auto","none","0"]);function Jie(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!Xie.has(s)&&fy(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=m$(n,i)}const d2=t=>t===Rp||t===Ve,h2=(t,e)=>parseFloat(t.split(", ")[e]),f2=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return h2(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?h2(s[1],t):0}},Zie=new Set(["x","y","z"]),ese=Cp.filter(t=>!Zie.has(t));function tse(t){const e=[];return ese.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ep={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:f2(4,13),y:f2(5,14)};ep.translateX=ep.x;ep.translateY=ep.y;const Qu=new Set;let gS=!1,yS=!1;function g$(){if(yS){const t=Array.from(Qu).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=tse(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}yS=!1,gS=!1,Qu.forEach(t=>t.complete()),Qu.clear()}function y$(){Qu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(yS=!0)})}function nse(){y$(),g$()}class qR{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Qu.add(this),gS||(gS=!0,Tt.read(y$),Tt.resolveKeyframes(g$))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Qu.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Qu.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const v$=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),rse=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ise(t){const e=rse.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function _$(t,e,n=1){const[r,i]=ise(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return v$(o)?parseFloat(o):o}return bR(i)?_$(i,e,n+1):i}const w$=t=>e=>e.test(t),sse={test:t=>t==="auto",parse:t=>t},x$=[Rp,Ve,Xo,Pl,Qre,Yre,sse],p2=t=>x$.find(w$(t));class E$ extends qR{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),bR(c))){const u=_$(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!ZU.has(r)||e.length!==2)return;const[i,s]=e,o=p2(i),a=p2(s);if(o!==a)if(d2(o)&&d2(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)Lie(e[i])&&r.push(i);r.length&&Jie(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ep[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=ep[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const m2=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Dc.test(t)||t==="0")&&!t.startsWith("url("));function ose(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function ase(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=m2(i,e),a=m2(s,e);return!o||!a?!1:ose(t)||(n==="spring"||NR(n))&&r}const lse=t=>t!==null;function ax(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(lse),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const cse=40;class b${constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Jo.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>cse?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&nse(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Jo.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!ase(e,r,i,s))if(o)this.options.duration=0;else{l&&l(ax(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const pn=(t,e,n)=>t+(e-t)*n;function OE(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function use({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=OE(l,a,t+1/3),s=OE(l,a,t),o=OE(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Rw(t,e){return n=>n>0?e:t}const DE=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},dse=[pS,zu,Kh],hse=t=>dse.find(e=>e.test(t));function g2(t){const e=hse(t);if(!e)return!1;let n=e.parse(t);return e===Kh&&(n=use(n)),n}const y2=(t,e)=>{const n=g2(t),r=g2(e);if(!n||!r)return Rw(t,e);const i={...n};return s=>(i.red=DE(n.red,r.red,s),i.green=DE(n.green,r.green,s),i.blue=DE(n.blue,r.blue,s),i.alpha=pn(n.alpha,r.alpha,s),zu.transform(i))},fse=(t,e)=>n=>e(t(n)),fv=(...t)=>t.reduce(fse),vS=new Set(["none","hidden"]);function pse(t,e){return vS.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function mse(t,e){return n=>pn(t,e,n)}function zR(t){return typeof t=="number"?mse:typeof t=="string"?bR(t)?Rw:Wr.test(t)?y2:vse:Array.isArray(t)?T$:typeof t=="object"?Wr.test(t)?y2:gse:Rw}function T$(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>zR(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function gse(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=zR(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function yse(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const vse=(t,e)=>{const n=Dc.createTransformer(e),r=fy(t),i=fy(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?vS.has(t)&&!i.values.length||vS.has(e)&&!r.values.length?pse(t,e):fv(T$(yse(r,i),i.values),n):Rw(t,e)};function S$(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?pn(t,e,n):zR(t)(t,e)}const _se=5;function A$(t,e,n){const r=Math.max(e-_se,0);return VR(n-t(r),e-r)}const bn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},LE=.001;function wse({duration:t=bn.duration,bounce:e=bn.bounce,velocity:n=bn.velocity,mass:r=bn.mass}){let i,s,o=1-e;o=la(bn.minDamping,bn.maxDamping,o),t=la(bn.minDuration,bn.maxDuration,$a(t)),o<1?(i=c=>{const u=c*o,d=u*t,h=u-n,f=_S(c,o),g=Math.exp(-d);return LE-h/f*g},s=c=>{const d=c*o*t,h=d*n+n,f=Math.pow(o,2)*Math.pow(c,2)*t,g=Math.exp(-d),m=_S(Math.pow(c,2),o);return(-i(c)+LE>0?-1:1)*((h-f)*g)/m}):(i=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-LE+u*d},s=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=Ese(i,s,a);if(t=Ua(t),isNaN(l))return{stiffness:bn.stiffness,damping:bn.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const xse=12;function Ese(t,e,n){let r=n;for(let i=1;i<xse;i++)r=r-t(r)/e(r);return r}function _S(t,e){return t*Math.sqrt(1-e*e)}const bse=["duration","bounce"],Tse=["stiffness","damping","mass"];function v2(t,e){return e.some(n=>t[n]!==void 0)}function Sse(t){let e={velocity:bn.velocity,stiffness:bn.stiffness,damping:bn.damping,mass:bn.mass,isResolvedFromDuration:!1,...t};if(!v2(t,Tse)&&v2(t,bse))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*la(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:bn.mass,stiffness:i,damping:s}}else{const n=wse(t);e={...e,...n,mass:bn.mass},e.isResolvedFromDuration=!0}return e}function I$(t=bn.visualDuration,e=bn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=Sse({...n,velocity:-$a(n.velocity||0)}),g=h||0,m=c/(2*Math.sqrt(l*u)),v=o-s,y=$a(Math.sqrt(l/u)),w=Math.abs(v)<5;r||(r=w?bn.restSpeed.granular:bn.restSpeed.default),i||(i=w?bn.restDelta.granular:bn.restDelta.default);let E;if(m<1){const C=_S(y,m);E=N=>{const T=Math.exp(-m*y*N);return o-T*((g+m*y*v)/C*Math.sin(C*N)+v*Math.cos(C*N))}}else if(m===1)E=C=>o-Math.exp(-y*C)*(v+(g+y*v)*C);else{const C=y*Math.sqrt(m*m-1);E=N=>{const T=Math.exp(-m*y*N),A=Math.min(C*N,300);return o-T*((g+m*y*v)*Math.sinh(A)+C*v*Math.cosh(A))/C}}const S={calculatedDuration:f&&d||null,next:C=>{const N=E(C);if(f)a.done=C>=d;else{let T=0;m<1&&(T=C===0?Ua(g):A$(E,C,N));const A=Math.abs(T)<=r,P=Math.abs(o-N)<=i;a.done=A&&P}return a.value=a.done?o:N,a},toString:()=>{const C=Math.min(WU(S),dS),N=HU(T=>S.next(C*T).value,C,30);return C+"ms "+N}};return S}function _2({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},f=A=>a!==void 0&&A<a||l!==void 0&&A>l,g=A=>a===void 0?l:l===void 0||Math.abs(a-A)<Math.abs(l-A)?a:l;let m=n*e;const v=d+m,y=o===void 0?v:o(v);y!==v&&(m=y-d);const w=A=>-m*Math.exp(-A/r),E=A=>y+w(A),S=A=>{const P=w(A),k=E(A);h.done=Math.abs(P)<=c,h.value=h.done?y:k};let C,N;const T=A=>{f(h.value)&&(C=A,N=I$({keyframes:[h.value,g(h.value)],velocity:A$(E,A,h.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return T(0),{calculatedDuration:null,next:A=>{let P=!1;return!N&&C===void 0&&(P=!0,S(A),T(A)),C!==void 0&&A>=C?N.next(A-C):(!P&&S(A),h)}}}const Ase=hv(.42,0,1,1),Ise=hv(0,0,.58,1),C$=hv(.42,0,.58,1),Cse=t=>Array.isArray(t)&&typeof t[0]!="number",w2={linear:Ti,easeIn:Ase,easeInOut:C$,easeOut:Ise,circIn:FR,circInOut:l$,circOut:a$,backIn:jR,backInOut:s$,backOut:i$,anticipate:o$},x2=t=>{if(kR(t)){cS(t.length===4);const[e,n,r,i]=t;return hv(e,n,r,i)}else if(typeof t=="string")return cS(w2[t]!==void 0),w2[t];return t};function Rse(t,e,n){const r=[],i=n||S$,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Ti:e;a=fv(l,a)}r.push(a)}return r}function R$(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(cS(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=Rse(e,r,i),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=wd(t[d],t[d+1],u);return a[d](h)};return n?u=>c(la(t[0],t[s-1],u)):c}function Pse(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=wd(0,e,r);t.push(pn(n,1,i))}}function P$(t){const e=[0];return Pse(e,t.length-1),e}function Nse(t,e){return t.map(n=>n*e)}function kse(t,e){return t.map(()=>e||C$).splice(0,t.length-1)}function Pw({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Cse(r)?r.map(x2):x2(r),s={done:!1,value:e[0]},o=Nse(n&&n.length===e.length?n:P$(e),t),a=R$(o,e,{ease:Array.isArray(i)?i:kse(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const Ose=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Tt.update(e,!0),stop:()=>aa(e),now:()=>mr.isProcessing?mr.timestamp:Jo.now()}},Dse={decay:_2,inertia:_2,tween:Pw,keyframes:Pw,spring:I$},Lse=t=>t/100;class WR extends b${constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||qR,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=NR(n)?n:Dse[n]||Pw;let l,c;a!==Pw&&typeof e[0]!="number"&&(l=fv(Lse,S$(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=WU(u));const{calculatedDuration:d}=u,h=d+i,f=h*(r+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:h,totalDuration:f}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:h,repeat:f,repeatType:g,repeatDelay:m,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const y=this.currentTime-h*(this.speed>=0?1:-1),w=this.speed>=0?y<0:y>u;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let E=this.currentTime,S=s;if(f){const A=Math.min(this.currentTime,u)/d;let P=Math.floor(A),k=A%1;!k&&A>=1&&(k=1),k===1&&P--,P=Math.min(P,f+1),!!(P%2)&&(g==="reverse"?(k=1-k,m&&(k-=m/d)):g==="mirror"&&(S=o)),E=la(0,1,k)*d}const C=w?{done:!1,value:l[0]}:S.next(E);a&&(C.value=a(C.value));let{done:N}=C;!w&&c!==null&&(N=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return T&&i!==void 0&&(C.value=ax(l,this.options,i)),v&&v(C.value),T&&this.finish(),C}get duration(){const{resolved:e}=this;return e?$a(e.calculatedDuration):0}get time(){return $a(this.currentTime)}set time(e){e=Ua(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=$a(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Ose,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Mse=new Set(["opacity","clipPath","filter","transform"]);function Vse(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=KU(a,i);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const jse=mR(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Nw=10,Fse=2e4;function Bse(t){return NR(t.type)||t.type==="spring"||!GU(t.ease)}function Use(t,e){const n=new WR({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<Fse;)r=n.sample(s),i.push(r.value),s+=Nw;return{times:void 0,keyframes:i,duration:s-Nw,ease:"linear"}}const N$={anticipate:o$,backInOut:s$,circInOut:l$};function $se(t){return t in N$}class E2 extends b${constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new E$(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&Cw()&&$se(s)&&(s=N$[s]),Bse(this.options)){const{onComplete:d,onUpdate:h,motionValue:f,element:g,...m}=this.options,v=Use(e,m);e=v.keyframes,e.length===1&&(e[1]=e[0]),r=v.duration,i=v.times,s=v.ease,o="keyframes"}const u=Vse(a.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(s2(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:d}=this.options;a.set(ax(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return $a(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return $a(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ua(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Ti;const{animation:r}=n;s2(r,e)}return Ti}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:h,...f}=this.options,g=new WR({...f,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),m=Ua(this.time);c.setWithVelocity(g.sample(m-Nw).value,g.sample(m).value,Nw)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return jse()&&r&&Mse.has(r)&&!l&&!c&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const qse={type:"spring",stiffness:500,damping:25,restSpeed:10},zse=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Wse={type:"keyframes",duration:.8},Hse={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Gse=(t,{keyframes:e})=>e.length>2?Wse:qd.has(t)?t.startsWith("scale")?zse(e[1]):qse:Hse;function Kse({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const HR=(t,e,n,r={},i,s)=>o=>{const a=PR(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Ua(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:h=>{e.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};Kse(a)||(u={...u,...Gse(t,u)}),u.duration&&(u.duration=Ua(u.duration)),u.repeatDelay&&(u.repeatDelay=Ua(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const h=ax(u.keyframes,a);if(h!==void 0)return Tt.update(()=>{u.onUpdate(h),u.onComplete()}),new yie([])}return!s&&E2.supports(u)?new E2(u):new WR(u)};function Yse({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function k$(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const h=t.getValue(d,(s=t.latestValues[d])!==null&&s!==void 0?s:null),f=l[d];if(f===void 0||u&&Yse(u,d))continue;const g={delay:n,...PR(o||{},d)};let m=!1;if(window.MotionHandoffAnimation){const y=e$(t);if(y){const w=window.MotionHandoffAnimation(y,d,Tt);w!==null&&(g.startTime=w,m=!0)}}fS(t,d),h.start(HR(d,h,f,t.shouldReduceMotion&&ZU.has(d)?{type:!1}:g,t,m));const v=h.animation;v&&c.push(v)}return a&&Promise.all(c).then(()=>{Tt.update(()=>{a&&Pie(t,a)})}),c}function wS(t,e,n={}){var r;const i=ox(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(k$(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=s;return Qse(t,e,u+c,d,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function Qse(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(Xse).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(wS(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function Xse(t,e){return t.sortNodePosition(e)}function Jse(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>wS(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=wS(t,e,n);else{const i=typeof e=="function"?ox(t,e,n.custom):e;r=Promise.all(k$(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const Zse=yR.length;function O$(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?O$(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Zse;n++){const r=yR[n],i=t.props[r];(uy(i)||i===!1)&&(e[r]=i)}return e}const eoe=[...gR].reverse(),toe=gR.length;function noe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Jse(t,n,r)))}function roe(t){let e=noe(t),n=b2(),r=!0;const i=l=>(c,u)=>{var d;const h=ox(t,u,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(h){const{transition:f,transitionEnd:g,...m}=h;c={...c,...m,...g}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,u=O$(t.parent)||{},d=[],h=new Set;let f={},g=1/0;for(let v=0;v<toe;v++){const y=eoe[v],w=n[y],E=c[y]!==void 0?c[y]:u[y],S=uy(E),C=y===l?w.isActive:null;C===!1&&(g=v);let N=E===u[y]&&E!==c[y]&&S;if(N&&r&&t.manuallyAnimateOnMount&&(N=!1),w.protectedKeys={...f},!w.isActive&&C===null||!E&&!w.prevProp||ix(E)||typeof E=="boolean")continue;const T=ioe(w.prevProp,E);let A=T||y===l&&w.isActive&&!N&&S||v>g&&S,P=!1;const k=Array.isArray(E)?E:[E];let M=k.reduce(i(y),{});C===!1&&(M={});const{prevResolvedValues:O={}}=w,D={...O,...M},U=H=>{A=!0,h.has(H)&&(P=!0,h.delete(H)),w.needsAnimating[H]=!0;const B=t.getValue(H);B&&(B.liveStyle=!1)};for(const H in D){const B=M[H],W=O[H];if(f.hasOwnProperty(H))continue;let j=!1;uS(B)&&uS(W)?j=!qU(B,W):j=B!==W,j?B!=null?U(H):h.add(H):B!==void 0&&h.has(H)?U(H):w.protectedKeys[H]=!0}w.prevProp=E,w.prevResolvedValues=M,w.isActive&&(f={...f,...M}),r&&t.blockInitialAnimation&&(A=!1),A&&(!(N&&T)||P)&&d.push(...k.map(H=>({animation:H,options:{type:y}})))}if(h.size){const v={};h.forEach(y=>{const w=t.getBaseTarget(y),E=t.getValue(y);E&&(E.liveStyle=!0),v[y]=w??null}),d.push({animation:v})}let m=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(m=!1),r=!1,m?e(d):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(h=>{var f;return(f=h.animationState)===null||f===void 0?void 0:f.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=b2(),r=!0}}}function ioe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!qU(e,t):!1}function xu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function b2(){return{animate:xu(!0),whileInView:xu(),whileHover:xu(),whileTap:xu(),whileDrag:xu(),whileFocus:xu(),exit:xu()}}class nu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class soe extends nu{constructor(e){super(e),e.animationState||(e.animationState=roe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ix(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let ooe=0;class aoe extends nu{constructor(){super(...arguments),this.id=ooe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const loe={animation:{Feature:soe},exit:{Feature:aoe}};function py(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function pv(t){return{point:{x:t.pageX,y:t.pageY}}}const coe=t=>e=>OR(e)&&t(e,pv(e));function Zm(t,e,n,r){return py(t,e,coe(n),r)}const T2=(t,e)=>Math.abs(t-e);function uoe(t,e){const n=T2(t.x,e.x),r=T2(t.y,e.y);return Math.sqrt(n**2+r**2)}class D${constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=VE(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,f=uoe(d.offset,{x:0,y:0})>=3;if(!h&&!f)return;const{point:g}=d,{timestamp:m}=mr;this.history.push({...g,timestamp:m});const{onStart:v,onMove:y}=this.handlers;h||(v&&v(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=ME(h,this.transformPagePoint),Tt.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:f,onSessionEnd:g,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=VE(d.type==="pointercancel"?this.lastMoveEventInfo:ME(h,this.transformPagePoint),this.history);this.startEvent&&f&&f(d,v),g&&g(d,v)},!OR(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=pv(e),a=ME(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=mr;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,VE(a,this.history)),this.removeListeners=fv(Zm(this.contextWindow,"pointermove",this.handlePointerMove),Zm(this.contextWindow,"pointerup",this.handlePointerUp),Zm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),aa(this.updatePoint)}}function ME(t,e){return e?{point:e(t.point)}:t}function S2(t,e){return{x:t.x-e.x,y:t.y-e.y}}function VE({point:t},e){return{point:t,delta:S2(t,L$(e)),offset:S2(t,doe(e)),velocity:hoe(e,.1)}}function doe(t){return t[0]}function L$(t){return t[t.length-1]}function hoe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=L$(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ua(e)));)n--;if(!r)return{x:0,y:0};const s=$a(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const M$=1e-4,foe=1-M$,poe=1+M$,V$=.01,moe=0-V$,goe=0+V$;function wi(t){return t.max-t.min}function yoe(t,e,n){return Math.abs(t-e)<=n}function A2(t,e,n,r=.5){t.origin=r,t.originPoint=pn(e.min,e.max,t.origin),t.scale=wi(n)/wi(e),t.translate=pn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=foe&&t.scale<=poe||isNaN(t.scale))&&(t.scale=1),(t.translate>=moe&&t.translate<=goe||isNaN(t.translate))&&(t.translate=0)}function eg(t,e,n,r){A2(t.x,e.x,n.x,r?r.originX:void 0),A2(t.y,e.y,n.y,r?r.originY:void 0)}function I2(t,e,n){t.min=n.min+e.min,t.max=t.min+wi(e)}function voe(t,e,n){I2(t.x,e.x,n.x),I2(t.y,e.y,n.y)}function C2(t,e,n){t.min=e.min-n.min,t.max=t.min+wi(e)}function tg(t,e,n){C2(t.x,e.x,n.x),C2(t.y,e.y,n.y)}function _oe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?pn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?pn(n,t,r.max):Math.min(t,n)),t}function R2(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function woe(t,{top:e,left:n,bottom:r,right:i}){return{x:R2(t.x,n,i),y:R2(t.y,e,r)}}function P2(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function xoe(t,e){return{x:P2(t.x,e.x),y:P2(t.y,e.y)}}function Eoe(t,e){let n=.5;const r=wi(t),i=wi(e);return i>r?n=wd(e.min,e.max-r,t.min):r>i&&(n=wd(t.min,t.max-i,e.min)),la(0,1,n)}function boe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const xS=.35;function Toe(t=xS){return t===!1?t=0:t===!0&&(t=xS),{x:N2(t,"left","right"),y:N2(t,"top","bottom")}}function N2(t,e,n){return{min:k2(t,e),max:k2(t,n)}}function k2(t,e){return typeof t=="number"?t:t[e]||0}const O2=()=>({translate:0,scale:1,origin:0,originPoint:0}),Yh=()=>({x:O2(),y:O2()}),D2=()=>({min:0,max:0}),Nn=()=>({x:D2(),y:D2()});function Cs(t){return[t("x"),t("y")]}function j$({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Soe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Aoe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function jE(t){return t===void 0||t===1}function ES({scale:t,scaleX:e,scaleY:n}){return!jE(t)||!jE(e)||!jE(n)}function Cu(t){return ES(t)||F$(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function F$(t){return L2(t.x)||L2(t.y)}function L2(t){return t&&t!=="0%"}function kw(t,e,n){const r=t-n,i=e*r;return n+i}function M2(t,e,n,r,i){return i!==void 0&&(t=kw(t,i,r)),kw(t,n,r)+e}function bS(t,e=0,n=1,r,i){t.min=M2(t.min,e,n,r,i),t.max=M2(t.max,e,n,r,i)}function B$(t,{x:e,y:n}){bS(t.x,e.translate,e.scale,e.originPoint),bS(t.y,n.translate,n.scale,n.originPoint)}const V2=.999999999999,j2=1.0000000000001;function Ioe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Xh(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,B$(t,o)),r&&Cu(s.latestValues)&&Xh(t,s.latestValues))}e.x<j2&&e.x>V2&&(e.x=1),e.y<j2&&e.y>V2&&(e.y=1)}function Qh(t,e){t.min=t.min+e,t.max=t.max+e}function F2(t,e,n,r,i=.5){const s=pn(t.min,t.max,i);bS(t,e,n,s,r)}function Xh(t,e){F2(t.x,e.x,e.scaleX,e.scale,e.originX),F2(t.y,e.y,e.scaleY,e.scale,e.originY)}function U$(t,e){return j$(Aoe(t.getBoundingClientRect(),e))}function Coe(t,e,n){const r=U$(t,n),{scroll:i}=e;return i&&(Qh(r.x,i.offset.x),Qh(r.y,i.offset.y)),r}const $$=({current:t})=>t?t.ownerDocument.defaultView:null,Roe=new WeakMap;class Poe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Nn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(pv(u).point)},s=(u,d)=>{const{drag:h,dragPropagation:f,onDragStart:g}=this.getProps();if(h&&!f&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Sie(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Cs(v=>{let y=this.getAxisMotionValue(v).get()||0;if(Xo.test(y)){const{projection:w}=this.visualElement;if(w&&w.layout){const E=w.layout.layoutBox[v];E&&(y=wi(E)*(parseFloat(y)/100))}}this.originPoint[v]=y}),g&&Tt.postRender(()=>g(u,d)),fS(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:h,dragDirectionLock:f,onDirectionLock:g,onDrag:m}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:v}=d;if(f&&this.currentDirection===null){this.currentDirection=Noe(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",d.point,v),this.updateAxis("y",d.point,v),this.visualElement.render(),m&&m(u,d)},a=(u,d)=>this.stop(u,d),l=()=>Cs(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new D$(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:$$(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Tt.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!s0(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=_oe(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Gh(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=woe(i.layoutBox,n):this.constraints=!1,this.elastic=Toe(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Cs(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=boe(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Gh(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Coe(r,i.root,this.visualElement.getTransformPagePoint());let o=xoe(i.layout.layoutBox,s);if(n){const a=n(Soe(o));this.hasMutatedConstraints=!!a,a&&(o=j$(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Cs(u=>{if(!s0(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const h=i?200:1e6,f=i?40:1e7,g={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return fS(this.visualElement,e),r.start(HR(e,r,0,n,this.visualElement,!1))}stopAnimation(){Cs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Cs(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Cs(n=>{const{drag:r}=this.getProps();if(!s0(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-pn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Gh(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Cs(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=Eoe({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Cs(o=>{if(!s0(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(pn(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;Roe.set(this.visualElement,this);const e=this.visualElement.current,n=Zm(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Gh(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Tt.read(r);const o=py(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Cs(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=xS,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function s0(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Noe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class koe extends nu{constructor(e){super(e),this.removeGroupControls=Ti,this.removeListeners=Ti,this.controls=new Poe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ti}unmount(){this.removeGroupControls(),this.removeListeners()}}const B2=t=>(e,n)=>{t&&Tt.postRender(()=>t(e,n))};class Ooe extends nu{constructor(){super(...arguments),this.removePointerDownListener=Ti}onPointerDown(e){this.session=new D$(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$$(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:B2(e),onStart:B2(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Tt.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Zm(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const d_={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function U2(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const nm={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ve.test(t))t=parseFloat(t);else return t;const n=U2(t,e.target.x),r=U2(t,e.target.y);return`${n}% ${r}%`}},Doe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Dc.parse(t);if(i.length>5)return r;const s=Dc.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=pn(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class Loe extends x.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;oie(Moe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),d_.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Tt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),_R.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function q$(t){const[e,n]=TU(),r=x.useContext(dR);return _.jsx(Loe,{...t,layoutGroup:r,switchLayoutGroup:x.useContext(NU),isPresent:e,safeToRemove:n})}const Moe={borderRadius:{...nm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:nm,borderTopRightRadius:nm,borderBottomLeftRadius:nm,borderBottomRightRadius:nm,boxShadow:Doe};function Voe(t,e,n){const r=Zr(t)?t:Va(t);return r.start(HR("",r,e,n)),r.animation}function joe(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Foe=(t,e)=>t.depth-e.depth;class Boe{constructor(){this.children=[],this.isDirty=!1}add(e){DR(this.children,e),this.isDirty=!0}remove(e){LR(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Foe),this.isDirty=!1,this.children.forEach(e)}}function Uoe(t,e){const n=Jo.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(aa(r),t(s-e))};return Tt.read(r,!0),()=>aa(r)}const z$=["TopLeft","TopRight","BottomLeft","BottomRight"],$oe=z$.length,$2=t=>typeof t=="string"?parseFloat(t):t,q2=t=>typeof t=="number"||Ve.test(t);function qoe(t,e,n,r,i,s){i?(t.opacity=pn(0,n.opacity!==void 0?n.opacity:1,zoe(r)),t.opacityExit=pn(e.opacity!==void 0?e.opacity:1,0,Woe(r))):s&&(t.opacity=pn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<$oe;o++){const a=`border${z$[o]}Radius`;let l=z2(e,a),c=z2(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||q2(l)===q2(c)?(t[a]=Math.max(pn($2(l),$2(c),r),0),(Xo.test(c)||Xo.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=pn(e.rotate||0,n.rotate||0,r))}function z2(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const zoe=W$(0,.5,a$),Woe=W$(.5,.95,Ti);function W$(t,e,n){return r=>r<t?0:r>e?1:n(wd(t,e,r))}function W2(t,e){t.min=e.min,t.max=e.max}function Is(t,e){W2(t.x,e.x),W2(t.y,e.y)}function H2(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function G2(t,e,n,r,i){return t-=e,t=kw(t,1/n,r),i!==void 0&&(t=kw(t,1/i,r)),t}function Hoe(t,e=0,n=1,r=.5,i,s=t,o=t){if(Xo.test(e)&&(e=parseFloat(e),e=pn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=pn(s.min,s.max,r);t===s&&(a-=e),t.min=G2(t.min,e,n,a,i),t.max=G2(t.max,e,n,a,i)}function K2(t,e,[n,r,i],s,o){Hoe(t,e[n],e[r],e[i],e.scale,s,o)}const Goe=["x","scaleX","originX"],Koe=["y","scaleY","originY"];function Y2(t,e,n,r){K2(t.x,e,Goe,n?n.x:void 0,r?r.x:void 0),K2(t.y,e,Koe,n?n.y:void 0,r?r.y:void 0)}function Q2(t){return t.translate===0&&t.scale===1}function H$(t){return Q2(t.x)&&Q2(t.y)}function X2(t,e){return t.min===e.min&&t.max===e.max}function Yoe(t,e){return X2(t.x,e.x)&&X2(t.y,e.y)}function J2(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function G$(t,e){return J2(t.x,e.x)&&J2(t.y,e.y)}function Z2(t){return wi(t.x)/wi(t.y)}function eL(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Qoe{constructor(){this.members=[]}add(e){DR(this.members,e),e.scheduleRender()}remove(e){if(LR(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Xoe(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:h,skewX:f,skewY:g}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `),f&&(r+=`skewX(${f}deg) `),g&&(r+=`skewY(${g}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Ru={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Tm=typeof window<"u"&&window.MotionDebug!==void 0,FE=["","X","Y","Z"],Joe={visibility:"hidden"},tL=1e3;let Zoe=0;function BE(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function K$(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=e$(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Tt,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&K$(r)}function Y$({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Zoe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Tm&&(Ru.totalNodes=Ru.resolvedTargetDeltas=Ru.recalculatedProjection=0),this.nodes.forEach(nae),this.nodes.forEach(aae),this.nodes.forEach(lae),this.nodes.forEach(rae),Tm&&window.MotionDebug.record(Ru)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Boe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new MR),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=joe(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=Uoe(h,250),d_.hasAnimatedSinceResize&&(d_.hasAnimatedSinceResize=!1,this.nodes.forEach(rL))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||u.getDefaultTransition()||fae,{onLayoutAnimationStart:v,onLayoutAnimationComplete:y}=u.getProps(),w=!this.targetLayout||!G$(this.targetLayout,g),E=!h&&f;if(this.options.layoutRoot||this.resumeFrom||E||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,E);const S={...PR(m,"layout"),onPlay:v,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else h||rL(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,aa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cae),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&K$(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(nL);return}this.isUpdating||this.nodes.forEach(sae),this.isUpdating=!1,this.nodes.forEach(oae),this.nodes.forEach(eae),this.nodes.forEach(tae),this.clearAllSnapshots();const a=Jo.now();mr.delta=la(0,1e3/60,a-mr.timestamp),mr.timestamp=a,mr.isProcessing=!0,PE.update.process(mr),PE.preRender.process(mr),PE.render.process(mr),mr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_R.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(iae),this.sharedNodes.forEach(uae)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!wi(this.snapshot.measuredBox.x)&&!wi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Nn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!H$(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Cu(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),pae(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Nn();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(mae))){const{scroll:u}=this.root;u&&(Qh(l.x,u.offset.x),Qh(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=Nn();if(Is(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&Is(l,o),Qh(l.x,d.offset.x),Qh(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=Nn();Is(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Xh(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Cu(u.latestValues)&&Xh(l,u.latestValues)}return Cu(this.latestValues)&&Xh(l,this.latestValues),l}removeTransform(o){const a=Nn();Is(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Cu(c.latestValues))continue;ES(c.latestValues)&&c.updateSnapshot();const u=Nn(),d=c.measurePageBox();Is(u,d),Y2(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Cu(this.latestValues)&&Y2(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=mr.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nn(),this.relativeTargetOrigin=Nn(),tg(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Is(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Nn(),this.targetWithTransforms=Nn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),voe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Is(this.target,this.layout.layoutBox),B$(this.target,this.targetDelta)):Is(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nn(),this.relativeTargetOrigin=Nn(),tg(this.relativeTargetOrigin,this.target,f.target),Is(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Tm&&Ru.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ES(this.parent.latestValues)||F$(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===mr.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Is(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;Ioe(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Nn());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(H2(this.prevProjectionDelta.x,this.projectionDelta.x),H2(this.prevProjectionDelta.y,this.projectionDelta.y)),eg(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!eL(this.projectionDelta.x,this.prevProjectionDelta.x)||!eL(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Tm&&Ru.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Yh(),this.projectionDelta=Yh(),this.projectionDeltaWithTransform=Yh()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Yh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Nn(),f=l?l.source:void 0,g=this.layout?this.layout.source:void 0,m=f!==g,v=this.getStack(),y=!v||v.members.length<=1,w=!!(m&&!y&&this.options.crossfade===!0&&!this.path.some(hae));this.animationProgress=0;let E;this.mixTargetDelta=S=>{const C=S/1e3;iL(d.x,o.x,C),iL(d.y,o.y,C),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(tg(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dae(this.relativeTarget,this.relativeTargetOrigin,h,C),E&&Yoe(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Nn()),Is(E,this.relativeTarget)),m&&(this.animationValues=u,qoe(u,c,this.latestValues,C,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(aa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Tt.update(()=>{d_.hasAnimatedSinceResize=!0,this.currentAnimation=Voe(0,tL,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(tL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&Q$(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Nn();const d=wi(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=wi(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Is(a,l),Xh(a,u),eg(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Qoe),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&BE("z",o,c,this.animationValues);for(let u=0;u<FE.length;u++)BE(`rotate${FE[u]}`,o,c,this.animationValues),BE(`skew${FE[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Joe;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=c_(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=c_(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Cu(this.latestValues)&&(m.transform=u?u({},""):"none",this.hasProjected=!1),m}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=Xoe(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:f,y:g}=this.projectionDelta;c.transformOrigin=`${f.origin*100}% ${g.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const m in hy){if(h[m]===void 0)continue;const{correct:v,applyTo:y,isCSSVariable:w}=hy[m],E=c.transform==="none"?h[m]:v(h[m],d);if(y){const S=y.length;for(let C=0;C<S;C++)c[y[C]]=E}else w?this.options.visualElement.renderState.vars[m]=E:c[m]=E}return this.options.layoutId&&(c.pointerEvents=d===this?c_(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(nL),this.root.sharedNodes.clear()}}}function eae(t){t.updateLayout()}function tae(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Cs(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],f=wi(h);h.min=r[d].min,h.max=h.min+f}):Q$(s,n.layoutBox,r)&&Cs(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],f=wi(r[d]);h.max=h.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+f)});const a=Yh();eg(a,r,n.layoutBox);const l=Yh();o?eg(l,t.applyTransform(i,!0),n.measuredBox):eg(l,r,n.layoutBox);const c=!H$(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:f}=d;if(h&&f){const g=Nn();tg(g,n.layoutBox,h.layoutBox);const m=Nn();tg(m,r,f.layoutBox),G$(g,m)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=g,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function nae(t){Tm&&Ru.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function rae(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function iae(t){t.clearSnapshot()}function nL(t){t.clearMeasurements()}function sae(t){t.isLayoutDirty=!1}function oae(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function rL(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function aae(t){t.resolveTargetDelta()}function lae(t){t.calcProjection()}function cae(t){t.resetSkewAndRotation()}function uae(t){t.removeLeadSnapshot()}function iL(t,e,n){t.translate=pn(e.translate,0,n),t.scale=pn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function sL(t,e,n,r){t.min=pn(e.min,n.min,r),t.max=pn(e.max,n.max,r)}function dae(t,e,n,r){sL(t.x,e.x,n.x,r),sL(t.y,e.y,n.y,r)}function hae(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const fae={duration:.45,ease:[.4,0,.1,1]},oL=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),aL=oL("applewebkit/")&&!oL("chrome/")?Math.round:Ti;function lL(t){t.min=aL(t.min),t.max=aL(t.max)}function pae(t){lL(t.x),lL(t.y)}function Q$(t,e,n){return t==="position"||t==="preserve-aspect"&&!yoe(Z2(e),Z2(n),.2)}function mae(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const gae=Y$({attachResizeListener:(t,e)=>py(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),UE={current:void 0},X$=Y$({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!UE.current){const t=new gae({});t.mount(window),t.setOptions({layoutScroll:!0}),UE.current=t}return UE.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),yae={pan:{Feature:Ooe},drag:{Feature:koe,ProjectionNode:X$,MeasureLayout:q$}};function cL(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Tt.postRender(()=>s(e,pv(e)))}class vae extends nu{mount(){const{current:e}=this.node;e&&(this.unmount=wie(e,(n,r)=>(cL(this.node,r,"Start"),i=>cL(this.node,i,"End"))))}unmount(){}}class _ae extends nu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fv(py(this.node.current,"focus",()=>this.onFocus()),py(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function uL(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Tt.postRender(()=>s(e,pv(e)))}class wae extends nu{mount(){const{current:e}=this.node;e&&(this.unmount=Tie(e,(n,r)=>(uL(this.node,r,"Start"),(i,{success:s})=>uL(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const TS=new WeakMap,$E=new WeakMap,xae=t=>{const e=TS.get(t.target);e&&e(t)},Eae=t=>{t.forEach(xae)};function bae({root:t,...e}){const n=t||document;$E.has(n)||$E.set(n,{});const r=$E.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Eae,{root:t,...e})),r[i]}function Tae(t,e,n){const r=bae(e);return TS.set(t,n),r.observe(t),()=>{TS.delete(t),r.unobserve(t)}}const Sae={some:0,all:1};class Aae extends nu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Sae[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return Tae(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Iae(e,n))&&this.startObserver()}unmount(){}}function Iae({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Cae={inView:{Feature:Aae},tap:{Feature:wae},focus:{Feature:_ae},hover:{Feature:vae}},Rae={layout:{ProjectionNode:X$,MeasureLayout:q$}},SS={current:null},J$={current:!1};function Pae(){if(J$.current=!0,!!fR)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>SS.current=t.matches;t.addListener(e),e()}else SS.current=!1}const Nae=[...x$,Wr,Dc],kae=t=>Nae.find(w$(t)),dL=new WeakMap;function Oae(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Zr(i))t.addValue(r,i);else if(Zr(s))t.addValue(r,Va(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Va(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const hL=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Dae{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=qR,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Jo.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Tt.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=o;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=sx(n),this.isVariantNode=RU(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const g=h[f];l[f]!==void 0&&Zr(g)&&g.set(l[f],!1)}}mount(e){this.current=e,dL.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),J$.current||Pae(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:SS.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){dL.delete(this.current),this.projection&&this.projection.unmount(),aa(this.notifyUpdate),aa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=qd.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Tt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Zf){const n=Zf[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Nn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<hL.length;r++){const i=hL[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Oae(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Va(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(v$(i)||c$(i))?i=parseFloat(i):!kae(i)&&Dc.test(n)&&(i=m$(e,n)),this.setBaseTarget(e,Zr(i)?i.get():i)),Zr(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=xR(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Zr(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new MR),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Z$ extends Dae{constructor(){super(...arguments),this.KeyframeResolver=E$}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Zr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Lae(t){return window.getComputedStyle(t)}class Mae extends Z${constructor(){super(...arguments),this.type="html",this.renderInstance=VU}readValueFromInstance(e,n){if(qd.has(n)){const r=$R(n);return r&&r.default||0}else{const r=Lae(e),i=(ER(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return U$(e,n)}build(e,n,r){SR(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return RR(e,n,r)}}class Vae extends Z${constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Nn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(qd.has(n)){const r=$R(n);return r&&r.default||0}return n=jU.has(n)?n:vR(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return UU(e,n,r)}build(e,n,r){AR(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){FU(e,n,r,i)}mount(e){this.isSVGTag=CR(e.tagName),super.mount(e)}}const jae=(t,e)=>wR(t)?new Vae(e):new Mae(e,{allowProjection:t!==x.Fragment}),Fae=mie({...loe,...Cae,...yae,...Rae},jae),To=Pre(Fae);function e6(t,e){let n;const r=()=>{const{currentTime:i}=e,o=(i===null?0:i.value)/100;n!==o&&t(o),n=o};return Tt.update(r,!0),()=>aa(r)}const h_=new WeakMap;let Nl;function Bae(t,e){if(e){const{inlineSize:n,blockSize:r}=e[0];return{width:n,height:r}}else return t instanceof SVGElement&&"getBBox"in t?t.getBBox():{width:t.offsetWidth,height:t.offsetHeight}}function Uae({target:t,contentRect:e,borderBoxSize:n}){var r;(r=h_.get(t))===null||r===void 0||r.forEach(i=>{i({target:t,contentSize:e,get size(){return Bae(t,n)}})})}function $ae(t){t.forEach(Uae)}function qae(){typeof ResizeObserver>"u"||(Nl=new ResizeObserver($ae))}function zae(t,e){Nl||qae();const n=QU(t);return n.forEach(r=>{let i=h_.get(r);i||(i=new Set,h_.set(r,i)),i.add(e),Nl==null||Nl.observe(r)}),()=>{n.forEach(r=>{const i=h_.get(r);i==null||i.delete(e),i!=null&&i.size||Nl==null||Nl.unobserve(r)})}}const f_=new Set;let ng;function Wae(){ng=()=>{const t={width:window.innerWidth,height:window.innerHeight},e={target:window,size:t,contentSize:t};f_.forEach(n=>n(e))},window.addEventListener("resize",ng)}function Hae(t){return f_.add(t),ng||Wae(),()=>{f_.delete(t),!f_.size&&ng&&(ng=void 0)}}function Gae(t,e){return typeof t=="function"?Hae(t):zae(t,e)}const Kae=50,fL=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Yae=()=>({time:0,x:fL(),y:fL()}),Qae={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function pL(t,e,n,r){const i=n[e],{length:s,position:o}=Qae[e],a=i.current,l=n.time;i.current=t[`scroll${o}`],i.scrollLength=t[`scroll${s}`]-t[`client${s}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=wd(0,i.scrollLength,i.current);const c=r-l;i.velocity=c>Kae?0:VR(i.current-a,c)}function Xae(t,e,n){pL(t,"x",e,n),pL(t,"y",e,n),e.time=n}function Jae(t,e){const n={x:0,y:0};let r=t;for(;r&&r!==e;)if(r instanceof HTMLElement)n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const i=r.getBoundingClientRect();r=r.parentElement;const s=r.getBoundingClientRect();n.x+=i.left-s.left,n.y+=i.top-s.top}else if(r instanceof SVGGraphicsElement){const{x:i,y:s}=r.getBBox();n.x+=i,n.y+=s;let o=null,a=r.parentNode;for(;!o;)a.tagName==="svg"&&(o=a),a=r.parentNode;r=o}else break;return n}const AS={start:0,center:.5,end:1};function mL(t,e,n=0){let r=0;if(t in AS&&(t=AS[t]),typeof t=="string"){const i=parseFloat(t);t.endsWith("px")?r=i:t.endsWith("%")?t=i/100:t.endsWith("vw")?r=i/100*document.documentElement.clientWidth:t.endsWith("vh")?r=i/100*document.documentElement.clientHeight:t=i}return typeof t=="number"&&(r=e*t),n+r}const Zae=[0,0];function ele(t,e,n,r){let i=Array.isArray(t)?t:Zae,s=0,o=0;return typeof t=="number"?i=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?i=t.split(" "):i=[t,AS[t]?t:"0"]),s=mL(i[0],n,r),o=mL(i[1],e),s-o}const tle={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},nle={x:0,y:0};function rle(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function ile(t,e,n){const{offset:r=tle.All}=n,{target:i=t,axis:s="y"}=n,o=s==="y"?"height":"width",a=i!==t?Jae(i,t):nle,l=i===t?{width:t.scrollWidth,height:t.scrollHeight}:rle(i),c={width:t.clientWidth,height:t.clientHeight};e[s].offset.length=0;let u=!e[s].interpolate;const d=r.length;for(let h=0;h<d;h++){const f=ele(r[h],c[o],l[o],a[s]);!u&&f!==e[s].interpolatorOffsets[h]&&(u=!0),e[s].offset[h]=f}u&&(e[s].interpolate=R$(e[s].offset,P$(r),{clamp:!1}),e[s].interpolatorOffsets=[...e[s].offset]),e[s].progress=la(0,1,e[s].interpolate(e[s].current))}function sle(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let r=e;for(;r&&r!==t;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function ole(t,e,n,r={}){return{measure:()=>sle(t,r.target,n),update:i=>{Xae(t,n,i),(r.offset||r.target)&&ile(t,n,r)},notify:()=>e(n)}}const rm=new WeakMap,gL=new WeakMap,qE=new WeakMap,yL=t=>t===document.documentElement?window:t;function GR(t,{container:e=document.documentElement,...n}={}){let r=qE.get(e);r||(r=new Set,qE.set(e,r));const i=Yae(),s=ole(e,t,i,n);if(r.add(s),!rm.has(e)){const a=()=>{for(const h of r)h.measure()},l=()=>{for(const h of r)h.update(mr.timestamp)},c=()=>{for(const h of r)h.notify()},u=()=>{Tt.read(a,!1,!0),Tt.read(l,!1,!0),Tt.update(c,!1,!0)};rm.set(e,u);const d=yL(e);window.addEventListener("resize",u,{passive:!0}),e!==document.documentElement&&gL.set(e,Gae(e,u)),d.addEventListener("scroll",u,{passive:!0})}const o=rm.get(e);return Tt.read(o,!1,!0),()=>{var a;aa(o);const l=qE.get(e);if(!l||(l.delete(s),l.size))return;const c=rm.get(e);rm.delete(e),c&&(yL(e).removeEventListener("scroll",c),(a=gL.get(e))===null||a===void 0||a(),window.removeEventListener("resize",c))}}function ale({source:t,container:e,axis:n="y"}){t&&(e=t);const r={value:0},i=GR(s=>{r.value=s[n].progress*100},{container:e,axis:n});return{currentTime:r,cancel:i}}const zE=new Map;function t6({source:t,container:e=document.documentElement,axis:n="y"}={}){t&&(e=t),zE.has(e)||zE.set(e,{});const r=zE.get(e);return r[n]||(r[n]=zU()?new ScrollTimeline({source:e,axis:n}):ale({source:e,axis:n})),r[n]}function lle(t){return t.length===2}function n6(t){return t&&(t.target||t.offset)}function cle(t,e){return lle(t)||n6(e)?GR(n=>{t(n[e.axis].progress,n)},e):e6(t,t6(e))}function ule(t,e){if(t.flatten(),n6(e))return t.pause(),GR(n=>{t.time=t.duration*n[e.axis].progress},e);{const n=t6(e);return t.attachTimeline?t.attachTimeline(n,r=>(r.pause(),e6(i=>{r.time=r.duration*i},n))):Ti}}function dle(t,{axis:e="y",...n}={}){const r={axis:e,...n};return typeof t=="function"?cle(t,r):ule(t,r)}function vL(t,e){Ere(!!(!e||e.current))}const hle=()=>({scrollX:Va(0),scrollY:Va(0),scrollXProgress:Va(0),scrollYProgress:Va(0)});function fle({container:t,target:e,layoutEffect:n=!0,...r}={}){const i=tx(hle);return(n?pR:x.useEffect)(()=>(vL("target",e),vL("container",t),dle((o,{x:a,y:l})=>{i.scrollX.set(a.current),i.scrollXProgress.set(a.progress),i.scrollY.set(l.current),i.scrollYProgress.set(l.progress)},{...r,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[t,e,JSON.stringify(r.offset)]),i}var r6={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(r6);var ple=r6.exports;const xd=By(ple),my=({items:t,truncatedStr:e,searchItem:n})=>{const{title:r,ImgUrl:i,id:s}=t,{author:o}=tu(t.author),a=Xs();return _.jsx(SU,{children:_.jsxs(To.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{delay:1.4},onClick:()=>a(`/story/${s}`),className:" p-3 w-fit flex flex-col gap-2 hover:bg-orange-2 transition-colors cursor-pointer rounded-md",children:[_.jsx("img",{src:i,alt:r,className:xd("h-[230px] rounded-md shadow-md w-[220px] shadow-black-2",{"max-md:w-[200px] max-md:h-[210px] max-sm:h-[190px] max-sm:w-[180px]":n})}),_.jsxs("div",{className:"flex flex-col gap-2",children:[_.jsx("h1",{className:"text-black-2 font-semibold max-sm:text-sm",children:e}),_.jsx("h2",{className:xd("text-white-2 font-bold break-words w-[220px] ",{"max-md:w-[200px] max-sm:w-[180px] max-sm:text-sm":n}),children:o?o.name:""})]})]})})},mle=({Color:t,handleClick:e})=>_.jsx("div",{onClick:()=>e(),className:"w-[20px] cursor-pointer",children:_.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[_.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),_.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),_.jsx("g",{id:"SVGRepo_iconCarrier",children:_.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 6.00019C10.2006 3.90317 7.19377 3.2551 4.93923 5.17534C2.68468 7.09558 2.36727 10.3061 4.13778 12.5772C5.60984 14.4654 10.0648 18.4479 11.5249 19.7369C11.6882 19.8811 11.7699 19.9532 11.8652 19.9815C11.9483 20.0062 12.0393 20.0062 12.1225 19.9815C12.2178 19.9532 12.2994 19.8811 12.4628 19.7369C13.9229 18.4479 18.3778 14.4654 19.8499 12.5772C21.6204 10.3061 21.3417 7.07538 19.0484 5.17534C16.7551 3.2753 13.7994 3.90317 12 6.00019Z",stroke:t,"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})})]})}),gle=({clicked:t})=>_.jsx("div",{children:t?_.jsx("svg",{className:"w-7 h-7 text-black-2  dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M17.133 12.632v-1.8a5.406 5.406 0 0 0-4.154-5.262.955.955 0 0 0 .021-.106V3.1a1 1 0 0 0-2 0v2.364a.955.955 0 0 0 .021.106 5.406 5.406 0 0 0-4.154 5.262v1.8C6.867 15.018 5 15.614 5 16.807 5 17.4 5 18 5.538 18h12.924C19 18 19 17.4 19 16.807c0-1.193-1.867-1.789-1.867-4.175ZM8.823 19a3.453 3.453 0 0 0 6.354 0H8.823Z"})}):_.jsx("svg",{className:"w-7 h-7 text-black-2 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:_.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M12 5.365V3m0 2.365a5.338 5.338 0 0 1 5.133 5.368v1.8c0 2.386 1.867 2.982 1.867 4.175 0 .593 0 1.292-.538 1.292H5.538C5 18 5 17.301 5 16.708c0-1.193 1.867-1.789 1.867-4.175v-1.8A5.338 5.338 0 0 1 12 5.365ZM8.733 18c.094.852.306 1.54.944 2.112a3.48 3.48 0 0 0 4.646 0c.638-.572 1.236-1.26 1.33-2.112h-6.92Z"})})}),yle=({clicked:t,handleClick:e})=>_.jsx("div",{className:" w-[10px] cursor-pointer",onClick:e,children:t?_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"20",height:"20",viewBox:"0 0 48 48",children:_.jsx("path",{d:"M 16.5 5 C 12.928062 5 10 7.9280619 10 11.5 L 10 41.5 A 1.50015 1.50015 0 0 0 12.376953 42.716797 L 24 34.347656 L 35.623047 42.716797 A 1.50015 1.50015 0 0 0 38 41.5 L 38 11.5 C 38 7.9280619 35.071938 5 31.5 5 L 16.5 5 z M 16.5 8 L 31.5 8 C 33.450062 8 35 9.5499381 35 11.5 L 35 38.572266 L 24.876953 31.283203 A 1.50015 1.50015 0 0 0 23.123047 31.283203 L 13 38.572266 L 13 11.5 C 13 9.5499381 14.549938 8 16.5 8 z"})}):_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"20",height:"20",viewBox:"0 0 30 30",children:_.jsx("path",{d:"M23,27l-8-7l-8,7V5c0-1.105,0.895-2,2-2h12c1.105,0,2,0.895,2,2V27z"})})}),vle=({Color:t,classes:e})=>_.jsx("div",{className:`cursor-pointer ${e} `,children:_.jsxs("svg",{viewBox:"0 -0.5 21 21",version:"1.1",xmlns:"http://www.w3.org/2000/svg",fill:"#000000",children:[_.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),_.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),_.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",_.jsx("title",{children:"plus [#1512]"})," ",_.jsx("desc",{children:"Created with Sketch."})," ",_.jsx("defs",{children:" "})," ",_.jsxs("g",{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd",children:[" ",_.jsxs("g",{id:"Dribbble-Light-Preview",transform:"translate(-379.000000, -240.000000)",fill:t,children:[" ",_.jsxs("g",{id:"icons",transform:"translate(56.000000, 160.000000)",children:[" ",_.jsx("polygon",{id:"plus-[#1512]",points:"344 89 344 91 334.55 91 334.55 100 332.45 100 332.45 91 323 91 323 89 332.45 89 332.45 80 334.55 80 334.55 89",children:" "})," "]})," "]})," "]})," "]})]})}),_le=({direction:t,CloseOpen:e})=>_.jsx("div",{className:" w-[40px] cursor-pointer p-2 rounded-full hover:bg-orange-2 hover:border hover:border-orange-1  transition-colors",onClick:e,children:t=="right"?_.jsxs("svg",{viewBox:"-3 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",fill:"#242424",children:[_.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),_.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),_.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",_.jsx("g",{id:"icomoon-ignore",children:" "})," ",_.jsx("path",{d:"M13.11 29.113c7.243 0 13.113-5.871 13.113-13.113s-5.87-13.113-13.113-13.113c-7.242 0-13.113 5.871-13.113 13.113s5.871 13.113 13.113 13.113zM13.11 3.936c6.652 0 12.064 5.412 12.064 12.064s-5.412 12.064-12.064 12.064c-6.653 0-12.064-5.412-12.064-12.064s5.411-12.064 12.064-12.064z",fill:"#242424",children:" "})," ",_.jsx("path",{d:"M13.906 21.637l0.742 0.742 6.378-6.379-6.378-6.379-0.742 0.742 5.112 5.112h-12.727v1.049h12.727z",fill:"#242424",children:" "})," "]})]}):_.jsxs("svg",{viewBox:"-3 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",fill:"#242424",transform:"rotate(180)",children:[_.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),_.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),_.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",_.jsx("g",{id:"icomoon-ignore",children:" "})," ",_.jsx("path",{d:"M13.11 29.113c7.243 0 13.113-5.871 13.113-13.113s-5.87-13.113-13.113-13.113c-7.242 0-13.113 5.871-13.113 13.113s5.871 13.113 13.113 13.113zM13.11 3.936c6.652 0 12.064 5.412 12.064 12.064s-5.412 12.064-12.064 12.064c-6.653 0-12.064-5.412-12.064-12.064s5.411-12.064 12.064-12.064z",fill:"#000000",children:" "})," ",_.jsx("path",{d:"M13.906 21.637l0.742 0.742 6.378-6.379-6.378-6.379-0.742 0.742 5.112 5.112h-12.727v1.049h12.727z",fill:"#000000",children:" "})," "]})]})}),Xu={heart:mle,plus:vle,bell:gle,save:yle,arrow:_le};function wle(t){return Object.prototype.toString.call(t)==="[object Object]"}function _L(t){return wle(t)||Array.isArray(t)}function xle(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function KR(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const i=JSON.stringify(Object.keys(t.breakpoints||{})),s=JSON.stringify(Object.keys(e.breakpoints||{}));return i!==s?!1:n.every(o=>{const a=t[o],l=e[o];return typeof a=="function"?`${a}`==`${l}`:!_L(a)||!_L(l)?a===l:KR(a,l)})}function wL(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function Ele(t,e){if(t.length!==e.length)return!1;const n=wL(t),r=wL(e);return n.every((i,s)=>{const o=r[s];return KR(i,o)})}function YR(t){return typeof t=="number"}function IS(t){return typeof t=="string"}function lx(t){return typeof t=="boolean"}function xL(t){return Object.prototype.toString.call(t)==="[object Object]"}function mn(t){return Math.abs(t)}function QR(t){return Math.sign(t)}function rg(t,e){return mn(t-e)}function ble(t,e){if(t===0||e===0||mn(t)<=mn(e))return 0;const n=rg(mn(t),mn(e));return mn(n/t)}function Tle(t){return Math.round(t*100)/100}function gy(t){return yy(t).map(Number)}function xo(t){return t[mv(t)]}function mv(t){return Math.max(0,t.length-1)}function XR(t,e){return e===mv(t)}function EL(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function yy(t){return Object.keys(t)}function i6(t,e){return[t,e].reduce((n,r)=>(yy(r).forEach(i=>{const s=n[i],o=r[i],a=xL(s)&&xL(o);n[i]=a?i6(s,o):o}),n),{})}function CS(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function Sle(t,e){const n={start:r,center:i,end:s};function r(){return 0}function i(l){return s(l)/2}function s(l){return e-l}function o(l,c){return IS(t)?n[t](l):t(e,l,c)}return{measure:o}}function vy(){let t=[];function e(i,s,o,a={passive:!0}){let l;if("addEventListener"in i)i.addEventListener(s,o,a),l=()=>i.removeEventListener(s,o,a);else{const c=i;c.addListener(o),l=()=>c.removeListener(o)}return t.push(l),r}function n(){t=t.filter(i=>i())}const r={add:e,clear:n};return r}function Ale(t,e,n,r){const i=vy(),s=1e3/60;let o=null,a=0,l=0;function c(){i.add(t,"visibilitychange",()=>{t.hidden&&g()})}function u(){f(),i.clear()}function d(v){if(!l)return;o||(o=v,n(),n());const y=v-o;for(o=v,a+=y;a>=s;)n(),a-=s;const w=a/s;r(w),l&&(l=e.requestAnimationFrame(d))}function h(){l||(l=e.requestAnimationFrame(d))}function f(){e.cancelAnimationFrame(l),o=null,a=0,l=0}function g(){o=null,a=0}return{init:c,destroy:u,start:h,stop:f,update:n,render:r}}function Ile(t,e){const n=e==="rtl",r=t==="y",i=r?"y":"x",s=r?"x":"y",o=!r&&n?-1:1,a=u(),l=d();function c(g){const{height:m,width:v}=g;return r?m:v}function u(){return r?"top":n?"right":"left"}function d(){return r?"bottom":n?"left":"right"}function h(g){return g*o}return{scroll:i,cross:s,startEdge:a,endEdge:l,measureSize:c,direction:h}}function Ed(t=0,e=0){const n=mn(t-e);function r(c){return c<t}function i(c){return c>e}function s(c){return r(c)||i(c)}function o(c){return s(c)?r(c)?t:e:c}function a(c){return n?c-n*Math.ceil((c-e)/n):c}return{length:n,max:e,min:t,constrain:o,reachedAny:s,reachedMax:i,reachedMin:r,removeOffset:a}}function s6(t,e,n){const{constrain:r}=Ed(0,t),i=t+1;let s=o(e);function o(h){return n?mn((i+h)%i):r(h)}function a(){return s}function l(h){return s=o(h),d}function c(h){return u().set(a()+h)}function u(){return s6(t,a(),n)}const d={get:a,set:l,add:c,clone:u};return d}function Cle(t,e,n,r,i,s,o,a,l,c,u,d,h,f,g,m,v,y,w){const{cross:E,direction:S}=t,C=["INPUT","SELECT","TEXTAREA"],N={passive:!1},T=vy(),A=vy(),P=Ed(50,225).constrain(f.measure(20)),k={mouse:300,touch:400},M={mouse:500,touch:600},O=g?43:25;let D=!1,U=0,J=0,Q=!1,H=!1,B=!1,W=!1;function j(Z){if(!w)return;function se(Ue){(lx(w)||w(Z,Ue))&&Be(Ue)}const we=e;T.add(we,"dragstart",Ue=>Ue.preventDefault(),N).add(we,"touchmove",()=>{},N).add(we,"touchend",()=>{}).add(we,"touchstart",se).add(we,"mousedown",se).add(we,"touchcancel",fe).add(we,"contextmenu",fe).add(we,"click",Le,!0)}function ne(){T.clear(),A.clear()}function ue(){const Z=W?n:e;A.add(Z,"touchmove",re,N).add(Z,"touchend",fe).add(Z,"mousemove",re,N).add(Z,"mouseup",fe)}function he(Z){const se=Z.nodeName||"";return C.includes(se)}function Ee(){return(g?M:k)[W?"mouse":"touch"]}function me(Z,se){const we=d.add(QR(Z)*-1),Ue=u.byDistance(Z,!g).distance;return g||mn(Z)<P?Ue:v&&se?Ue*.5:u.byIndex(we.get(),0).distance}function Be(Z){const se=CS(Z,r);W=se,B=g&&se&&!Z.buttons&&D,D=rg(i.get(),o.get())>=2,!(se&&Z.button!==0)&&(he(Z.target)||(Q=!0,s.pointerDown(Z),c.useFriction(0).useDuration(0),i.set(o),ue(),U=s.readPoint(Z),J=s.readPoint(Z,E),h.emit("pointerDown")))}function re(Z){if(!CS(Z,r)&&Z.touches.length>=2)return fe(Z);const we=s.readPoint(Z),Ue=s.readPoint(Z,E),Ge=rg(we,U),z=rg(Ue,J);if(!H&&!W&&(!Z.cancelable||(H=Ge>z,!H)))return fe(Z);const St=s.pointerMove(Z);Ge>m&&(B=!0),c.useFriction(.3).useDuration(.75),a.start(),i.add(S(St)),Z.preventDefault()}function fe(Z){const we=u.byDistance(0,!1).index!==d.get(),Ue=s.pointerUp(Z)*Ee(),Ge=me(S(Ue),we),z=ble(Ue,Ge),St=O-10*z,Et=y+z/50;H=!1,Q=!1,A.clear(),c.useDuration(St).useFriction(Et),l.distance(Ge,!g),W=!1,h.emit("pointerUp")}function Le(Z){B&&(Z.stopPropagation(),Z.preventDefault(),B=!1)}function Re(){return Q}return{init:j,destroy:ne,pointerDown:Re}}function Rle(t,e){let r,i;function s(d){return d.timeStamp}function o(d,h){const g=`client${(h||t.scroll)==="x"?"X":"Y"}`;return(CS(d,e)?d:d.touches[0])[g]}function a(d){return r=d,i=d,o(d)}function l(d){const h=o(d)-o(i),f=s(d)-s(r)>170;return i=d,f&&(r=d),h}function c(d){if(!r||!i)return 0;const h=o(i)-o(r),f=s(d)-s(r),g=s(d)-s(i)>170,m=h/f;return f&&!g&&mn(m)>.1?m:0}return{pointerDown:a,pointerMove:l,pointerUp:c,readPoint:o}}function Ple(){function t(n){const{offsetTop:r,offsetLeft:i,offsetWidth:s,offsetHeight:o}=n;return{top:r,right:i+s,bottom:r+o,left:i,width:s,height:o}}return{measure:t}}function Nle(t){function e(r){return t*(r/100)}return{measure:e}}function kle(t,e,n,r,i,s,o){const a=[t].concat(r);let l,c,u=[],d=!1;function h(v){return i.measureSize(o.measure(v))}function f(v){if(!s)return;c=h(t),u=r.map(h);function y(w){for(const E of w){if(d)return;const S=E.target===t,C=r.indexOf(E.target),N=S?c:u[C],T=h(S?t:r[C]);if(mn(T-N)>=.5){v.reInit(),e.emit("resize");break}}}l=new ResizeObserver(w=>{(lx(s)||s(v,w))&&y(w)}),n.requestAnimationFrame(()=>{a.forEach(w=>l.observe(w))})}function g(){d=!0,l&&l.disconnect()}return{init:f,destroy:g}}function Ole(t,e,n,r,i,s){let o=0,a=0,l=i,c=s,u=t.get(),d=0;function h(){const N=r.get()-t.get(),T=!l;let A=0;return T?(o=0,n.set(r),t.set(r),A=N):(n.set(t),o+=N/l,o*=c,u+=o,t.add(o),A=u-d),a=QR(A),d=u,C}function f(){const N=r.get()-e.get();return mn(N)<.001}function g(){return l}function m(){return a}function v(){return o}function y(){return E(i)}function w(){return S(s)}function E(N){return l=N,C}function S(N){return c=N,C}const C={direction:m,duration:g,velocity:v,seek:h,settled:f,useBaseFriction:w,useBaseDuration:y,useFriction:S,useDuration:E};return C}function Dle(t,e,n,r,i){const s=i.measure(10),o=i.measure(50),a=Ed(.1,.99);let l=!1;function c(){return!(l||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function u(f){if(!c())return;const g=t.reachedMin(e.get())?"min":"max",m=mn(t[g]-e.get()),v=n.get()-e.get(),y=a.constrain(m/o);n.subtract(v*y),!f&&mn(v)<s&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function d(f){l=!f}return{shouldConstrain:c,constrain:u,toggleActive:d}}function Lle(t,e,n,r,i){const s=Ed(-e+t,0),o=d(),a=u(),l=h();function c(g,m){return rg(g,m)<=1}function u(){const g=o[0],m=xo(o),v=o.lastIndexOf(g),y=o.indexOf(m)+1;return Ed(v,y)}function d(){return n.map((g,m)=>{const{min:v,max:y}=s,w=s.constrain(g),E=!m,S=XR(n,m);return E?y:S||c(v,w)?v:c(y,w)?y:w}).map(g=>parseFloat(g.toFixed(3)))}function h(){if(e<=t+i)return[s.max];if(r==="keepSnaps")return o;const{min:g,max:m}=a;return o.slice(g,m)}return{snapsContained:l,scrollContainLimit:a}}function Mle(t,e,n){const r=e[0],i=n?r-t:xo(e);return{limit:Ed(i,r)}}function Vle(t,e,n,r){const s=e.min+.1,o=e.max+.1,{reachedMin:a,reachedMax:l}=Ed(s,o);function c(h){return h===1?l(n.get()):h===-1?a(n.get()):!1}function u(h){if(!c(h))return;const f=t*(h*-1);r.forEach(g=>g.add(f))}return{loop:u}}function jle(t){const{max:e,length:n}=t;function r(s){const o=s-e;return n?o/-n:0}return{get:r}}function Fle(t,e,n,r,i){const{startEdge:s,endEdge:o}=t,{groupSlides:a}=i,l=d().map(e.measure),c=h(),u=f();function d(){return a(r).map(m=>xo(m)[o]-m[0][s]).map(mn)}function h(){return r.map(m=>n[s]-m[s]).map(m=>-mn(m))}function f(){return a(c).map(m=>m[0]).map((m,v)=>m+l[v])}return{snaps:c,snapsAligned:u}}function Ble(t,e,n,r,i,s){const{groupSlides:o}=i,{min:a,max:l}=r,c=u();function u(){const h=o(s),f=!t||e==="keepSnaps";return n.length===1?[s]:f?h:h.slice(a,l).map((g,m,v)=>{const y=!m,w=XR(v,m);if(y){const E=xo(v[0])+1;return EL(E)}if(w){const E=mv(s)-xo(v)[0]+1;return EL(E,xo(v)[0])}return g})}return{slideRegistry:c}}function Ule(t,e,n,r,i){const{reachedAny:s,removeOffset:o,constrain:a}=r;function l(g){return g.concat().sort((m,v)=>mn(m)-mn(v))[0]}function c(g){const m=t?o(g):a(g),v=e.map((w,E)=>({diff:u(w-m,0),index:E})).sort((w,E)=>mn(w.diff)-mn(E.diff)),{index:y}=v[0];return{index:y,distance:m}}function u(g,m){const v=[g,g+n,g-n];if(!t)return g;if(!m)return l(v);const y=v.filter(w=>QR(w)===m);return y.length?l(y):xo(v)-n}function d(g,m){const v=e[g]-i.get(),y=u(v,m);return{index:g,distance:y}}function h(g,m){const v=i.get()+g,{index:y,distance:w}=c(v),E=!t&&s(v);if(!m||E)return{index:y,distance:g};const S=e[y]-w,C=g+u(S,0);return{index:y,distance:C}}return{byDistance:h,byIndex:d,shortcut:u}}function $le(t,e,n,r,i,s,o){function a(d){const h=d.distance,f=d.index!==e.get();s.add(h),h&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),f&&(n.set(e.get()),e.set(d.index),o.emit("select"))}function l(d,h){const f=i.byDistance(d,h);a(f)}function c(d,h){const f=e.clone().set(d),g=i.byIndex(f.get(),h);a(g)}return{distance:l,index:c}}function qle(t,e,n,r,i,s,o,a){const l={passive:!0,capture:!0};let c=0;function u(f){if(!a)return;function g(m){if(new Date().getTime()-c>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const w=n.findIndex(E=>E.includes(m));YR(w)&&(i.useDuration(0),r.index(w,0),o.emit("slideFocus"))}s.add(document,"keydown",d,!1),e.forEach((m,v)=>{s.add(m,"focus",y=>{(lx(a)||a(f,y))&&g(v)},l)})}function d(f){f.code==="Tab"&&(c=new Date().getTime())}return{init:u}}function Sm(t){let e=t;function n(){return e}function r(l){e=o(l)}function i(l){e+=o(l)}function s(l){e-=o(l)}function o(l){return YR(l)?l:l.get()}return{get:n,set:r,add:i,subtract:s}}function o6(t,e){const n=t.scroll==="x"?o:a,r=e.style;let i=null,s=!1;function o(h){return`translate3d(${h}px,0px,0px)`}function a(h){return`translate3d(0px,${h}px,0px)`}function l(h){if(s)return;const f=Tle(t.direction(h));f!==i&&(r.transform=n(f),i=f)}function c(h){s=!h}function u(){s||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:u,to:l,toggleActive:c}}function zle(t,e,n,r,i,s,o,a,l){const u=gy(i),d=gy(i).reverse(),h=y().concat(w());function f(T,A){return T.reduce((P,k)=>P-i[k],A)}function g(T,A){return T.reduce((P,k)=>f(P,A)>0?P.concat([k]):P,[])}function m(T){return s.map((A,P)=>({start:A-r[P]+.5+T,end:A+e-.5+T}))}function v(T,A,P){const k=m(A);return T.map(M=>{const O=P?0:-n,D=P?n:0,U=P?"end":"start",J=k[M][U];return{index:M,loopPoint:J,slideLocation:Sm(-1),translate:o6(t,l[M]),target:()=>a.get()>J?O:D}})}function y(){const T=o[0],A=g(d,T);return v(A,n,!1)}function w(){const T=e-o[0]-1,A=g(u,T);return v(A,-n,!0)}function E(){return h.every(({index:T})=>{const A=u.filter(P=>P!==T);return f(A,e)<=.1})}function S(){h.forEach(T=>{const{target:A,translate:P,slideLocation:k}=T,M=A();M!==k.get()&&(P.to(M),k.set(M))})}function C(){h.forEach(T=>T.translate.clear())}return{canLoop:E,clear:C,loop:S,loopPoints:h}}function Wle(t,e,n){let r,i=!1;function s(l){if(!n)return;function c(u){for(const d of u)if(d.type==="childList"){l.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(u=>{i||(lx(n)||n(l,u))&&c(u)}),r.observe(t,{childList:!0})}function o(){r&&r.disconnect(),i=!0}return{init:s,destroy:o}}function Hle(t,e,n,r){const i={};let s=null,o=null,a,l=!1;function c(){a=new IntersectionObserver(g=>{l||(g.forEach(m=>{const v=e.indexOf(m.target);i[v]=m}),s=null,o=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(g=>a.observe(g))}function u(){a&&a.disconnect(),l=!0}function d(g){return yy(i).reduce((m,v)=>{const y=parseInt(v),{isIntersecting:w}=i[y];return(g&&w||!g&&!w)&&m.push(y),m},[])}function h(g=!0){if(g&&s)return s;if(!g&&o)return o;const m=d(g);return g&&(s=m),g||(o=m),m}return{init:c,destroy:u,get:h}}function Gle(t,e,n,r,i,s){const{measureSize:o,startEdge:a,endEdge:l}=t,c=n[0]&&i,u=g(),d=m(),h=n.map(o),f=v();function g(){if(!c)return 0;const w=n[0];return mn(e[a]-w[a])}function m(){if(!c)return 0;const w=s.getComputedStyle(xo(r));return parseFloat(w.getPropertyValue(`margin-${l}`))}function v(){return n.map((w,E,S)=>{const C=!E,N=XR(S,E);return C?h[E]+u:N?h[E]+d:S[E+1][a]-w[a]}).map(mn)}return{slideSizes:h,slideSizesWithGaps:f,startGap:u,endGap:d}}function Kle(t,e,n,r,i,s,o,a,l){const{startEdge:c,endEdge:u,direction:d}=t,h=YR(n);function f(y,w){return gy(y).filter(E=>E%w===0).map(E=>y.slice(E,E+w))}function g(y){return y.length?gy(y).reduce((w,E,S)=>{const C=xo(w)||0,N=C===0,T=E===mv(y),A=i[c]-s[C][c],P=i[c]-s[E][u],k=!r&&N?d(o):0,M=!r&&T?d(a):0,O=mn(P-M-(A+k));return S&&O>e+l&&w.push(E),T&&w.push(y.length),w},[]).map((w,E,S)=>{const C=Math.max(S[E-1]||0);return y.slice(C,w)}):[]}function m(y){return h?f(y,n):g(y)}return{groupSlides:m}}function Yle(t,e,n,r,i,s,o){const{align:a,axis:l,direction:c,startIndex:u,loop:d,duration:h,dragFree:f,dragThreshold:g,inViewThreshold:m,slidesToScroll:v,skipSnaps:y,containScroll:w,watchResize:E,watchSlides:S,watchDrag:C,watchFocus:N}=s,T=2,A=Ple(),P=A.measure(e),k=n.map(A.measure),M=Ile(l,c),O=M.measureSize(P),D=Nle(O),U=Sle(a,O),J=!d&&!!w,Q=d||!!w,{slideSizes:H,slideSizesWithGaps:B,startGap:W,endGap:j}=Gle(M,P,k,n,Q,i),ne=Kle(M,O,v,d,P,k,W,j,T),{snaps:ue,snapsAligned:he}=Fle(M,U,P,k,ne),Ee=-xo(ue)+xo(B),{snapsContained:me,scrollContainLimit:Be}=Lle(O,Ee,he,w,T),re=J?me:he,{limit:fe}=Mle(Ee,re,d),Le=s6(mv(re),u,d),Re=Le.clone(),le=gy(n),Z=({dragHandler:mt,scrollBody:Lr,scrollBounds:ot,options:{loop:Mr}})=>{Mr||ot.constrain(mt.pointerDown()),Lr.seek()},se=({scrollBody:mt,translate:Lr,location:ot,offsetLocation:Mr,previousLocation:Bn,scrollLooper:Jn,slideLooper:si,dragHandler:Zn,animation:Rn,eventHandler:Oe,scrollBounds:er,options:{loop:Mt}},Vt)=>{const sn=mt.settled(),Kt=!er.shouldConstrain(),ur=Mt?sn:sn&&Kt;ur&&!Zn.pointerDown()&&(Rn.stop(),Oe.emit("settle")),ur||Oe.emit("scroll");const wn=ot.get()*Vt+Bn.get()*(1-Vt);Mr.set(wn),Mt&&(Jn.loop(mt.direction()),si.loop()),Lr.to(Mr.get())},we=Ale(r,i,()=>Z(Gt),mt=>se(Gt,mt)),Ue=.68,Ge=re[Le.get()],z=Sm(Ge),St=Sm(Ge),Et=Sm(Ge),Nt=Sm(Ge),Je=Ole(z,Et,St,Nt,h,Ue),Fn=Ule(d,re,Ee,fe,Nt),Cn=$le(we,Le,Re,Je,Fn,Nt,o),Wt=jle(fe),vt=vy(),_t=Hle(e,n,o,m),{slideRegistry:je}=Ble(J,w,re,Be,ne,le),Ht=qle(t,n,je,Cn,Je,vt,o,N),Gt={ownerDocument:r,ownerWindow:i,eventHandler:o,containerRect:P,slideRects:k,animation:we,axis:M,dragHandler:Cle(M,t,r,i,Nt,Rle(M,i),z,we,Cn,Je,Fn,Le,o,D,f,g,y,Ue,C),eventStore:vt,percentOfView:D,index:Le,indexPrevious:Re,limit:fe,location:z,offsetLocation:Et,previousLocation:St,options:s,resizeHandler:kle(e,o,i,n,M,E,A),scrollBody:Je,scrollBounds:Dle(fe,Et,Nt,Je,D),scrollLooper:Vle(Ee,fe,Et,[z,Et,St,Nt]),scrollProgress:Wt,scrollSnapList:re.map(Wt.get),scrollSnaps:re,scrollTarget:Fn,scrollTo:Cn,slideLooper:zle(M,O,Ee,H,B,ue,re,Et,n),slideFocus:Ht,slidesHandler:Wle(e,o,S),slidesInView:_t,slideIndexes:le,slideRegistry:je,slidesToScroll:ne,target:Nt,translate:o6(M,e)};return Gt}function Qle(){let t={},e;function n(c){e=c}function r(c){return t[c]||[]}function i(c){return r(c).forEach(u=>u(e,c)),l}function s(c,u){return t[c]=r(c).concat([u]),l}function o(c,u){return t[c]=r(c).filter(d=>d!==u),l}function a(){t={}}const l={init:n,emit:i,off:o,on:s,clear:a};return l}const Xle={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Jle(t){function e(s,o){return i6(s,o||{})}function n(s){const o=s.breakpoints||{},a=yy(o).filter(l=>t.matchMedia(l).matches).map(l=>o[l]).reduce((l,c)=>e(l,c),{});return e(s,a)}function r(s){return s.map(o=>yy(o.breakpoints||{})).reduce((o,a)=>o.concat(a),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function Zle(t){let e=[];function n(s,o){return e=o.filter(({options:a})=>t.optionsAtMedia(a).active!==!1),e.forEach(a=>a.init(s,t)),o.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){e=e.filter(s=>s.destroy())}return{init:n,destroy:r}}function Ow(t,e,n){const r=t.ownerDocument,i=r.defaultView,s=Jle(i),o=Zle(s),a=vy(),l=Qle(),{mergeOptions:c,optionsAtMedia:u,optionsMediaQueries:d}=s,{on:h,off:f,emit:g}=l,m=M;let v=!1,y,w=c(Xle,Ow.globalOptions),E=c(w),S=[],C,N,T;function A(){const{container:le,slides:Z}=E;N=(IS(le)?t.querySelector(le):le)||t.children[0];const we=IS(Z)?N.querySelectorAll(Z):Z;T=[].slice.call(we||N.children)}function P(le){const Z=Yle(t,N,T,r,i,le,l);if(le.loop&&!Z.slideLooper.canLoop()){const se=Object.assign({},le,{loop:!1});return P(se)}return Z}function k(le,Z){v||(w=c(w,le),E=u(w),S=Z||S,A(),y=P(E),d([w,...S.map(({options:se})=>se)]).forEach(se=>a.add(se,"change",M)),E.active&&(y.translate.to(y.location.get()),y.animation.init(),y.slidesInView.init(),y.slideFocus.init(Re),y.eventHandler.init(Re),y.resizeHandler.init(Re),y.slidesHandler.init(Re),y.options.loop&&y.slideLooper.loop(),N.offsetParent&&T.length&&y.dragHandler.init(Re),C=o.init(Re,S)))}function M(le,Z){const se=ne();O(),k(c({startIndex:se},le),Z),l.emit("reInit")}function O(){y.dragHandler.destroy(),y.eventStore.clear(),y.translate.clear(),y.slideLooper.clear(),y.resizeHandler.destroy(),y.slidesHandler.destroy(),y.slidesInView.destroy(),y.animation.destroy(),o.destroy(),a.clear()}function D(){v||(v=!0,a.clear(),O(),l.emit("destroy"),l.clear())}function U(le,Z,se){!E.active||v||(y.scrollBody.useBaseFriction().useDuration(Z===!0?0:E.duration),y.scrollTo.index(le,se||0))}function J(le){const Z=y.index.add(1).get();U(Z,le,-1)}function Q(le){const Z=y.index.add(-1).get();U(Z,le,1)}function H(){return y.index.add(1).get()!==ne()}function B(){return y.index.add(-1).get()!==ne()}function W(){return y.scrollSnapList}function j(){return y.scrollProgress.get(y.location.get())}function ne(){return y.index.get()}function ue(){return y.indexPrevious.get()}function he(){return y.slidesInView.get()}function Ee(){return y.slidesInView.get(!1)}function me(){return C}function Be(){return y}function re(){return t}function fe(){return N}function Le(){return T}const Re={canScrollNext:H,canScrollPrev:B,containerNode:fe,internalEngine:Be,destroy:D,off:f,on:h,emit:g,plugins:me,previousScrollSnap:ue,reInit:m,rootNode:re,scrollNext:J,scrollPrev:Q,scrollProgress:j,scrollSnapList:W,scrollTo:U,selectedScrollSnap:ne,slideNodes:Le,slidesInView:he,slidesNotInView:Ee};return k(e,n),setTimeout(()=>l.emit("init"),0),Re}Ow.globalOptions=void 0;function JR(t={},e=[]){const n=x.useRef(t),r=x.useRef(e),[i,s]=x.useState(),[o,a]=x.useState(),l=x.useCallback(()=>{i&&i.reInit(n.current,r.current)},[i]);return x.useEffect(()=>{KR(n.current,t)||(n.current=t,l())},[t,l]),x.useEffect(()=>{Ele(r.current,e)||(r.current=e,l())},[e,l]),x.useEffect(()=>{if(xle()&&o){Ow.globalOptions=JR.globalOptions;const c=Ow(o,n.current,r.current);return s(c),()=>c.destroy()}else s(void 0)},[o,s]),[a,i]}JR.globalOptions=void 0;/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ece=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a6=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tce={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nce=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>x.createElement("svg",{ref:l,...tce,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:a6("lucide",i),...a},[...o.map(([c,u])=>x.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=(t,e)=>{const n=x.forwardRef(({className:r,...i},s)=>x.createElement(nce,{ref:s,iconNode:e,className:a6(`lucide-${ece(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rce=zd("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ice=zd("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sce=zd("BatteryCharging",[["path",{d:"M15 7h1a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-2",key:"1sdynx"}],["path",{d:"M6 7H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h1",key:"1gkd3k"}],["path",{d:"m11 7-3 5h4l-3 5",key:"b4a64w"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oce=zd("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=zd("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ace=zd("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=zd("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function u6(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=u6(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function lce(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=u6(t))&&(r&&(r+=" "),r+=e);return r}const ZR="-",cce=t=>{const e=dce(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(ZR);return a[0]===""&&a.length!==1&&a.shift(),d6(a,e)||uce(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},d6=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?d6(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(ZR);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},bL=/^\[(.+)\]$/,uce=t=>{if(bL.test(t)){const e=bL.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},dce=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return fce(Object.entries(t.classGroups),n).forEach(([s,o])=>{RS(o,r,s,e)}),r},RS=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:TL(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(hce(i)){RS(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{RS(o,TL(e,s),n,r)})})},TL=(t,e)=>{let n=t;return e.split(ZR).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},hce=t=>t.isThemeGetter,fce=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,pce=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},h6="!",mce=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let v=0;v<a.length;v++){let y=a[v];if(c===0){if(y===i&&(r||a.slice(v,v+s)===e)){l.push(a.slice(u,v)),u=v+s;continue}if(y==="/"){d=v;continue}}y==="["?c++:y==="]"&&c--}const h=l.length===0?a:a.substring(u),f=h.startsWith(h6),g=f?h.substring(1):h,m=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:m}};return n?a=>n({className:a,parseClassName:o}):o},gce=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},yce=t=>({cache:pce(t.cacheSize),parseClassName:mce(t),...cce(t)}),vce=/\s+/,_ce=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(vce);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}=n(c);let g=!!f,m=r(g?h.substring(0,f):h);if(!m){if(!g){a=c+(a.length>0?" "+a:a);continue}if(m=r(h),!m){a=c+(a.length>0?" "+a:a);continue}g=!1}const v=gce(u).join(":"),y=d?v+h6:v,w=y+m;if(s.includes(w))continue;s.push(w);const E=i(m,g);for(let S=0;S<E.length;++S){const C=E[S];s.push(y+C)}a=c+(a.length>0?" "+a:a)}return a};function wce(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=f6(e))&&(r&&(r+=" "),r+=n);return r}const f6=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=f6(t[r]))&&(n&&(n+=" "),n+=e);return n};function xce(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return n=yce(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=_ce(l,n);return i(l,u),u}return function(){return s(wce.apply(null,arguments))}}const Zt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},p6=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ece=/^\d+\/\d+$/,bce=new Set(["px","full","screen"]),Tce=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Sce=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ace=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ice=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Cce=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ba=t=>ff(t)||bce.has(t)||Ece.test(t),Il=t=>Pp(t,"length",Mce),ff=t=>!!t&&!Number.isNaN(Number(t)),WE=t=>Pp(t,"number",ff),im=t=>!!t&&Number.isInteger(Number(t)),Rce=t=>t.endsWith("%")&&ff(t.slice(0,-1)),He=t=>p6.test(t),Cl=t=>Tce.test(t),Pce=new Set(["length","size","percentage"]),Nce=t=>Pp(t,Pce,m6),kce=t=>Pp(t,"position",m6),Oce=new Set(["image","url"]),Dce=t=>Pp(t,Oce,jce),Lce=t=>Pp(t,"",Vce),sm=()=>!0,Pp=(t,e,n)=>{const r=p6.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Mce=t=>Sce.test(t)&&!Ace.test(t),m6=()=>!1,Vce=t=>Ice.test(t),jce=t=>Cce.test(t),Fce=()=>{const t=Zt("colors"),e=Zt("spacing"),n=Zt("blur"),r=Zt("brightness"),i=Zt("borderColor"),s=Zt("borderRadius"),o=Zt("borderSpacing"),a=Zt("borderWidth"),l=Zt("contrast"),c=Zt("grayscale"),u=Zt("hueRotate"),d=Zt("invert"),h=Zt("gap"),f=Zt("gradientColorStops"),g=Zt("gradientColorStopPositions"),m=Zt("inset"),v=Zt("margin"),y=Zt("opacity"),w=Zt("padding"),E=Zt("saturate"),S=Zt("scale"),C=Zt("sepia"),N=Zt("skew"),T=Zt("space"),A=Zt("translate"),P=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",He,e],O=()=>[He,e],D=()=>["",ba,Il],U=()=>["auto",ff,He],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",He],j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[ff,He];return{cacheSize:500,separator:":",theme:{colors:[sm],spacing:[ba,Il],blur:["none","",Cl,He],brightness:ne(),borderColor:[t],borderRadius:["none","","full",Cl,He],borderSpacing:O(),borderWidth:D(),contrast:ne(),grayscale:W(),hueRotate:ne(),invert:W(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[Rce,Il],inset:M(),margin:M(),opacity:ne(),padding:O(),saturate:ne(),scale:ne(),sepia:W(),skew:ne(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",He]}],container:["container"],columns:[{columns:[Cl]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),He]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",im,He]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",He]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",im,He]}],"grid-cols":[{"grid-cols":[sm]}],"col-start-end":[{col:["auto",{span:["full",im,He]},He]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[sm]}],"row-start-end":[{row:["auto",{span:[im,He]},He]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",He]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",He]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",He,e]}],"min-w":[{"min-w":[He,e,"min","max","fit"]}],"max-w":[{"max-w":[He,e,"none","full","min","max","fit","prose",{screen:[Cl]},Cl]}],h:[{h:[He,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[He,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[He,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[He,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Cl,Il]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",WE]}],"font-family":[{font:[sm]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",He]}],"line-clamp":[{"line-clamp":["none",ff,WE]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ba,He]}],"list-image":[{"list-image":["none",He]}],"list-style-type":[{list:["none","disc","decimal",He]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ba,Il]}],"underline-offset":[{"underline-offset":["auto",ba,He]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",He]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",He]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),kce]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Nce]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Dce]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:Q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[ba,He]}],"outline-w":[{outline:[ba,Il]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[ba,Il]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Cl,Lce]}],"shadow-color":[{shadow:[sm]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Cl,He]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[E]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",He]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",He]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",He]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[im,He]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",He]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",He]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",He]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ba,Il,WE]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Bce=xce(Fce);function st(...t){return Bce(lce(t))}function SL(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Uce(...t){return e=>{let n=!1;const r=t.map(i=>{const s=SL(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():SL(t[i],null)}}}}var el=x.forwardRef((t,e)=>{const{children:n,...r}=t,i=x.Children.toArray(n),s=i.find($ce);if(s){const o=s.props.children,a=i.map(l=>l===s?x.Children.count(o)>1?x.Children.only(null):x.isValidElement(o)?o.props.children:null:l);return _.jsx(PS,{...r,ref:e,children:x.isValidElement(o)?x.cloneElement(o,void 0,a):null})}return _.jsx(PS,{...r,ref:e,children:n})});el.displayName="Slot";var PS=x.forwardRef((t,e)=>{const{children:n,...r}=t;if(x.isValidElement(n)){const i=zce(n);return x.cloneElement(n,{...qce(r,n.props),ref:e?Uce(e,i):i})}return x.Children.count(n)>1?x.Children.only(null):null});PS.displayName="SlotClone";var g6=({children:t})=>_.jsx(_.Fragment,{children:t});function $ce(t){return x.isValidElement(t)&&t.type===g6}function qce(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function zce(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function y6(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=y6(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Wce(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=y6(t))&&(r&&(r+=" "),r+=e);return r}const AL=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,IL=Wce,eP=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return IL(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],d=s==null?void 0:s[c];if(u===null)return null;const h=AL(u)||AL(d);return i[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:h,...f}=u;return Object.entries(f).every(g=>{let[m,v]=g;return Array.isArray(v)?v.includes({...s,...a}[m]):{...s,...a}[m]===v})?[...c,d,h]:c},[]);return IL(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},Hce=eP("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-neutral-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:ring-offset-neutral-950 dark:focus-visible:ring-neutral-300",{variants:{variant:{default:"bg-neutral-900 text-neutral-50 hover:bg-neutral-900/90 dark:bg-neutral-50 dark:text-neutral-900 dark:hover:bg-neutral-50/90",destructive:" bg-orange-1 text-neutral-50 hover:bg-orange-2 hover:border-2 hover:border-orange-1 hover:text-black-2 dark:bg-red-900 dark:text-neutral-50 dark:hover:bg-red-900/90",outline:"border border-neutral-200 bg-white hover:bg-neutral-100 hover:text-neutral-900 dark:border-neutral-800 dark:bg-neutral-950 dark:hover:bg-neutral-800 dark:hover:text-neutral-50",secondary:"bg-neutral-100 text-neutral-900 hover:bg-neutral-100/80 dark:bg-neutral-800 dark:text-neutral-50 dark:hover:bg-neutral-800/80",ghost:"hover:bg-neutral-100 hover:text-neutral-900 dark:hover:bg-neutral-800 dark:hover:text-neutral-50",link:"text-neutral-900 underline-offset-4 hover:underline dark:text-neutral-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),jn=x.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?el:"button";return _.jsx(o,{className:st(Hce({variant:e,size:n,className:t})),ref:s,...i})});jn.displayName="Button";const v6=x.createContext(null);function cx(){const t=x.useContext(v6);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const ux=x.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:r,className:i,children:s,...o},a)=>{const[l,c]=JR({...e,axis:t==="horizontal"?"x":"y"},r),[u,d]=x.useState(!1),[h,f]=x.useState(!1),g=x.useCallback(w=>{w&&(d(w.canScrollPrev()),f(w.canScrollNext()))},[]),m=x.useCallback(()=>{c==null||c.scrollPrev()},[c]),v=x.useCallback(()=>{c==null||c.scrollNext()},[c]),y=x.useCallback(w=>{w.key==="ArrowLeft"?(w.preventDefault(),m()):w.key==="ArrowRight"&&(w.preventDefault(),v())},[m,v]);return x.useEffect(()=>{!c||!n||n(c)},[c,n]),x.useEffect(()=>{if(c)return g(c),c.on("reInit",g),c.on("select",g),()=>{c==null||c.off("select",g)}},[c,g]),_.jsx(v6.Provider,{value:{carouselRef:l,api:c,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:m,scrollNext:v,canScrollPrev:u,canScrollNext:h},children:_.jsx("div",{ref:a,onKeyDownCapture:y,className:st("relative",i),role:"region","aria-roledescription":"carousel",...o,children:s})})});ux.displayName="Carousel";const dx=x.forwardRef(({className:t,...e},n)=>{const{carouselRef:r,orientation:i}=cx();return _.jsx("div",{ref:r,className:"overflow-hidden",children:_.jsx("div",{ref:n,className:st("flex",i==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});dx.displayName="CarouselContent";const Gce=x.forwardRef(({className:t,...e},n)=>{const{orientation:r}=cx();return _.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:st("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})});Gce.displayName="CarouselItem";const hx=x.forwardRef(({className:t,variant:e="outline",...n},r)=>{const{orientation:i,scrollPrev:s,canScrollPrev:o}=cx();return _.jsxs(jn,{ref:r,variant:e,className:st("absolute  h-12 w-12 rounded-full",i==="horizontal"?" -left-[70px] top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t,o?"":"hidden"),onClick:s,...n,children:[_.jsx(rce,{className:"h-4 w-4"}),_.jsx("span",{className:"sr-only",children:"Previous slide"})]})});hx.displayName="CarouselPrevious";const fx=x.forwardRef(({className:t,variant:e="outline",...n},r)=>{const{orientation:i,scrollNext:s,canScrollNext:o}=cx();return _.jsxs(jn,{ref:r,variant:e,className:st("absolute h-12  w-12 rounded-full",i==="horizontal"?"-right-[70px] top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t,o?"":"hidden"),onClick:s,...n,children:[_.jsx(ice,{className:"h-4 w-4"}),_.jsx("span",{className:"sr-only",children:"Next slide"})]})});fx.displayName="CarouselNext";const Kce={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function Yce(t,e){const n=t.scrollSnapList();return typeof e=="number"?n.map(()=>e):e(n,t)}function Qce(t,e){const n=t.rootNode();return e&&e(n)||n}function gv(t={}){let e,n,r,i,s=null,o=0,a=!1,l=!1,c=!1,u=!1;function d(U,J){n=U;const{mergeOptions:Q,optionsAtMedia:H}=J,B=Q(Kce,gv.globalOptions),W=Q(B,t);if(e=H(W),n.scrollSnapList().length<=1)return;u=e.jump,r=!1,i=Yce(n,e.delay);const{eventStore:j,ownerDocument:ne}=n.internalEngine(),ue=!!n.internalEngine().options.watchDrag,he=Qce(n,e.rootNode);j.add(ne,"visibilitychange",y),ue&&n.on("pointerDown",E),ue&&!e.stopOnInteraction&&n.on("pointerUp",S),e.stopOnMouseEnter&&j.add(he,"mouseenter",C),e.stopOnMouseEnter&&!e.stopOnInteraction&&j.add(he,"mouseleave",N),e.stopOnFocusIn&&n.on("slideFocusStart",v),e.stopOnFocusIn&&!e.stopOnInteraction&&j.add(n.containerNode(),"focusout",m),e.playOnInit&&m()}function h(){n.off("pointerDown",E).off("pointerUp",S).off("slideFocusStart",v),v(),r=!0,a=!1}function f(){const{ownerWindow:U}=n.internalEngine();U.clearTimeout(o),o=U.setTimeout(M,i[n.selectedScrollSnap()]),s=new Date().getTime(),n.emit("autoplay:timerset")}function g(){const{ownerWindow:U}=n.internalEngine();U.clearTimeout(o),o=0,s=null,n.emit("autoplay:timerstopped")}function m(){if(!r){if(w()){c=!0;return}a||n.emit("autoplay:play"),f(),a=!0}}function v(){r||(a&&n.emit("autoplay:stop"),g(),a=!1)}function y(){if(w())return c=a,v();c&&m()}function w(){const{ownerDocument:U}=n.internalEngine();return U.visibilityState==="hidden"}function E(){l||v()}function S(){l||m()}function C(){l=!0,v()}function N(){l=!1,m()}function T(U){typeof U<"u"&&(u=U),m()}function A(){a&&v()}function P(){a&&m()}function k(){return a}function M(){const{index:U}=n.internalEngine(),J=U.clone().add(1).get(),Q=n.scrollSnapList().length-1,H=e.stopOnLastSnap&&J===Q;if(n.canScrollNext()?n.scrollNext(u):n.scrollTo(0,u),n.emit("autoplay:select"),H)return v();m()}function O(){if(!s)return null;const U=i[n.selectedScrollSnap()],J=new Date().getTime()-s;return U-J}return{name:"autoplay",options:t,init:d,destroy:h,play:T,stop:A,reset:P,isPlaying:k,timeUntilNext:O}}gv.globalOptions=void 0;const Xce=()=>{const{currentUser:t}=Js(),{Data:e}=bU(t?t.uid:""),[n,r]=x.useState("#242424"),i=Xs();return _.jsxs("div",{className:" flex flex-col gap-10 py-10 pb-14  max-w-[1200px]  mx-auto  px-4 md:px-10 max-md:gap-2 ",children:[_.jsxs("div",{className:"flex flex-col gap-3",children:[_.jsx("h1",{className:" text-4xl  max-lg:text-3xl max-sm:text-2xl font-semibold",children:"Your Stories"}),_.jsx("p",{className:" md:text-lg    text-white-2 ",children:"your latest stories"})]}),_.jsxs(ux,{className:" w-full lg:hidden",plugins:[gv({delay:2e3})],opts:{loop:!0},children:[_.jsx(dx,{className:" p-4 flex gap-4 max-md:gap-0",children:e.map(s=>{const{title:o}=s,a=o.length>30?o.slice(0,30)+"...":o;return _.jsx(my,{items:s,truncatedStr:a,searchItem:!0},s.id)})}),_.jsx(hx,{className:" max-lg:hidden"}),_.jsx(fx,{className:" max-lg:hidden"})]}),_.jsxs("div",{className:"flex flex-row gap-1 flex-wrap h-fit px-4 w-full overflow-hidden max-lg:hidden",children:[_.jsx(nY,{Classname:` flex justify-center items-center border-dashed border-2 border-black-2 rounded-md\r
          w-[220px] mt-3 h-[230px]  hover:bg-orange-1 hover:border-none transition-colors duration-200 hover:text-white-1 cursor-pointer `,onClick:()=>{i("/new")},onMouseEnter:()=>r("#fff"),onMouseLeave:()=>r("#242424"),children:_.jsx(Xu.plus,{Color:n,classes:"w-[100px]"})}),e.map((s,o)=>{if(o<3){const{title:a}=s,l=a.length>30?a.slice(0,30)+"...":a;return _.jsx(my,{items:s,truncatedStr:l,searchItem:!0},s.id)}})]})]})},Jce=t=>{const[e,n]=x.useState([]);return x.useEffect(()=>{async function r(){try{return(await We.collection("WrittenStories").where("category","==",t).limit(10).get()).docs.map(o=>({id:o.id,...o.data()}))}catch(i){console.log(i)}}r().then(i=>{n(i)})},[t]),{Data:e,setData:n}},CL=({Category:t})=>{const{Data:e}=Jce(t),[n,r]=x.useState([]);return x.useEffect(()=>{const i=e==null?void 0:e.sort((s,o)=>o.likes-s.likes);r(i)},[e]),_.jsxs("div",{className:"flex flex-col gap-5   w-full ",children:[_.jsxs("h1",{className:"text-3xl  text-black-2 max-lg:text-2xl max-lg:font-semibold max-sm:text-xl max-sm:font-semibold",children:["Top ",_.jsx("span",{className:"text-orange-1",children:t})," Stories"]}),_.jsxs(ux,{className:" w-full",plugins:[gv({delay:2e3})],opts:{loop:!0},children:[_.jsx(dx,{className:" p-4 flex gap-4 max-md:gap-0",children:n.map(i=>{const{title:s}=i,o=s.length>30?s.slice(0,30)+"...":s;return _.jsx(my,{items:i,truncatedStr:o,searchItem:!0},i.id)})}),_.jsx(hx,{className:" max-lg:hidden"}),_.jsx(fx,{className:" max-lg:hidden"})]})]})},Zce=()=>_.jsxs("div",{className:" w-full mx-auto flex flex-col  gap-24 ",children:[_.jsx("div",{className:"w-full shadow-xl",children:_.jsx(Xce,{})}),_.jsxs("div",{className:" max-w-[1000px] w-full  mx-auto flex flex-col gap-20 px-4 ",children:[_.jsx(CL,{Category:"adventure"}),_.jsx(CL,{Category:"comedy"})]})]}),_6=({attributes:t})=>_.jsxs("div",{className:" flex flex-col justify-center items-center pr-3 ",children:[_.jsxs("div",{className:" text-sm text-black-2 font-light flex gap-1 items-center",children:[_.jsx("img",{src:t.img,width:15}),_.jsx("span",{children:t.title})]}),_.jsx("div",{children:_.jsx("span",{className:" text-white-2",children:t.data})})]}),eue=[{title:"Posts",img:"/Story-Website/list.svg"},{title:"Followers",img:"/Story-Website/people.svg"}],tue=[{title:"Likes",img:"/Story-Website/heart.svg"},{title:"Parts",img:"/Story-Website/list.svg"}],NS=[{genre:"Fantasy",color:"#D8BFD8",hoverColor:"#C0A0C0"},{genre:"Comedy",color:"#FFF8DC",hoverColor:"#FFE4B5"},{genre:"Adventure",color:"#C1E1C1",hoverColor:"#A0D0A0"},{genre:"Mystery",color:"#D1D9E6",hoverColor:"#B0C0D0"},{genre:"Sci-Fi",color:"#B4DDED",hoverColor:"#90C8E0"},{genre:"Romance",color:"#FADADD",hoverColor:"#F5B5C5"},{genre:"Horror",color:"#F4CCCC",hoverColor:"#E09A9A"},{genre:"Historical",color:"#F5DEB3",hoverColor:"#EEC58A"},{genre:"Thriller",color:"#C8D6E5",hoverColor:"#A8BCCF"},{genre:"Poetry",color:"#E3F2FD",hoverColor:"#B0DAF0"}];function w6(t){const e=parseInt(t.slice(1),16),n=e>>16&255,r=e>>8&255,i=e&255;return(n*299+r*587+i*114)/1e3>180?"#333333":"#FFFFFF"}function nue(t){let e="";return t.hasOwnProperty("bold")&&(e+=" font-semibold "),t.hasOwnProperty("header")&&(e+=` text-[${t.header}rem] `),t.hasOwnProperty("italic")&&(e+=" italic"),t.hasOwnProperty("underline")&&(e+=" underline "),t.hasOwnProperty("color")&&(e+=`text-[${t.color}] `),e}const rue=1,iue=1e3;let HE=0;function sue(){return HE=(HE+1)%Number.MAX_SAFE_INTEGER,HE.toString()}const GE=new Map,RL=t=>{if(GE.has(t))return;const e=setTimeout(()=>{GE.delete(t),ig({type:"REMOVE_TOAST",toastId:t})},iue);GE.set(t,e)},oue=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,rue)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?RL(n):t.toasts.forEach(r=>{RL(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},p_=[];let m_={toasts:[]};function ig(t){m_=oue(m_,t),p_.forEach(e=>{e(m_)})}function Si({...t}){const e=sue(),n=i=>ig({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>ig({type:"DISMISS_TOAST",toastId:e});return ig({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function aue(){const[t,e]=x.useState(m_);return x.useEffect(()=>(p_.push(e),()=>{const n=p_.indexOf(e);n>-1&&p_.splice(n,1)}),[t]),{...t,toast:Si,dismiss:n=>ig({type:"DISMISS_TOAST",toastId:n})}}function os(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function lue(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function tP(...t){return e=>t.forEach(n=>lue(n,e))}function bd(...t){return x.useCallback(tP(...t),t)}function cue(t,e=[]){let n=[];function r(s,o){const a=x.createContext(o),l=n.length;n=[...n,o];function c(d){const{scope:h,children:f,...g}=d,m=(h==null?void 0:h[t][l])||a,v=x.useMemo(()=>g,Object.values(g));return _.jsx(m.Provider,{value:v,children:f})}function u(d,h){const f=(h==null?void 0:h[t][l])||a,g=x.useContext(f);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=n.map(o=>x.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return x.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,uue(i,...e)]}function uue(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var kS=x.forwardRef((t,e)=>{const{children:n,...r}=t,i=x.Children.toArray(n),s=i.find(hue);if(s){const o=s.props.children,a=i.map(l=>l===s?x.Children.count(o)>1?x.Children.only(null):x.isValidElement(o)?o.props.children:null:l);return _.jsx(OS,{...r,ref:e,children:x.isValidElement(o)?x.cloneElement(o,void 0,a):null})}return _.jsx(OS,{...r,ref:e,children:n})});kS.displayName="Slot";var OS=x.forwardRef((t,e)=>{const{children:n,...r}=t;if(x.isValidElement(n)){const i=pue(n);return x.cloneElement(n,{...fue(r,n.props),ref:e?tP(e,i):i})}return x.Children.count(n)>1?x.Children.only(null):null});OS.displayName="SlotClone";var due=({children:t})=>_.jsx(_.Fragment,{children:t});function hue(t){return x.isValidElement(t)&&t.type===due}function fue(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function pue(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function mue(t){const e=t+"CollectionProvider",[n,r]=cue(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=f=>{const{scope:g,children:m}=f,v=ir.useRef(null),y=ir.useRef(new Map).current;return _.jsx(i,{scope:g,itemMap:y,collectionRef:v,children:m})};o.displayName=e;const a=t+"CollectionSlot",l=ir.forwardRef((f,g)=>{const{scope:m,children:v}=f,y=s(a,m),w=bd(g,y.collectionRef);return _.jsx(kS,{ref:w,children:v})});l.displayName=a;const c=t+"CollectionItemSlot",u="data-radix-collection-item",d=ir.forwardRef((f,g)=>{const{scope:m,children:v,...y}=f,w=ir.useRef(null),E=bd(g,w),S=s(c,m);return ir.useEffect(()=>(S.itemMap.set(w,{ref:w,...y}),()=>void S.itemMap.delete(w))),_.jsx(kS,{[u]:"",ref:E,children:v})});d.displayName=c;function h(f){const g=s(t+"CollectionConsumer",f);return ir.useCallback(()=>{const v=g.collectionRef.current;if(!v)return[];const y=Array.from(v.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort((S,C)=>y.indexOf(S.ref.current)-y.indexOf(C.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:l,ItemSlot:d},h,r]}function gue(t,e){const n=x.createContext(e),r=s=>{const{children:o,...a}=s,l=x.useMemo(()=>a,Object.values(a));return _.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function i(s){const o=x.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Np(t,e=[]){let n=[];function r(s,o){const a=x.createContext(o),l=n.length;n=[...n,o];const c=d=>{var y;const{scope:h,children:f,...g}=d,m=((y=h==null?void 0:h[t])==null?void 0:y[l])||a,v=x.useMemo(()=>g,Object.values(g));return _.jsx(m.Provider,{value:v,children:f})};c.displayName=s+"Provider";function u(d,h){var m;const f=((m=h==null?void 0:h[t])==null?void 0:m[l])||a,g=x.useContext(f);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(o=>x.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return x.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,yue(i,...e)]}function yue(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var x6=x.forwardRef((t,e)=>{const{children:n,...r}=t,i=x.Children.toArray(n),s=i.find(_ue);if(s){const o=s.props.children,a=i.map(l=>l===s?x.Children.count(o)>1?x.Children.only(null):x.isValidElement(o)?o.props.children:null:l);return _.jsx(DS,{...r,ref:e,children:x.isValidElement(o)?x.cloneElement(o,void 0,a):null})}return _.jsx(DS,{...r,ref:e,children:n})});x6.displayName="Slot";var DS=x.forwardRef((t,e)=>{const{children:n,...r}=t;if(x.isValidElement(n)){const i=xue(n);return x.cloneElement(n,{...wue(r,n.props),ref:e?tP(e,i):i})}return x.Children.count(n)>1?x.Children.only(null):null});DS.displayName="SlotClone";var vue=({children:t})=>_.jsx(_.Fragment,{children:t});function _ue(t){return x.isValidElement(t)&&t.type===vue}function wue(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function xue(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Eue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],pa=Eue.reduce((t,e)=>{const n=x.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?x6:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),_.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function E6(t,e){t&&cl.flushSync(()=>t.dispatchEvent(e))}function lr(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function nP(t,e=globalThis==null?void 0:globalThis.document){const n=lr(t);x.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var bue="DismissableLayer",LS="dismissableLayer.update",Tue="dismissableLayer.pointerDownOutside",Sue="dismissableLayer.focusOutside",PL,b6=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),T6=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=x.useContext(b6),[u,d]=x.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=x.useState({}),g=bd(e,T=>d(T)),m=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(v),w=u?m.indexOf(u):-1,E=c.layersWithOutsidePointerEventsDisabled.size>0,S=w>=y,C=Iue(T=>{const A=T.target,P=[...c.branches].some(k=>k.contains(A));!S||P||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},h),N=Cue(T=>{const A=T.target;[...c.branches].some(k=>k.contains(A))||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},h);return nP(T=>{w===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},h),x.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(PL=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),NL(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=PL)}},[u,h,n,c]),x.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),NL())},[u,c]),x.useEffect(()=>{const T=()=>f({});return document.addEventListener(LS,T),()=>document.removeEventListener(LS,T)},[]),_.jsx(pa.div,{...l,ref:g,style:{pointerEvents:E?S?"auto":"none":void 0,...t.style},onFocusCapture:os(t.onFocusCapture,N.onFocusCapture),onBlurCapture:os(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:os(t.onPointerDownCapture,C.onPointerDownCapture)})});T6.displayName=bue;var Aue="DismissableLayerBranch",S6=x.forwardRef((t,e)=>{const n=x.useContext(b6),r=x.useRef(null),i=bd(e,r);return x.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),_.jsx(pa.div,{...t,ref:i})});S6.displayName=Aue;function Iue(t,e=globalThis==null?void 0:globalThis.document){const n=lr(t),r=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){A6(Tue,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Cue(t,e=globalThis==null?void 0:globalThis.document){const n=lr(t),r=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!r.current&&A6(Sue,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function NL(){const t=new CustomEvent(LS);document.dispatchEvent(t)}function A6(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?E6(i,s):i.dispatchEvent(s)}var Rue=T6,Pue=S6,Qn=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},Nue="Portal",I6=x.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=x.useState(!1);Qn(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?HI.createPortal(_.jsx(pa.div,{...r,ref:e}),o):null});I6.displayName=Nue;function kue(t,e){return x.useReducer((n,r)=>e[n][r]??n,t)}var C6=t=>{const{present:e,children:n}=t,r=Oue(e),i=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),s=bd(r.ref,Due(i));return typeof n=="function"||r.isPresent?x.cloneElement(i,{ref:s}):null};C6.displayName="Presence";function Oue(t){const[e,n]=x.useState(),r=x.useRef({}),i=x.useRef(t),s=x.useRef("none"),o=t?"mounted":"unmounted",[a,l]=kue(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const c=o0(r.current);s.current=a==="mounted"?c:"none"},[a]),Qn(()=>{const c=r.current,u=i.current;if(u!==t){const h=s.current,f=o0(c);t?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Qn(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=f=>{const m=o0(r.current).includes(f.animationName);if(f.target===e&&m&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},h=f=>{f.target===e&&(s.current=o0(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:x.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function o0(t){return(t==null?void 0:t.animationName)||"none"}function Due(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Dw({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=Lue({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=lr(n),l=x.useCallback(c=>{if(s){const d=typeof c=="function"?c(t):c;d!==t&&a(d)}else i(c)},[s,t,i,a]);return[o,l]}function Lue({defaultProp:t,onChange:e}){const n=x.useState(t),[r]=n,i=x.useRef(r),s=lr(e);return x.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var Mue="VisuallyHidden",rP=x.forwardRef((t,e)=>_.jsx(pa.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));rP.displayName=Mue;var iP="ToastProvider",[sP,Vue,jue]=mue("Toast"),[R6,$be]=Np("Toast",[jue]),[Fue,px]=R6(iP),P6=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=x.useState(null),[c,u]=x.useState(0),d=x.useRef(!1),h=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${iP}\`. Expected non-empty \`string\`.`),_.jsx(sP.Provider,{scope:e,children:_.jsx(Fue,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:x.useCallback(()=>u(f=>f+1),[]),onToastRemove:x.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:o})})};P6.displayName=iP;var N6="ToastViewport",Bue=["F8"],MS="toast.viewportPause",VS="toast.viewportResume",k6=x.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Bue,label:i="Notifications ({hotkey})",...s}=t,o=px(N6,n),a=Vue(n),l=x.useRef(null),c=x.useRef(null),u=x.useRef(null),d=x.useRef(null),h=bd(e,d,o.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;x.useEffect(()=>{const v=y=>{var E;r.length!==0&&r.every(S=>y[S]||y.code===S)&&((E=d.current)==null||E.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),x.useEffect(()=>{const v=l.current,y=d.current;if(g&&v&&y){const w=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(MS);y.dispatchEvent(N),o.isClosePausedRef.current=!0}},E=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(VS);y.dispatchEvent(N),o.isClosePausedRef.current=!1}},S=N=>{!v.contains(N.relatedTarget)&&E()},C=()=>{v.contains(document.activeElement)||E()};return v.addEventListener("focusin",w),v.addEventListener("focusout",S),v.addEventListener("pointermove",w),v.addEventListener("pointerleave",C),window.addEventListener("blur",w),window.addEventListener("focus",E),()=>{v.removeEventListener("focusin",w),v.removeEventListener("focusout",S),v.removeEventListener("pointermove",w),v.removeEventListener("pointerleave",C),window.removeEventListener("blur",w),window.removeEventListener("focus",E)}}},[g,o.isClosePausedRef]);const m=x.useCallback(({tabbingDirection:v})=>{const w=a().map(E=>{const S=E.ref.current,C=[S,...Zue(S)];return v==="forwards"?C:C.reverse()});return(v==="forwards"?w.reverse():w).flat()},[a]);return x.useEffect(()=>{const v=d.current;if(v){const y=w=>{var C,N,T;const E=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!E){const A=document.activeElement,P=w.shiftKey;if(w.target===v&&P){(C=c.current)==null||C.focus();return}const O=m({tabbingDirection:P?"backwards":"forwards"}),D=O.findIndex(U=>U===A);KE(O.slice(D+1))?w.preventDefault():P?(N=c.current)==null||N.focus():(T=u.current)==null||T.focus()}};return v.addEventListener("keydown",y),()=>v.removeEventListener("keydown",y)}},[a,m]),_.jsxs(Pue,{ref:l,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&_.jsx(jS,{ref:c,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"forwards"});KE(v)}}),_.jsx(sP.Slot,{scope:n,children:_.jsx(pa.ol,{tabIndex:-1,...s,ref:h})}),g&&_.jsx(jS,{ref:u,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"backwards"});KE(v)}})]})});k6.displayName=N6;var O6="ToastFocusProxy",jS=x.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=px(O6,n);return _.jsx(rP,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});jS.displayName=O6;var mx="Toast",Uue="toast.swipeStart",$ue="toast.swipeMove",que="toast.swipeCancel",zue="toast.swipeEnd",D6=x.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=Dw({prop:r,defaultProp:i,onChange:s});return _.jsx(C6,{present:n||a,children:_.jsx(Gue,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:lr(t.onPause),onResume:lr(t.onResume),onSwipeStart:os(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:os(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:os(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:os(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});D6.displayName=mx;var[Wue,Hue]=R6(mx,{onClose(){}}),Gue=x.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:f,...g}=t,m=px(mx,n),[v,y]=x.useState(null),w=bd(e,U=>y(U)),E=x.useRef(null),S=x.useRef(null),C=i||m.duration,N=x.useRef(0),T=x.useRef(C),A=x.useRef(0),{onToastAdd:P,onToastRemove:k}=m,M=lr(()=>{var J;(v==null?void 0:v.contains(document.activeElement))&&((J=m.viewport)==null||J.focus()),o()}),O=x.useCallback(U=>{!U||U===1/0||(window.clearTimeout(A.current),N.current=new Date().getTime(),A.current=window.setTimeout(M,U))},[M]);x.useEffect(()=>{const U=m.viewport;if(U){const J=()=>{O(T.current),c==null||c()},Q=()=>{const H=new Date().getTime()-N.current;T.current=T.current-H,window.clearTimeout(A.current),l==null||l()};return U.addEventListener(MS,Q),U.addEventListener(VS,J),()=>{U.removeEventListener(MS,Q),U.removeEventListener(VS,J)}}},[m.viewport,C,l,c,O]),x.useEffect(()=>{s&&!m.isClosePausedRef.current&&O(C)},[s,C,m.isClosePausedRef,O]),x.useEffect(()=>(P(),()=>k()),[P,k]);const D=x.useMemo(()=>v?U6(v):null,[v]);return m.viewport?_.jsxs(_.Fragment,{children:[D&&_.jsx(Kue,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),_.jsx(Wue,{scope:n,onClose:M,children:cl.createPortal(_.jsx(sP.ItemSlot,{scope:n,children:_.jsx(Rue,{asChild:!0,onEscapeKeyDown:os(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||M(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:_.jsx(pa.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:os(t.onKeyDown,U=>{U.key==="Escape"&&(a==null||a(U.nativeEvent),U.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:os(t.onPointerDown,U=>{U.button===0&&(E.current={x:U.clientX,y:U.clientY})}),onPointerMove:os(t.onPointerMove,U=>{if(!E.current)return;const J=U.clientX-E.current.x,Q=U.clientY-E.current.y,H=!!S.current,B=["left","right"].includes(m.swipeDirection),W=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,j=B?W(0,J):0,ne=B?0:W(0,Q),ue=U.pointerType==="touch"?10:2,he={x:j,y:ne},Ee={originalEvent:U,delta:he};H?(S.current=he,a0($ue,d,Ee,{discrete:!1})):kL(he,m.swipeDirection,ue)?(S.current=he,a0(Uue,u,Ee,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(J)>ue||Math.abs(Q)>ue)&&(E.current=null)}),onPointerUp:os(t.onPointerUp,U=>{const J=S.current,Q=U.target;if(Q.hasPointerCapture(U.pointerId)&&Q.releasePointerCapture(U.pointerId),S.current=null,E.current=null,J){const H=U.currentTarget,B={originalEvent:U,delta:J};kL(J,m.swipeDirection,m.swipeThreshold)?a0(zue,f,B,{discrete:!0}):a0(que,h,B,{discrete:!0}),H.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),Kue=t=>{const{__scopeToast:e,children:n,...r}=t,i=px(mx,e),[s,o]=x.useState(!1),[a,l]=x.useState(!1);return Xue(()=>o(!0)),x.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:_.jsx(I6,{asChild:!0,children:_.jsx(rP,{...r,children:s&&_.jsxs(_.Fragment,{children:[i.label," ",n]})})})},Yue="ToastTitle",L6=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return _.jsx(pa.div,{...r,ref:e})});L6.displayName=Yue;var Que="ToastDescription",M6=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return _.jsx(pa.div,{...r,ref:e})});M6.displayName=Que;var V6="ToastAction",j6=x.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?_.jsx(B6,{altText:n,asChild:!0,children:_.jsx(oP,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${V6}\`. Expected non-empty \`string\`.`),null)});j6.displayName=V6;var F6="ToastClose",oP=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=Hue(F6,n);return _.jsx(B6,{asChild:!0,children:_.jsx(pa.button,{type:"button",...r,ref:e,onClick:os(t.onClick,i.onClose)})})});oP.displayName=F6;var B6=x.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return _.jsx(pa.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function U6(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Jue(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...U6(r))}}),e}function a0(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?E6(i,s):i.dispatchEvent(s)}var kL=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function Xue(t=()=>{}){const e=lr(t);Qn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Jue(t){return t.nodeType===t.ELEMENT_NODE}function Zue(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function KE(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var ede=P6,$6=k6,q6=D6,z6=L6,W6=M6,H6=j6,G6=oP;const tde=ede,K6=x.forwardRef(({className:t,...e},n)=>_.jsx($6,{ref:n,className:st("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));K6.displayName=$6.displayName;const nde=eP("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border border-neutral-200 p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full dark:border-neutral-800",{variants:{variant:{default:"border bg-white text-neutral-950 dark:bg-neutral-950 dark:text-neutral-50",destructive:"destructive group border-red-500 bg-red-500 text-neutral-50 dark:border-red-900 dark:bg-red-900 dark:text-neutral-50"}},defaultVariants:{variant:"default"}}),Y6=x.forwardRef(({className:t,variant:e,...n},r)=>_.jsx(q6,{ref:r,className:st(nde({variant:e}),t),...n}));Y6.displayName=q6.displayName;const rde=x.forwardRef(({className:t,...e},n)=>_.jsx(H6,{ref:n,className:st("inline-flex h-8 shrink-0 items-center justify-center rounded-md border border-neutral-200 bg-transparent px-3 text-sm font-medium ring-offset-white transition-colors hover:bg-neutral-100 focus:outline-none focus:ring-2 focus:ring-neutral-950 focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-neutral-100/40 group-[.destructive]:hover:border-red-500/30 group-[.destructive]:hover:bg-red-500 group-[.destructive]:hover:text-neutral-50 group-[.destructive]:focus:ring-red-500 dark:border-neutral-800 dark:ring-offset-neutral-950 dark:hover:bg-neutral-800 dark:focus:ring-neutral-300 dark:group-[.destructive]:border-neutral-800/40 dark:group-[.destructive]:hover:border-red-900/30 dark:group-[.destructive]:hover:bg-red-900 dark:group-[.destructive]:hover:text-neutral-50 dark:group-[.destructive]:focus:ring-red-900",t),...e}));rde.displayName=H6.displayName;const Q6=x.forwardRef(({className:t,...e},n)=>_.jsx(G6,{ref:n,className:st("absolute right-2 top-2 rounded-md p-1 text-neutral-950/50 opacity-0 transition-opacity hover:text-neutral-950 focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 dark:text-neutral-50/50 dark:hover:text-neutral-50",t),"toast-close":"",...e,children:_.jsx(c6,{className:"h-4 w-4"})}));Q6.displayName=G6.displayName;const X6=x.forwardRef(({className:t,...e},n)=>_.jsx(z6,{ref:n,className:st("text-sm font-semibold",t),...e}));X6.displayName=z6.displayName;const J6=x.forwardRef(({className:t,...e},n)=>_.jsx(W6,{ref:n,className:st("text-sm  font-semibold opacity-90",t),...e}));J6.displayName=W6.displayName;function yv(){const{toasts:t}=aue();return _.jsxs(tde,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return _.jsxs(Y6,{...s,className:" bg-orange-2 border border-orange-1 rounded-none text-black-2",children:[_.jsxs("div",{className:"grid gap-1 ",children:[n&&_.jsx(X6,{children:n}),r&&_.jsx(J6,{children:r})]}),i,_.jsx(Q6,{})]},e)}),_.jsx(K6,{})]})}const l0=["#ff4747","#808080"],ide=({Data:t,length:e,Parts:n})=>{const{currentUser:r}=Js(),i=Xs(),{storyId:s}=Hc(),[o,a]=x.useState("#808080"),[l,c]=x.useState(!1),[u,d]=x.useState(!1),[h,f]=x.useState(0),[g,m]=x.useState("");function v(){d(!u)}x.useEffect(()=>{async function S(){if(r)try{const{uid:C}=r;(await We.collection("WrittenStories").doc(s).collection("likes").doc(C).get()).exists?a(l0[0]):a(l0[1])}catch(C){console.error("Error fetching like status:",C)}}S()},[s,r]);async function y(){if(l)return;c(!0);const S=We.collection("WrittenStories").doc(s).collection("likes");try{if(!r)return;const{uid:C}=r;(await S.doc(C).get()).exists?(await S.doc(C).delete(),await We.collection("WrittenStories").doc(s).update({likes:wo.firestore.FieldValue.increment(-1)}),a(l0[1]),Si({title:"Unlike",description:"You unliked the story",variant:"destructive"})):(await S.doc(C).set({likedAt:new Date}),await We.collection("WrittenStories").doc(s).update({likes:wo.firestore.FieldValue.increment(1)}),a(l0[0]),Si({title:"Like",description:"You liked the story",variant:"destructive"}))}catch(C){console.error("Error handling like functionality:",C)}finally{c(!1)}}x.useEffect(()=>{let S;function C(){S=We.collection("WrittenStories").doc(s).onSnapshot(T=>{const A=T.data();f(A==null?void 0:A.likes)})}return C(),()=>S()},[r,s]),x.useEffect(()=>{var C,N;if(!t)return;const S=((C=t.title)==null?void 0:C.length)>20?((N=t.title)==null?void 0:N.slice(0,20))+"...":t.title;m(S)},[t]);function w(){i(`/session/${s}`,{state:{from:"story"}})}function E(){n&&i(`/read/${n.id}`)}return _.jsxs("section",{className:" py-8 flex  justify-center items-center w-full shadow-xl pr-3",children:[_.jsxs("div",{className:"flex gap-8  w-fit max-sm:gap-4",children:[_.jsx("div",{className:" w-fit ",children:_.jsx(To.img,{initial:{scale:0},animate:{scale:1},transition:{delay:2},src:t&&t.ImgUrl,className:" rounded-md w-[330px] h-full max-lg:w-[270px] max-md:w-[230px] max-sm:[180px]"})}),_.jsxs("div",{className:"  py-10 flex flex-col gap-5  w-fit",children:[_.jsx(To.h1,{initial:{color:"#8266c9"},animate:{color:"#242424"},transition:{delay:2},className:" text-4xl font-semibold w-max max-lg:text-3xl max-md:text-2xl max-sm:text-xl",children:t&&g}),_.jsxs("div",{className:"flex flex-row gap-2 ",children:[_.jsx("span",{className:" w-fit inline-block bg-gray-100 text-gray-700 rounded-full px-3 py-1 text-sm mr-2 mb-2",children:t&&t.category}),_.jsx(Xu.heart,{Color:o,handleClick:y}),_.jsx(Xu.save,{clicked:u,handleClick:v})]}),_.jsx("div",{children:_.jsx("div",{className:"flex flex-row gap-4",children:tue.map((S,C)=>{if(!e)return;const N=C==0?h:e,T={...S,data:N};return _.jsxs("div",{children:[C==1&&_.jsx("span",{className:"w-[1px] h-full bg-black-2"}),_.jsx(_6,{attributes:T})]},C)})})}),_.jsxs("div",{className:"flex gap-2 w-full",children:[_.jsx(jn,{className:"  w-full bg-orange-1 hover:border-2 hover:border-orange-1 hover:bg-orange-2 hover:text-black-2",onClick:E,children:"Start Reading"}),(r==null?void 0:r.uid)==(t==null?void 0:t.author)?_.jsx(jn,{className:"  w-fit bg-orange-1 hover:border-2 hover:border-orange-1 hover:bg-orange-2 hover:text-black-2 ",onClick:w,children:_.jsx(Xu.plus,{classes:" w-[5px] flex justify-center items-center ",Color:"#fff"})}):null]})]})]}),_.jsx(yv,{})]})},sde=({Data:t})=>{var n;const{author:e}=tu(t&&t.author);return _.jsxs("div",{className:" border-2 w-full h-fit  rounded-lg flex flex-col gap-3 p-5",children:[_.jsxs(ra,{to:`/profile/${t&&t.author}/about`,className:"flex gap-2 items-center",children:[_.jsx("img",{alt:"User",src:e!=null&&e.PhotoUrl?e==null?void 0:e.PhotoUrl:"/Story-Website/user.svg",width:30}),_.jsx("span",{children:e!=null&&e.name?e==null?void 0:e.name:""})]}),_.jsx("div",{children:_.jsx("p",{className:" text-black-2  leading-7",children:t&&t.desc})}),_.jsx("div",{className:"flex gap-2 flex-wrap",children:t&&((n=t.tag)==null?void 0:n.map((r,i)=>_.jsx("span",{className:"inline-block bg-gray-100 text-gray-700 rounded-full px-3 py-1 text-sm mr-2 mb-2",children:r},i)))})]})},Z6=({children:t})=>_.jsx("div",{className:" max-w-[1000px] m-auto",children:t}),ode=({Parts:t})=>_.jsxs("div",{className:" border-2 p-3 flex flex-col gap-3 rounded-lg 2xl:w-[400px] lg:w-[360px]  max-lg:w-full",children:[_.jsx("h1",{className:"text-xl font-semibold  text-black-2",children:"Table of contents"}),_.jsx("div",{className:"flex flex-col gap-5 p-3.5",children:t?t.map((e,n)=>{if(!(e!=null&&e.title))return;const r=e.title.length>20?e.title.slice(0,20)+"...":e.title;return _.jsxs("div",{className:" text-lg flex flex-row gap-3 items-center",children:[_.jsxs("span",{children:["Part-",n+1," :"]}),_.jsx("span",{children:r})]},n)}):null})]});async function ade(t,e,n,r){try{return(await We.collection("WrittenStories").where("category","==",e).limit(10).get()).docs.map(c=>({id:c.id,...c.data()})).filter(c=>c.id!=r).map(c=>{let u=0;u+=2;const d=c.tag.filter(h=>n.includes(h));return u+=d.length,c.title.toLowerCase().includes(t.toLowerCase())&&(u+=.5),{...c,score:u}}).sort((c,u)=>u.score-c.score)}catch(i){console.log(i)}}const lde=({Data:t,storyId:e})=>{const[n,r]=x.useState([]);return x.useEffect(()=>{if(!t)return;const{tag:i,title:s,category:o}=t;ade(s,o,i,e).then(a=>{a&&r(a)})},[t,e]),_.jsxs("div",{className:" mt-12 flex flex-col gap-4 px-4",children:[_.jsx("div",{children:_.jsx("h1",{className:" text-2xl text-black-2 font-semibold",children:"You may also like"})}),_.jsxs(ux,{plugins:[gv({delay:2e3})],opts:{loop:!0},children:[_.jsx(dx,{className:" flex gap-4 max-md:gap-1 max-sm:gap-0 items-center p-4",children:n&&n.map(i=>{const{title:s}=i,o=s.length>30?s.slice(0,30)+"...":s;return _.jsx(my,{items:i,truncatedStr:o,searchItem:!1},i.id)})}),_.jsx(hx,{className:" max-lg:hidden"}),_.jsx(fx,{className:"max-lg:hidden"})]})]})},cde=async t=>{try{return(await We.collection("Parts").where("storyId","==",t).get()).docs.map(i=>({id:i.id,...i.data()}))}catch(e){console.error("Error fetching chapters:",e)}},ude=()=>{const{storyId:t}=Hc(),[e,n]=x.useState({}),[r,i]=x.useState([]),[s,o]=x.useState();return x.useEffect(()=>{async function a(){try{const l=await We.collection("WrittenStories").doc(t).get();cde(t||"").then(c=>{c&&(i(c),o(c.length))}),n(l.data())}catch(l){console.log(l)}}a()},[t]),_.jsxs("div",{children:[_.jsx(ide,{Data:e,length:s,Parts:r[0]}),_.jsxs(Z6,{children:[_.jsxs("div",{className:" flex w-full flex-row gap-4 mt-10 h-fit max-lg:flex-col px-4",children:[_.jsx(sde,{Data:e}),_.jsx(ode,{Parts:r})]}),_.jsx(lde,{Data:e,storyId:t})]})]})},dde=()=>_.jsx("div",{children:"peopleStory"}),hde=(t,e)=>{const[n,r]=x.useState(!1),[i,s]=x.useState(!1);x.useEffect(()=>{async function a(){if(!(!e||!t||e.uid===t))try{const{uid:l}=e,c=await We.collection("user").doc(t).collection("Followers").doc(l).get();r(c.exists)}catch(l){console.error("Error fetching follow status:",l)}}a()},[t,e]);async function o(){var a,l;if(!(!e||!t)){if(e.uid===t){console.warn("You cannot follow yourself.");return}if(!i){s(!0);try{const{uid:c}=e;n?(await We.collection("user").doc(t).collection("Followers").doc(c).delete(),await We.collection("user").doc(c).collection("Following").doc(t).delete(),Si({title:"Unfollow",description:`You unfollowed ${(a=e==null?void 0:e.email)==null?void 0:a.split("@")[0]}`,variant:"destructive"}),r(!1)):(await We.collection("user").doc(t).collection("Followers").doc(c).set({followedAt:new Date}),await We.collection("user").doc(c).collection("Following").doc(t).set({followedAt:new Date}),Si({title:"Follow",description:`You followed ${(l=e==null?void 0:e.email)==null?void 0:l.split("@")[0]}`,variant:"destructive"}),r(!0))}catch(c){console.error("Error toggling follow state:",c)}finally{s(!1)}}}}return{toggleFollow:o,isFollow:n,isProcessing:i}},fde=async t=>{try{return(await We.collection("user").doc(t==null?void 0:t.uid).collection("Followers").get()).docs.map(r=>r.id)}catch(e){console.log(e);return}},pde=(t,e)=>We.collection("user").doc(t==null?void 0:t.uid).collection("Following").onSnapshot(i=>{e(i.size)}),gx=()=>({UploadImg:async n=>{n.append("upload_preset","qobo8k7v");try{return await fetch("https://api.cloudinary.com/v1_1/dkm97ic10/image/upload",{method:"POST",body:n}).then(i=>i.json())}catch(r){console.log(r)}},ChangingImg:async(n,r,i)=>{var o;const s=(o=n.target.files)==null?void 0:o[0];if(s){i(!0);const a=new FormData;a.append("file",s);const l=await gx().UploadImg(a);await We.collection("user").doc(r).update({PhotoUrl:l.url}),i(!1)}}});var e9={};Object.defineProperty(e9,"__esModule",{value:!0});var mde=x,YE=gde(mde);function gde(t){return t&&t.__esModule?t:{default:t}}function yde(){return{__html:"@keyframes spin { 0% { transform: rotate(0deg) } 100% { transform: rotate(360deg) }}"}}function vde(t,e,n){return{inner:{animation:"spin 0.5s linear infinite",height:t,width:t,border:e+" solid transparent",borderTopColor:n,borderRadius:"100%",boxSizing:"border-box"},outer:{height:"100%",width:"100%",display:"flex",flexFlow:"column nowrap",justifyContent:"center",alignItems:"center"}}}var _de=function(e){var n=e.size,r=n===void 0?"50px":n,i=e.stroke,s=i===void 0?"3px":i,o=e.color,a=o===void 0?"#000":o,l=vde(r,s,a);return YE.default.createElement("div",{style:l.outer},YE.default.createElement("div",{style:l.inner}),YE.default.createElement("style",{dangerouslySetInnerHTML:yde()}))},kp=e9.default=_de;const OL=({profileId:t,Data:e,FollowersCount:n})=>{const r=x.useRef(null),[i,s]=x.useState(!1),{currentUser:o}=Js(),{Img:a,ListenToImgChanges:l}=tu(t||"");async function c(u){try{await gx().ChangingImg(u,t||"",s)}catch(d){Si({title:"Error",description:d.message})}}return x.useEffect(()=>{const u=l();return()=>u()},[l]),_.jsxs("div",{className:" w-full flex flex-col items-center  px-6 gap-5 max-lg:gap-8",children:[_.jsx("input",{ref:r,type:"file",id:"cover-image",accept:"image/*",className:" hidden",onChange:c}),_.jsxs("div",{className:"relative w-fit",children:[(o==null?void 0:o.uid)==t&&_.jsx("div",{className:"absolute top-0 right-0 cursor-pointer",onClick:()=>{var u;return(u=r.current)==null?void 0:u.click()},children:i?_.jsx(kp,{size:"18px"}):_.jsx("div",{className:"bg-orange-2 border-4 border-white-1 w-fit h-fit rounded-full",children:_.jsx("img",{src:"/Story-Website/camera.svg",alt:"google",width:30})})}),a?_.jsx("div",{className:" w-[130px] h-[130px] overflow-hidden rounded-full",children:_.jsx("img",{src:a,className:" w-full h-full object-center"})}):_.jsx("img",{src:"/Story-Website/user.svg",width:120,className:"rounded-full lg:width-[40px] max-lg:width-[60px] max-md:width-[50px]"})]}),_.jsx("h1",{className:"text-black-2 font-semibold text-center max-lg:text-xl max-md:text-lg",children:_.jsx("span",{children:e?e.name:""})}),_.jsx("div",{className:"flex flex-row gap-2 justify-center items-center",children:eue.map((u,d)=>{if(!e)return;console.log(e.PhotoUrl);const h=d==0?e.likes:n,f={...u,data:h};return _.jsxs(_.Fragment,{children:[d==1&&_.jsx("div",{className:" w-[3px] bg-black-2 h-full mr-2"},d),_.jsx(_6,{attributes:f})]})})})]})},wde=()=>{const{profileId:t}=Hc(),[e,n]=x.useState({}),[r,i]=x.useState(!0),[s,o]=x.useState(!1),[a,l]=x.useState(0),{currentUser:c}=Js(),{isFollow:u,toggleFollow:d,isProcessing:h}=hde(t,c);return x.useEffect(()=>{async function f(){try{const g=await We.collection("user").doc(t).get();if(!g.data())return;n(g.data())}catch(g){console.log(g)}}f()},[t,c]),x.useEffect(()=>{const f=pde(c,l);return()=>f()},[c]),_.jsxs("div",{className:"max-w-[1200px] mx-auto lg:px-7",children:[_.jsxs("section",{className:"pt-16 flex flex-col gap-10 max-lg:px-5 border-b border-black-2",children:[_.jsxs("div",{className:"flex py-16 flex-col gap-8 max-lg:hidden",children:[(e==null?void 0:e.name)&&_.jsx(To.h1,{initial:{color:"#8266c9"},animate:{color:"#242424"},transition:{delay:2},className:" text-6xl text-black-2 font-semibold",children:e.name}),_.jsxs("div",{className:" flex gap-2 items-center justify-between w-fit",children:[_.jsx("h1",{className:" text-lg text-black-2 ",children:e?e.name:""}),(c==null?void 0:c.uid)!=t&&_.jsx(jn,{disabled:h,variant:"destructive",onClick:d,children:u?_.jsx("span",{children:"unfollow"}):_.jsx("span",{children:"follow"})})]})]}),_.jsxs("div",{className:" lg:hidden",children:[_.jsx(OL,{profileId:t,Data:e,FollowersCount:a}),_.jsx("div",{className:"flex mt-8  items-center w-full",children:(c==null?void 0:c.uid)!=t&&_.jsx(jn,{disabled:h,variant:"destructive",onClick:d,children:u?_.jsx("span",{children:"unfollow"}):_.jsx("span",{children:"follow"})})})]}),_.jsx("div",{children:_.jsxs("ul",{className:" text-black-2  text-sm font-semibold flex items-center gap-10",children:[_.jsx(ra,{to:"about",children:_.jsx("li",{onClick:()=>{i(!0),o(!1)},className:xd("cursor-pointer hover:text-white-2 pb-4",{"border-b-4 border-orange-1":r}),children:"Home"})}),_.jsx(ra,{to:"home",children:_.jsx("li",{onClick:()=>{i(!1),o(!0)},className:xd("cursor-pointer hover:text-white-2 pb-4",{"border-b-4 border-orange-1":s}),children:"About"})})]})})]}),_.jsxs("div",{className:"flex flex-row p-6 gap-4",children:[_.jsx(BK,{}),_.jsx("div",{className:" p-4 max-lg:hidden w-[30%] border-l border-black-2",children:_.jsx(OL,{profileId:t,Data:e,FollowersCount:a})})]}),_.jsx(yv,{})]})},DL=ir.forwardRef(({children:t,open:e,...n})=>_.jsx(SU,{children:e&&_.jsx(To.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:xd("absolute  top-10 left-0 max-sm:-left-16"),children:_.jsx("div",{className:" z-50 shadow-custom-equal w-full px-4 py-2 bg-white-1 rounded-md",...n,children:t})})})),xde=wo.firestore.Timestamp;async function Ede(t,e){try{const n=await fde(t);n&&n.forEach(r=>{const i=We.collection("user").doc(r).collection("Notification").doc().id;We.collection("user").doc(r).collection("Notification").doc(i).set({senderId:t==null?void 0:t.uid,type:"New Story Part",read:!1,createdAt:xde.now(),PartId:e,message:`new story part  was published from ${t!=null&&t.email?t==null?void 0:t.email.split("@")[0]:""}`})})}catch(n){console.log(n)}}function bde(t,e){return We.collection("user").doc(t==null?void 0:t.uid).collection("Notification").where("read","==",!1).onSnapshot(i=>{const s=[];i.forEach(o=>{const a=o.data();s.push({id:o.id,...a})}),e(s)})}function Tde(t,e){return We.collection("user").doc(t==null?void 0:t.uid).collection("Notification").where("read","==",!1).onSnapshot(s=>{e(s.size)})}async function Sde(t){try{const e=We.collection("user").doc(t==null?void 0:t.uid).collection("Notification"),n=await e.where("read","==",!1).get();if(n.empty)return;for(const r of n.docs)await e.doc(r.id).update({read:!0});console.log("hi")}catch(e){console.log(e)}}async function Ade(t,e){if(e)try{await We.collection("user").doc(t==null?void 0:t.uid).collection("Notification").doc(e).update({read:!0})}catch(n){console.log(n)}}function mc(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function LL(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ide(...t){return e=>{let n=!1;const r=t.map(i=>{const s=LL(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():LL(t[i],null)}}}}function Wd(...t){return x.useCallback(Ide(...t),t)}var Cde=kj.useId||(()=>{}),Rde=0;function pf(t){const[e,n]=x.useState(Cde());return Qn(()=>{n(r=>r??String(Rde++))},[t]),e?`radix-${e}`:""}var Pde=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ml=Pde.reduce((t,e)=>{const n=x.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?el:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),_.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Nde(t,e){t&&cl.flushSync(()=>t.dispatchEvent(e))}var kde="DismissableLayer",FS="dismissableLayer.update",Ode="dismissableLayer.pointerDownOutside",Dde="dismissableLayer.focusOutside",ML,t9=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),n9=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=x.useContext(t9),[u,d]=x.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=x.useState({}),g=Wd(e,T=>d(T)),m=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(v),w=u?m.indexOf(u):-1,E=c.layersWithOutsidePointerEventsDisabled.size>0,S=w>=y,C=Vde(T=>{const A=T.target,P=[...c.branches].some(k=>k.contains(A));!S||P||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},h),N=jde(T=>{const A=T.target;[...c.branches].some(k=>k.contains(A))||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},h);return nP(T=>{w===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},h),x.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(ML=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),VL(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=ML)}},[u,h,n,c]),x.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),VL())},[u,c]),x.useEffect(()=>{const T=()=>f({});return document.addEventListener(FS,T),()=>document.removeEventListener(FS,T)},[]),_.jsx(ml.div,{...l,ref:g,style:{pointerEvents:E?S?"auto":"none":void 0,...t.style},onFocusCapture:mc(t.onFocusCapture,N.onFocusCapture),onBlurCapture:mc(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:mc(t.onPointerDownCapture,C.onPointerDownCapture)})});n9.displayName=kde;var Lde="DismissableLayerBranch",Mde=x.forwardRef((t,e)=>{const n=x.useContext(t9),r=x.useRef(null),i=Wd(e,r);return x.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),_.jsx(ml.div,{...t,ref:i})});Mde.displayName=Lde;function Vde(t,e=globalThis==null?void 0:globalThis.document){const n=lr(t),r=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){r9(Ode,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function jde(t,e=globalThis==null?void 0:globalThis.document){const n=lr(t),r=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!r.current&&r9(Dde,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function VL(){const t=new CustomEvent(FS);document.dispatchEvent(t)}function r9(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Nde(i,s):i.dispatchEvent(s)}var QE="focusScope.autoFocusOnMount",XE="focusScope.autoFocusOnUnmount",jL={bubbles:!1,cancelable:!0},Fde="FocusScope",i9=x.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=x.useState(null),c=lr(i),u=lr(s),d=x.useRef(null),h=Wd(e,m=>l(m)),f=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let m=function(E){if(f.paused||!a)return;const S=E.target;a.contains(S)?d.current=S:kl(d.current,{select:!0})},v=function(E){if(f.paused||!a)return;const S=E.relatedTarget;S!==null&&(a.contains(S)||kl(d.current,{select:!0}))},y=function(E){if(document.activeElement===document.body)for(const C of E)C.removedNodes.length>0&&kl(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const w=new MutationObserver(y);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),w.disconnect()}}},[r,a,f.paused]),x.useEffect(()=>{if(a){BL.add(f);const m=document.activeElement;if(!a.contains(m)){const y=new CustomEvent(QE,jL);a.addEventListener(QE,c),a.dispatchEvent(y),y.defaultPrevented||(Bde(Wde(s9(a)),{select:!0}),document.activeElement===m&&kl(a))}return()=>{a.removeEventListener(QE,c),setTimeout(()=>{const y=new CustomEvent(XE,jL);a.addEventListener(XE,u),a.dispatchEvent(y),y.defaultPrevented||kl(m??document.body,{select:!0}),a.removeEventListener(XE,u),BL.remove(f)},0)}}},[a,c,u,f]);const g=x.useCallback(m=>{if(!n&&!r||f.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(v&&y){const w=m.currentTarget,[E,S]=Ude(w);E&&S?!m.shiftKey&&y===S?(m.preventDefault(),n&&kl(E,{select:!0})):m.shiftKey&&y===E&&(m.preventDefault(),n&&kl(S,{select:!0})):y===w&&m.preventDefault()}},[n,r,f.paused]);return _.jsx(ml.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});i9.displayName=Fde;function Bde(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(kl(r,{select:e}),document.activeElement!==n)return}function Ude(t){const e=s9(t),n=FL(e,t),r=FL(e.reverse(),t);return[n,r]}function s9(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function FL(t,e){for(const n of t)if(!$de(n,{upTo:e}))return n}function $de(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function qde(t){return t instanceof HTMLInputElement&&"select"in t}function kl(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&qde(t)&&e&&t.select()}}var BL=zde();function zde(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=UL(t,e),t.unshift(e)},remove(e){var n;t=UL(t,e),(n=t[0])==null||n.resume()}}}function UL(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Wde(t){return t.filter(e=>e.tagName!=="A")}var Hde="Portal",o9=x.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=x.useState(!1);Qn(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?HI.createPortal(_.jsx(ml.div,{...r,ref:e}),o):null});o9.displayName=Hde;function Gde(t,e){return x.useReducer((n,r)=>e[n][r]??n,t)}var yx=t=>{const{present:e,children:n}=t,r=Kde(e),i=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),s=Wd(r.ref,Yde(i));return typeof n=="function"||r.isPresent?x.cloneElement(i,{ref:s}):null};yx.displayName="Presence";function Kde(t){const[e,n]=x.useState(),r=x.useRef({}),i=x.useRef(t),s=x.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Gde(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const c=c0(r.current);s.current=a==="mounted"?c:"none"},[a]),Qn(()=>{const c=r.current,u=i.current;if(u!==t){const h=s.current,f=c0(c);t?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Qn(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=f=>{const m=c0(r.current).includes(f.animationName);if(f.target===e&&m&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},h=f=>{f.target===e&&(s.current=c0(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:x.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function c0(t){return(t==null?void 0:t.animationName)||"none"}function Yde(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var JE=0;function a9(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??$L()),document.body.insertAdjacentElement("beforeend",t[1]??$L()),JE++,()=>{JE===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),JE--}},[])}function $L(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var sg="right-scroll-bar-position",og="width-before-scroll-bar",Qde="with-scroll-bars-hidden",Xde="--removed-body-scroll-bar-size";function ZE(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Jde(t,e){var n=x.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Zde=typeof window<"u"?x.useLayoutEffect:x.useEffect,qL=new WeakMap;function l9(t,e){var n=Jde(null,function(r){return t.forEach(function(i){return ZE(i,r)})});return Zde(function(){var r=qL.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||ZE(a,null)}),s.forEach(function(a){i.has(a)||ZE(a,o)})}qL.set(n,t)},[t]),n}function ehe(t){return t}function the(t,e){e===void 0&&(e=ehe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return i}function c9(t){t===void 0&&(t={});var e=the(null);return e.options=Yr({async:!0,ssr:!1},t),e}var u9=function(t){var e=t.sideCar,n=vp(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,Yr({},n))};u9.isSideCarExport=!0;function d9(t,e){return t.useMedium(e),u9}var h9=c9(),eb=function(){},vx=x.forwardRef(function(t,e){var n=x.useRef(null),r=x.useState({onScrollCapture:eb,onWheelCapture:eb,onTouchMoveCapture:eb}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,h=t.sideCar,f=t.noIsolation,g=t.inert,m=t.allowPinchZoom,v=t.as,y=v===void 0?"div":v,w=t.gapMode,E=vp(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,C=l9([n,e]),N=Yr(Yr({},E),i);return x.createElement(x.Fragment,null,u&&x.createElement(S,{sideCar:h9,removeScrollBar:c,shards:d,noIsolation:f,inert:g,setCallbacks:s,allowPinchZoom:!!m,lockRef:n,gapMode:w}),o?x.cloneElement(x.Children.only(a),Yr(Yr({},N),{ref:C})):x.createElement(y,Yr({},N,{className:l,ref:C}),a))});vx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vx.classNames={fullWidth:og,zeroRight:sg};var nhe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function rhe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=nhe();return e&&t.setAttribute("nonce",e),t}function ihe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function she(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var ohe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=rhe())&&(ihe(e,n),she(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},ahe=function(){var t=ohe();return function(e,n){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},aP=function(){var t=ahe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},lhe={left:0,top:0,right:0,gap:0},tb=function(t){return parseInt(t||"",10)||0},che=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[tb(n),tb(r),tb(i)]},uhe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return lhe;var e=che(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},dhe=aP(),mf="data-scroll-locked",hhe=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Qde,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(mf,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sg,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(og,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(sg," .").concat(sg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(og," .").concat(og,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(mf,`] {
    `).concat(Xde,": ").concat(a,`px;
  }
`)},zL=function(){var t=parseInt(document.body.getAttribute(mf)||"0",10);return isFinite(t)?t:0},fhe=function(){x.useEffect(function(){return document.body.setAttribute(mf,(zL()+1).toString()),function(){var t=zL()-1;t<=0?document.body.removeAttribute(mf):document.body.setAttribute(mf,t.toString())}},[])},f9=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;fhe();var s=x.useMemo(function(){return uhe(i)},[i]);return x.createElement(dhe,{styles:hhe(s,!e,i,n?"":"!important")})},BS=!1;if(typeof window<"u")try{var u0=Object.defineProperty({},"passive",{get:function(){return BS=!0,!0}});window.addEventListener("test",u0,u0),window.removeEventListener("test",u0,u0)}catch{BS=!1}var dh=BS?{passive:!1}:!1,phe=function(t){return t.tagName==="TEXTAREA"},p9=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!phe(t)&&n[e]==="visible")},mhe=function(t){return p9(t,"overflowY")},ghe=function(t){return p9(t,"overflowX")},WL=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=m9(t,r);if(i){var s=g9(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},yhe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},vhe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},m9=function(t,e){return t==="v"?mhe(e):ghe(e)},g9=function(t,e){return t==="v"?yhe(e):vhe(e)},_he=function(t,e){return t==="h"&&e==="rtl"?-1:1},whe=function(t,e,n,r,i){var s=_he(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,u=o>0,d=0,h=0;do{var f=g9(t,a),g=f[0],m=f[1],v=f[2],y=m-v-s*g;(g||y)&&m9(t,a)&&(d+=y,h+=g),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(d)<1||!i)||!u&&(Math.abs(h)<1||!i))&&(c=!0),c},d0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},HL=function(t){return[t.deltaX,t.deltaY]},GL=function(t){return t&&"current"in t?t.current:t},xhe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Ehe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},bhe=0,hh=[];function The(t){var e=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),i=x.useState(bhe++)[0],s=x.useState(aP)[0],o=x.useRef(t);x.useEffect(function(){o.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=g3([t.lockRef.current],(t.shards||[]).map(GL),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=x.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var y=d0(m),w=n.current,E="deltaX"in m?m.deltaX:w[0]-y[0],S="deltaY"in m?m.deltaY:w[1]-y[1],C,N=m.target,T=Math.abs(E)>Math.abs(S)?"h":"v";if("touches"in m&&T==="h"&&N.type==="range")return!1;var A=WL(T,N);if(!A)return!0;if(A?C=T:(C=T==="v"?"h":"v",A=WL(T,N)),!A)return!1;if(!r.current&&"changedTouches"in m&&(E||S)&&(r.current=C),!C)return!0;var P=r.current||C;return whe(P,v,m,P==="h"?E:S,!0)},[]),l=x.useCallback(function(m){var v=m;if(!(!hh.length||hh[hh.length-1]!==s)){var y="deltaY"in v?HL(v):d0(v),w=e.current.filter(function(C){return C.name===v.type&&(C.target===v.target||v.target===C.shadowParent)&&xhe(C.delta,y)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var E=(o.current.shards||[]).map(GL).filter(Boolean).filter(function(C){return C.contains(v.target)}),S=E.length>0?a(v,E[0]):!o.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),c=x.useCallback(function(m,v,y,w){var E={name:m,delta:v,target:y,should:w,shadowParent:She(y)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(S){return S!==E})},1)},[]),u=x.useCallback(function(m){n.current=d0(m),r.current=void 0},[]),d=x.useCallback(function(m){c(m.type,HL(m),m.target,a(m,t.lockRef.current))},[]),h=x.useCallback(function(m){c(m.type,d0(m),m.target,a(m,t.lockRef.current))},[]);x.useEffect(function(){return hh.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,dh),document.addEventListener("touchmove",l,dh),document.addEventListener("touchstart",u,dh),function(){hh=hh.filter(function(m){return m!==s}),document.removeEventListener("wheel",l,dh),document.removeEventListener("touchmove",l,dh),document.removeEventListener("touchstart",u,dh)}},[]);var f=t.removeScrollBar,g=t.inert;return x.createElement(x.Fragment,null,g?x.createElement(s,{styles:Ehe(i)}):null,f?x.createElement(f9,{gapMode:t.gapMode}):null)}function She(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Ahe=d9(h9,The);var y9=x.forwardRef(function(t,e){return x.createElement(vx,Yr({},t,{ref:e,sideCar:Ahe}))});y9.classNames=vx.classNames;var Ihe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},fh=new WeakMap,h0=new WeakMap,f0={},nb=0,v9=function(t){return t&&(t.host||v9(t.parentNode))},Che=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=v9(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Rhe=function(t,e,n,r){var i=Che(e,Array.isArray(t)?t:[t]);f0[n]||(f0[n]=new WeakMap);var s=f0[n],o=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))u(h);else try{var f=h.getAttribute(r),g=f!==null&&f!=="false",m=(fh.get(h)||0)+1,v=(s.get(h)||0)+1;fh.set(h,m),s.set(h,v),o.push(h),m===1&&g&&h0.set(h,!0),v===1&&h.setAttribute(n,"true"),g||h.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return u(e),a.clear(),nb++,function(){o.forEach(function(d){var h=fh.get(d)-1,f=s.get(d)-1;fh.set(d,h),s.set(d,f),h||(h0.has(d)||d.removeAttribute(r),h0.delete(d)),f||d.removeAttribute(n)}),nb--,nb||(fh=new WeakMap,fh=new WeakMap,h0=new WeakMap,f0={})}},_9=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=Ihe(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Rhe(r,i,n,"aria-hidden")):function(){return null}},lP="Dialog",[w9,x9]=Np(lP),[Phe,Co]=w9(lP),cP=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=x.useRef(null),l=x.useRef(null),[c=!1,u]=Dw({prop:r,defaultProp:i,onChange:s});return _.jsx(Phe,{scope:e,triggerRef:a,contentRef:l,contentId:pf(),titleId:pf(),descriptionId:pf(),open:c,onOpenChange:u,onOpenToggle:x.useCallback(()=>u(d=>!d),[u]),modal:o,children:n})};cP.displayName=lP;var E9="DialogTrigger",b9=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Co(E9,n),s=Wd(e,i.triggerRef);return _.jsx(ml.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":mP(i.open),...r,ref:s,onClick:mc(t.onClick,i.onOpenToggle)})});b9.displayName=E9;var uP="DialogPortal",[Nhe,T9]=w9(uP,{forceMount:void 0}),S9=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Co(uP,e);return _.jsx(Nhe,{scope:e,forceMount:n,children:x.Children.map(r,o=>_.jsx(yx,{present:n||s.open,children:_.jsx(o9,{asChild:!0,container:i,children:o})}))})};S9.displayName=uP;var Lw="DialogOverlay",A9=x.forwardRef((t,e)=>{const n=T9(Lw,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Co(Lw,t.__scopeDialog);return s.modal?_.jsx(yx,{present:r||s.open,children:_.jsx(khe,{...i,ref:e})}):null});A9.displayName=Lw;var khe=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Co(Lw,n);return _.jsx(y9,{as:el,allowPinchZoom:!0,shards:[i.contentRef],children:_.jsx(ml.div,{"data-state":mP(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Td="DialogContent",dP=x.forwardRef((t,e)=>{const n=T9(Td,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Co(Td,t.__scopeDialog);return _.jsx(yx,{present:r||s.open,children:s.modal?_.jsx(Ohe,{...i,ref:e}):_.jsx(Dhe,{...i,ref:e})})});dP.displayName=Td;var Ohe=x.forwardRef((t,e)=>{const n=Co(Td,t.__scopeDialog),r=x.useRef(null),i=Wd(e,n.contentRef,r);return x.useEffect(()=>{const s=r.current;if(s)return _9(s)},[]),_.jsx(I9,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:mc(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:mc(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:mc(t.onFocusOutside,s=>s.preventDefault())})}),Dhe=x.forwardRef((t,e)=>{const n=Co(Td,t.__scopeDialog),r=x.useRef(!1),i=x.useRef(!1);return _.jsx(I9,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),I9=x.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=Co(Td,n),l=x.useRef(null),c=Wd(e,l);return a9(),_.jsxs(_.Fragment,{children:[_.jsx(i9,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:_.jsx(n9,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":mP(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),_.jsxs(_.Fragment,{children:[_.jsx(Mhe,{titleId:a.titleId}),_.jsx(jhe,{contentRef:l,descriptionId:a.descriptionId})]})]})}),hP="DialogTitle",fP=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Co(hP,n);return _.jsx(ml.h2,{id:i.titleId,...r,ref:e})});fP.displayName=hP;var C9="DialogDescription",pP=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Co(C9,n);return _.jsx(ml.p,{id:i.descriptionId,...r,ref:e})});pP.displayName=C9;var R9="DialogClose",P9=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Co(R9,n);return _.jsx(ml.button,{type:"button",...r,ref:e,onClick:mc(t.onClick,()=>i.onOpenChange(!1))})});P9.displayName=R9;function mP(t){return t?"open":"closed"}var N9="DialogTitleWarning",[Lhe,k9]=gue(N9,{contentName:Td,titleName:hP,docsSlug:"dialog"}),Mhe=({titleId:t})=>{const e=k9(N9),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Vhe="DialogDescriptionWarning",jhe=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${k9(Vhe).contentName}}.`;return x.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},O9=cP,Fhe=b9,D9=S9,gP=A9,yP=dP,vP=fP,_P=pP,wP=P9;const Bhe=({senderId:t})=>{const{author:e}=tu(t);return _.jsx(ra,{to:`/profile/${t}/about`,children:_.jsx("img",{src:e==null?void 0:e.PhotoUrl,width:60,className:" rounded-full max-md:w-[40px]"})})},Uhe=({notification:t,clicked:e,setClicked:n})=>{const[r,i]=x.useState([]),s=Xs(),{currentUser:o}=Js();x.useEffect(()=>{i(t)},[t]);async function a(l,c){try{s(`/read/${l}`),await Ade(o,c)}catch(u){console.log(u)}}return _.jsx(cP,{open:e,onOpenChange:n,children:_.jsxs(dP,{className:"absolute top-10 z-50 bg-white-1 right-0 max-sm:-right-[68px] max-xs:-right-[80px] shadow-custom-equal rounded-md ",children:[_.jsxs(fP,{className:" p-3  border-b border-black-2 flex flex-row justify-between",children:[_.jsx("div",{className:"py-2",children:"Notification"}),_.jsx("div",{className:"py-2 cursor-pointer",onClick:()=>Sde(o),children:_.jsx("img",{src:"/Story-Website/delete.svg",width:20})})]}),_.jsx(pP,{className:" p-3 w-[450px] max-md:w-[350px] max-sm:w-[300px] ",children:r==null?void 0:r.map(l=>{const d=l.createdAt.toDate().getHours();return _.jsxs("div",{className:"flex flex-row gap-3 p-3 rounded-md items-center cursor-pointer w-full hover:bg-orange-2",children:[_.jsx(Bhe,{senderId:l.senderId}),_.jsxs("div",{className:"flex flex-col flex-1 gap-2",onClick:()=>a(l.PartId,l.id),children:[_.jsx("span",{className:" text-black-2 max-md:text-sm",children:l==null?void 0:l.message}),_.jsxs("span",{className:" text-sm font-semibold text-white-2 max-md:text-sm",children:[d," hours ago"]})]})]},l.id)})})]})})},$he=()=>{var v;const{currentUser:t}=Js(),{Img:e,ListenToImgChanges:n}=tu(t!=null&&t.uid?t.uid:""),[r,i]=x.useState(!1),[s,o]=x.useState(!1),[a,l]=x.useState(!1),[c,u]=x.useState([]),[d,h]=x.useState(0),f=Xs();async function g(){await FX(Xm).then(()=>{}).catch(y=>{console.log(y)})}async function m(){l(!a)}return x.useEffect(()=>{const y=bde(t,u);return()=>y()},[t]),x.useEffect(()=>{if(!t)return;const y=Tde(t,h);return()=>y()},[t]),x.useEffect(()=>{const y=n();return()=>y()},[n]),_.jsxs("div",{className:" sticky left-0 top-0 p-5 flex pt-4 pb-4 items-center border-b-2 z-20 bg-white-1 border-white-3 justify-between  w-full",children:[_.jsxs("div",{className:" flex flex-row items-center md:gap-4 max-md:gap-1",children:[_.jsxs(ra,{to:"/",className:"flex flex-row items-center gap-3 pr-6 max-sm:pr-3 border-r-2 border-white-3",children:[_.jsx("img",{src:"/Story-Website/logo.svg",width:35}),_.jsx("h1",{className:" text-lg text-black-2 max-sm:hidden",children:"dz-story"})]}),_.jsx("div",{onClick:()=>f("/browse"),className:"  cursor-pointer text-black-2 p-2 hover:bg-orange-2 rounded-lg transition-colors",children:_.jsx("p",{children:"Browse"})})]}),_.jsxs("div",{className:"flex  gap-4 items-center",children:[_.jsxs("div",{className:"relative",children:[_.jsxs("div",{onClick:m,className:" relative cursor-pointer",children:[d!=0&&_.jsx("span",{className:"absolute min-w-3 h-3  text-sm text-white-1 rounded-full p-1 py-2 -right-2 top-0 bg-red-500 flex justify-center items-center font-bold",children:d}),_.jsx(Xu.bell,{clicked:a})]}),_.jsx(Uhe,{clicked:a,setClicked:l,notification:c})]}),_.jsxs("div",{className:"flex gap-1 relative items-center cursor-pointer",onClick:()=>{o(!s)},children:[_.jsx("img",{src:"/Story-Website/write.svg",width:30}),_.jsx("h1",{className:" text-black-2",children:"Write"}),_.jsx(DL,{open:s,children:_.jsxs("ul",{className:"flex flex-col gap-3 text-black-1 ",children:[_.jsx("li",{onClick:()=>f("/new"),className:`border-b-2\r
                    hover:text-white-2 cursor-pointer w-max border-orange-1 pb-3`,children:_.jsx("span",{children:"Write Story"})}),_.jsxs("li",{className:" cursor-not-allowed w-max hover:text-white-2 flex gap-2",children:[_.jsx("img",{src:"/Story-Website/lock.svg",width:20}),_.jsx("span",{children:"Generate Story"})]})]})})]}),_.jsxs("div",{onClick:()=>i(!r),className:"relative cursor-pointer flex h-fit items-center gap-3 border rounded-full sm:pr-3 border-black-2",children:[_.jsx("div",{className:" w-[30px] h-[30px] overflow-hidden rounded-full",children:_.jsx("img",{src:e||"/Story-Website/user.svg",className:" w-full h-full object-cover"})}),_.jsx("h1",{className:" max-sm:hidden",children:(v=t==null?void 0:t.email)==null?void 0:v.split("@")[0]}),_.jsx(DL,{open:r,children:_.jsxs("ul",{className:"flex flex-col gap-3 text-black-1 ",children:[_.jsxs("li",{onClick:()=>f(`/Profile/${t?t.uid:""}/about`),className:`border-b-2\r
                    hover:text-white-2 cursor-pointer border-orange-1 pb-3 flex gap-2`,children:[_.jsx("img",{src:"/Story-Website/profile.svg",width:15}),_.jsx("span",{children:"Profile"})]}),_.jsx("li",{onClick:g,className:"cursor-pointer hover:text-white-2",children:_.jsx("span",{children:"Log_Out"})})]})})]})]})]})},L9=x.createContext(void 0),M9=({children:t})=>{const[e,n]=x.useState(""),[r,i]=x.useState(""),[s,o]=x.useState(!1);return _.jsx(L9.Provider,{value:{storyId:e,partId:r,setStoryId:n,setPartId:i,isDialog:s,setIsDialog:o},children:t})},qhe=()=>{const t=x.useContext(L9);if(!t)throw new Error("useUser must be used within a UserProvider");return t},Rl=({children:t})=>{const{currentUser:e}=Js(),n=Xs();return x.useEffect(()=>{e||n("/signin")},[e]),_.jsx(M9,{children:_.jsxs("div",{className:"flex flex-col w-full",children:[_.jsx($he,{}),_.jsx("div",{className:" w-full",children:t})]})})},xP=eP("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-neutral-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:ring-offset-neutral-950 dark:focus-visible:ring-neutral-300",{variants:{variant:{default:"bg-neutral-900 text-neutral-50 hover:bg-neutral-900/90 dark:bg-neutral-50 dark:text-neutral-900 dark:hover:bg-neutral-50/90",destructive:"bg-red-500 text-neutral-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-neutral-50 dark:hover:bg-red-900/90",outline:"border border-neutral-200 bg-white hover:bg-neutral-100 hover:text-neutral-900 dark:border-neutral-800 dark:bg-neutral-950 dark:hover:bg-neutral-800 dark:hover:text-neutral-50",secondary:"bg-neutral-100 text-neutral-900 hover:bg-neutral-100/80 dark:bg-neutral-800 dark:text-neutral-50 dark:hover:bg-neutral-800/80",ghost:"hover:bg-neutral-100 hover:text-neutral-900 dark:hover:bg-neutral-800 dark:hover:text-neutral-50",link:"text-neutral-900 underline-offset-4 hover:underline dark:text-neutral-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),US=x.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?el:"button";return _.jsx(o,{className:st(xP({variant:e,size:n,className:t})),ref:s,...i})});US.displayName="Button";const V9=O9,zhe=D9,j9=x.forwardRef(({className:t,...e},n)=>_.jsx(gP,{ref:n,className:st("fixed inset-0 z-100 bg-black-1/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));j9.displayName=gP.displayName;const EP=x.forwardRef(({className:t,children:e,...n},r)=>_.jsxs(zhe,{children:[_.jsx(j9,{}),_.jsxs(yP,{ref:r,className:st("fixed left-[50%] top-[50%] z-50 grid w-full p-8  max-w-4xl translate-x-[-50%] translate-y-[-50%] gap-4 border border-neutral-200 bg-white-1  shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-neutral-800 dark:bg-neutral-950",t),...n,children:[e,_.jsxs(wP,{className:"absolute right-4 top-4  p-1 text-black-1 font-extrabold opacity-70 ring-offset-white transition-opacity hover:opacity-100  bg-white-2 rounded-full",children:[_.jsx(c6,{className:"h-6 w-6"}),_.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));EP.displayName=yP.displayName;const F9=({className:t,...e})=>_.jsx("div",{className:st("flex flex-col space-y-1.5 text-center max-sm:text-left  ",t),...e});F9.displayName="DialogHeader";const B9=({className:t,...e})=>_.jsx("div",{className:st("flex flex-col-reverse sm:flex-row sm:justify-end ",t),...e});B9.displayName="DialogFooter";const U9=x.forwardRef(({className:t,...e},n)=>_.jsx(vP,{ref:n,className:st("text-lg font-semibold leading-none tracking-tight",t),...e}));U9.displayName=vP.displayName;const Whe=x.forwardRef(({className:t,...e},n)=>_.jsx(_P,{ref:n,className:st("text-sm text-neutral-500 dark:text-neutral-400",t),...e}));Whe.displayName=_P.displayName;const ag=x.forwardRef(({className:t,type:e,...n},r)=>_.jsx("input",{type:e,className:st("flex h-10 w-full rounded-md border border-neutral-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-neutral-950 placeholder:text-neutral-500 focus-visible:outline-none  disabled:cursor-not-allowed disabled:opacity-50 dark:border-neutral-800 dark:bg-neutral-950 dark:ring-offset-neutral-950 dark:file:text-neutral-50 dark:placeholder:text-neutral-400 dark:focus-visible:ring-neutral-300",t),ref:r,...n}));ag.displayName="Input";const Hhe=({isLogin:t,setIsLogin:e,setIsopen:n,isopen:r})=>{const[i,s]=x.useState(""),[o,a]=x.useState(""),[l,c]=x.useState(""),[u,d]=x.useState(!1),[h,f]=x.useState(""),g=Xs();function m(){sJ(Xm,gre).then(y=>{y&&g("/")}).catch(y=>{console.log(y)})}const v=async()=>{d(!0),f("");try{if(t)await MX(Xm,i,o),g("/");else{if(o!==l){f("Passwords do not match"),d(!1);return}await LX(Xm,i,o),g("/")}}catch(y){f(y.message)}d(!1)};return _.jsx(V9,{open:r,onOpenChange:n,children:_.jsxs(EP,{children:[_.jsx("h2",{className:"text-lg font-semibold mb-4",children:t?"Login":"Sign Up"}),h&&_.jsx("p",{className:"text-red-500 text-sm",children:h}),_.jsx(ag,{type:"email",placeholder:"Email",value:i,onChange:y=>s(y.target.value)}),_.jsx(ag,{type:"password",placeholder:"Password",value:o,onChange:y=>a(y.target.value)}),!t&&_.jsx(ag,{type:"password",placeholder:"Confirm Password",value:l,onChange:y=>c(y.target.value)}),_.jsx(US,{onClick:v,disabled:u,className:" bg-orange-1 text-white-1 border border-orange-1 hover:bg-orange-2 hover:text-black-1 ",children:u?"Processing...":t?"Login":"Sign Up"}),_.jsx(US,{onClick:m,className:" bg-orange-1 text-white-1 border border-orange-1 hover:bg-orange-2 hover:text-black-1",children:"Sign in with Google"}),_.jsx("p",{className:"text-sm mt-2 cursor-pointer text-blue-500",onClick:()=>e(!t),children:t?"Don't have an account? Sign up":"Already have an account? Login"})]})})};function Aa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $9(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var ms={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},tp={duration:.5,overwrite:!1,delay:0},bP,Nr,ln,Us=1e8,Lt=1/Us,$S=Math.PI*2,Ghe=$S/4,Khe=0,q9=Math.sqrt,Yhe=Math.cos,Qhe=Math.sin,wr=function(e){return typeof e=="string"},Sn=function(e){return typeof e=="function"},tl=function(e){return typeof e=="number"},TP=function(e){return typeof e>"u"},ca=function(e){return typeof e=="object"},qi=function(e){return e!==!1},SP=function(){return typeof window<"u"},p0=function(e){return Sn(e)||wr(e)},z9=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ti=Array.isArray,qS=/(?:-?\.?\d|\.)+/gi,W9=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Jh=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,rb=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,H9=/[+-]=-?[.\d]+/,G9=/[^,'"\[\]\s]+/gi,Xhe=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,fn,jo,zS,AP,_s={},Mw={},K9,Y9=function(e){return(Mw=np(e,_s))&&Gi},IP=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},_y=function(e,n){return!n&&console.warn(e)},Q9=function(e,n){return e&&(_s[e]=n)&&Mw&&(Mw[e]=n)||_s},wy=function(){return 0},Jhe={suppressEvents:!0,isStart:!0,kill:!1},g_={suppressEvents:!0,kill:!1},Zhe={suppressEvents:!0},CP={},gc=[],WS={},X9,rs={},ib={},KL=30,y_=[],RP="",PP=function(e){var n=e[0],r,i;if(ca(n)||Sn(n)||(e=[e]),!(r=(n._gsap||{}).harness)){for(i=y_.length;i--&&!y_[i].targetTest(n););r=y_[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new xq(e[i],r)))||e.splice(i,1);return e},Ju=function(e){return e._gsap||PP($s(e))[0]._gsap},J9=function(e,n,r){return(r=e[n])&&Sn(r)?e[n]():TP(r)&&e.getAttribute&&e.getAttribute(n)||r},zi=function(e,n){return(e=e.split(",")).forEach(n)||e},kn=function(e){return Math.round(e*1e5)/1e5||0},Gn=function(e){return Math.round(e*1e7)/1e7||0},gf=function(e,n){var r=n.charAt(0),i=parseFloat(n.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},efe=function(e,n){for(var r=n.length,i=0;e.indexOf(n[i])<0&&++i<r;);return i<r},Vw=function(){var e=gc.length,n=gc.slice(0),r,i;for(WS={},gc.length=0,r=0;r<e;r++)i=n[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},NP=function(e){return!!(e._initted||e._startAt||e.add)},Z9=function(e,n,r,i){gc.length&&!Nr&&Vw(),e.render(n,r,!!(Nr&&n<0&&NP(e))),gc.length&&!Nr&&Vw()},eq=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(G9).length<2?n:wr(e)?e.trim():e},tq=function(e){return e},ws=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},tfe=function(e){return function(n,r){for(var i in r)i in n||i==="duration"&&e||i==="ease"||(n[i]=r[i])}},np=function(e,n){for(var r in n)e[r]=n[r];return e},YL=function t(e,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=ca(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},jw=function(e,n){var r={},i;for(i in e)i in n||(r[i]=e[i]);return r},lg=function(e){var n=e.parent||fn,r=e.keyframes?tfe(ti(e.keyframes)):ws;if(qi(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},nfe=function(e,n){for(var r=e.length,i=r===n.length;i&&r--&&e[r]===n[r];);return r<0},nq=function(e,n,r,i,s){var o=e[i],a;if(s)for(a=n[s];o&&o[s]>a;)o=o._prev;return o?(n._next=o._next,o._next=n):(n._next=e[r],e[r]=n),n._next?n._next._prev=n:e[i]=n,n._prev=o,n.parent=n._dp=e,n},_x=function(e,n,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=n._prev,o=n._next;s?s._next=o:e[r]===n&&(e[r]=o),o?o._prev=s:e[i]===n&&(e[i]=s),n._next=n._prev=n.parent=null},Lc=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Zu=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},rfe=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},HS=function(e,n,r,i){return e._startAt&&(Nr?e._startAt.revert(g_):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,i))},ife=function t(e){return!e||e._ts&&t(e.parent)},QL=function(e){return e._repeat?rp(e._tTime,e=e.duration()+e._rDelay)*e:0},rp=function(e,n){var r=Math.floor(e=Gn(e/n));return e&&r===e?r-1:r},Fw=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},wx=function(e){return e._end=Gn(e._start+(e._tDur/Math.abs(e._ts||e._rts||Lt)||0))},xx=function(e,n){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Gn(r._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),wx(e),r._dirty||Zu(r,e)),e},rq=function(e,n){var r;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(r=Fw(e.rawTime(),n),(!n._dur||vv(0,n.totalDuration(),r)-n._tTime>Lt)&&n.render(r,!0)),Zu(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-Lt}},Uo=function(e,n,r,i){return n.parent&&Lc(n),n._start=Gn((tl(r)?r:r||e!==fn?Rs(e,r,n):e._time)+n._delay),n._end=Gn(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),nq(e,n,"_first","_last",e._sort?"_start":0),GS(n)||(e._recent=n),i||rq(e,n),e._ts<0&&xx(e,e._tTime),e},iq=function(e,n){return(_s.ScrollTrigger||IP("scrollTrigger",n))&&_s.ScrollTrigger.create(n,e)},sq=function(e,n,r,i,s){if(OP(e,n,s),!e._initted)return 1;if(!r&&e._pt&&!Nr&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&X9!==as.frame)return gc.push(e),e._lazy=[s,i],1},sfe=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},GS=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},ofe=function(e,n,r,i){var s=e.ratio,o=n<0||!n&&(!e._start&&sfe(e)&&!(!e._initted&&GS(e))||(e._ts<0||e._dp._ts<0)&&!GS(e))?0:1,a=e._rDelay,l=0,c,u,d;if(a&&e._repeat&&(l=vv(0,e._tDur,n),u=rp(l,a),e._yoyo&&u&1&&(o=1-o),u!==rp(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||Nr||i||e._zTime===Lt||!n&&e._zTime){if(!e._initted&&sq(e,n,i,r,l))return;for(d=e._zTime,e._zTime=n||(r?Lt:0),r||(r=n&&!d),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;n<0&&HS(e,n,r,!0),e._onUpdate&&!r&&us(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&us(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===o&&(o&&Lc(e,1),!r&&!Nr&&(us(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},afe=function(e,n,r){var i;if(r>n)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>n)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<n)return i;i=i._prev}},ip=function(e,n,r,i){var s=e._repeat,o=Gn(n)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Gn(o*(s+1)+e._rDelay*s):o,a>0&&!i&&xx(e,e._tTime=e._tDur*a),e.parent&&wx(e),r||Zu(e.parent,e),e},XL=function(e){return e instanceof vi?Zu(e):ip(e,e._dur)},lfe={_start:0,endTime:wy,totalDuration:wy},Rs=function t(e,n,r){var i=e.labels,s=e._recent||lfe,o=e.duration()>=Us?s.endTime(!1):e._dur,a,l,c;return wr(n)&&(isNaN(n)||n in i)?(l=n.charAt(0),c=n.substr(-1)==="%",a=n.indexOf("="),l==="<"||l===">"?(a>=0&&(n=n.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(n.substr(1))||0)*(c?(a<0?s:r).totalDuration()/100:1)):a<0?(n in i||(i[n]=o),i[n]):(l=parseFloat(n.charAt(a-1)+n.substr(a+1)),c&&r&&(l=l/100*(ti(r)?r[0]:r).totalDuration()),a>1?t(e,n.substr(0,a-1),r)+l:o+l)):n==null?o:+n},cg=function(e,n,r){var i=tl(n[1]),s=(i?2:1)+(e<2?0:1),o=n[s],a,l;if(i&&(o.duration=n[1]),o.parent=r,e){for(a=o,l=r;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=qi(l.vars.inherit)&&l.parent;o.immediateRender=qi(a.immediateRender),e<2?o.runBackwards=1:o.startAt=n[s-1]}return new Wn(n[0],o,n[s+1])},ru=function(e,n){return e||e===0?n(e):n},vv=function(e,n,r){return r<e?e:r>n?n:r},Qr=function(e,n){return!wr(e)||!(n=Xhe.exec(e))?"":n[1]},cfe=function(e,n,r){return ru(r,function(i){return vv(e,n,i)})},KS=[].slice,oq=function(e,n){return e&&ca(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&ca(e[0]))&&!e.nodeType&&e!==jo},ufe=function(e,n,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return wr(i)&&!n||oq(i,1)?(s=r).push.apply(s,$s(i)):r.push(i)})||r},$s=function(e,n,r){return ln&&!n&&ln.selector?ln.selector(e):wr(e)&&!r&&(zS||!sp())?KS.call((n||AP).querySelectorAll(e),0):ti(e)?ufe(e,r):oq(e)?KS.call(e,0):e?[e]:[]},YS=function(e){return e=$s(e)[0]||_y("Invalid scope")||{},function(n){var r=e.current||e.nativeElement||e;return $s(n,r.querySelectorAll?r:r===e?_y("Invalid scope")||AP.createElement("div"):e)}},aq=function(e){return e.sort(function(){return .5-Math.random()})},lq=function(e){if(Sn(e))return e;var n=ca(e)?e:{each:e},r=ed(n.ease),i=n.from||0,s=parseFloat(n.base)||0,o={},a=i>0&&i<1,l=isNaN(i)||a,c=n.axis,u=i,d=i;return wr(i)?u=d={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(u=i[0],d=i[1]),function(h,f,g){var m=(g||n).length,v=o[m],y,w,E,S,C,N,T,A,P;if(!v){if(P=n.grid==="auto"?0:(n.grid||[1,Us])[1],!P){for(T=-Us;T<(T=g[P++].getBoundingClientRect().left)&&P<m;);P<m&&P--}for(v=o[m]=[],y=l?Math.min(P,m)*u-.5:i%P,w=P===Us?0:l?m*d/P-.5:i/P|0,T=0,A=Us,N=0;N<m;N++)E=N%P-y,S=w-(N/P|0),v[N]=C=c?Math.abs(c==="y"?S:E):q9(E*E+S*S),C>T&&(T=C),C<A&&(A=C);i==="random"&&aq(v),v.max=T-A,v.min=A,v.v=m=(parseFloat(n.amount)||parseFloat(n.each)*(P>m?m-1:c?c==="y"?m/P:P:Math.max(P,m/P))||0)*(i==="edges"?-1:1),v.b=m<0?s-m:s,v.u=Qr(n.amount||n.each)||0,r=r&&m<0?vq(r):r}return m=(v[h]-v.min)/v.max||0,Gn(v.b+(r?r(m):m)*v.v)+v.u}},QS=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=Gn(Math.round(parseFloat(r)/e)*e*n);return(i-i%1)/n+(tl(r)?0:Qr(r))}},cq=function(e,n){var r=ti(e),i,s;return!r&&ca(e)&&(i=r=e.radius||Us,e.values?(e=$s(e.values),(s=!tl(e[0]))&&(i*=i)):e=QS(e.increment)),ru(n,r?Sn(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=Us,u=0,d=e.length,h,f;d--;)s?(h=e[d].x-a,f=e[d].y-l,h=h*h+f*f):h=Math.abs(e[d]-a),h<c&&(c=h,u=d);return u=!i||c<=i?e[u]:o,s||u===o||tl(o)?u:u+Qr(o)}:QS(e))},uq=function(e,n,r,i){return ru(ti(e)?!n:r===!0?!!(r=0):!i,function(){return ti(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(n-e+r*.99))/r)*r*i)/i})},dfe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduce(function(s,o){return o(s)},i)}},hfe=function(e,n){return function(r){return e(parseFloat(r))+(n||Qr(r))}},ffe=function(e,n,r){return hq(e,n,0,1,r)},dq=function(e,n,r){return ru(r,function(i){return e[~~n(i)]})},pfe=function t(e,n,r){var i=n-e;return ti(e)?dq(e,t(0,e.length),n):ru(r,function(s){return(i+(s-e)%i)%i+e})},mfe=function t(e,n,r){var i=n-e,s=i*2;return ti(e)?dq(e,t(0,e.length-1),n):ru(r,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},xy=function(e){for(var n=0,r="",i,s,o,a;~(i=e.indexOf("random(",n));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?G9:qS),r+=e.substr(n,i-n)+uq(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),n=o+1;return r+e.substr(n,e.length-n)},hq=function(e,n,r,i,s){var o=n-e,a=i-r;return ru(s,function(l){return r+((l-e)/o*a||0)})},gfe=function t(e,n,r,i){var s=isNaN(e+n)?0:function(f){return(1-f)*e+f*n};if(!s){var o=wr(e),a={},l,c,u,d,h;if(r===!0&&(i=1)&&(r=null),o)e={p:e},n={p:n};else if(ti(e)&&!ti(n)){for(u=[],d=e.length,h=d-2,c=1;c<d;c++)u.push(t(e[c-1],e[c]));d--,s=function(g){g*=d;var m=Math.min(h,~~g);return u[m](g-m)},r=n}else i||(e=np(ti(e)?[]:{},e));if(!u){for(l in n)kP.call(a,e,l,"get",n[l]);s=function(g){return MP(g,a)||(o?e.p:e)}}}return ru(r,s)},JL=function(e,n,r){var i=e.labels,s=Us,o,a,l;for(o in i)a=i[o]-n,a<0==!!r&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},us=function(e,n,r){var i=e.vars,s=i[n],o=ln,a=e._ctx,l,c,u;if(s)return l=i[n+"Params"],c=i.callbackScope||e,r&&gc.length&&Vw(),a&&(ln=a),u=l?s.apply(c,l):s.call(c),ln=o,u},Am=function(e){return Lc(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Nr),e.progress()<1&&us(e,"onInterrupt"),e},Zh,fq=[],pq=function(e){if(e)if(e=!e.name&&e.default||e,SP()||e.headless){var n=e.name,r=Sn(e),i=n&&!r&&e.init?function(){this._props=[]}:e,s={init:wy,render:MP,add:kP,kill:kfe,modifier:Nfe,rawVars:0},o={targetTest:0,get:0,getSetter:LP,aliases:{},register:0};if(sp(),e!==i){if(rs[n])return;ws(i,ws(jw(e,s),o)),np(i.prototype,np(s,jw(e,o))),rs[i.prop=n]=i,e.targetTest&&(y_.push(i),CP[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}Q9(n,i),e.register&&e.register(Gi,i,Wi)}else fq.push(e)},Dt=255,Im={aqua:[0,Dt,Dt],lime:[0,Dt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Dt],navy:[0,0,128],white:[Dt,Dt,Dt],olive:[128,128,0],yellow:[Dt,Dt,0],orange:[Dt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Dt,0,0],pink:[Dt,192,203],cyan:[0,Dt,Dt],transparent:[Dt,Dt,Dt,0]},sb=function(e,n,r){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(r-n)*e*6:e<.5?r:e*3<2?n+(r-n)*(2/3-e)*6:n)*Dt+.5|0},mq=function(e,n,r){var i=e?tl(e)?[e>>16,e>>8&Dt,e&Dt]:0:Im.black,s,o,a,l,c,u,d,h,f,g;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Im[e])i=Im[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&Dt,i&Dt,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&Dt,e&Dt]}else if(e.substr(0,3)==="hsl"){if(i=g=e.match(qS),!n)l=+i[0]%360/360,c=+i[1]/100,u=+i[2]/100,o=u<=.5?u*(c+1):u+c-u*c,s=u*2-o,i.length>3&&(i[3]*=1),i[0]=sb(l+1/3,s,o),i[1]=sb(l,s,o),i[2]=sb(l-1/3,s,o);else if(~e.indexOf("="))return i=e.match(W9),r&&i.length<4&&(i[3]=1),i}else i=e.match(qS)||Im.transparent;i=i.map(Number)}return n&&!g&&(s=i[0]/Dt,o=i[1]/Dt,a=i[2]/Dt,d=Math.max(s,o,a),h=Math.min(s,o,a),u=(d+h)/2,d===h?l=c=0:(f=d-h,c=u>.5?f/(2-d-h):f/(d+h),l=d===s?(o-a)/f+(o<a?6:0):d===o?(a-s)/f+2:(s-o)/f+4,l*=60),i[0]=~~(l+.5),i[1]=~~(c*100+.5),i[2]=~~(u*100+.5)),r&&i.length<4&&(i[3]=1),i},gq=function(e){var n=[],r=[],i=-1;return e.split(yc).forEach(function(s){var o=s.match(Jh)||[];n.push.apply(n,o),r.push(i+=o.length+1)}),n.c=r,n},ZL=function(e,n,r){var i="",s=(e+i).match(yc),o=n?"hsla(":"rgba(",a=0,l,c,u,d;if(!s)return e;if(s=s.map(function(h){return(h=mq(h,n,1))&&o+(n?h[0]+","+h[1]+"%,"+h[2]+"%,"+h[3]:h.join(","))+")"}),r&&(u=gq(e),l=r.c,l.join(i)!==u.c.join(i)))for(c=e.replace(yc,"1").split(Jh),d=c.length-1;a<d;a++)i+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(u.length?u:s.length?s:r).shift());if(!c)for(c=e.split(yc),d=c.length-1;a<d;a++)i+=c[a]+s[a];return i+c[d]},yc=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Im)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),yfe=/hsl[a]?\(/,yq=function(e){var n=e.join(" "),r;if(yc.lastIndex=0,yc.test(n))return r=yfe.test(n),e[1]=ZL(e[1],r),e[0]=ZL(e[0],r,gq(e[1])),!0},Ey,as=function(){var t=Date.now,e=500,n=33,r=t(),i=r,s=1e3/240,o=s,a=[],l,c,u,d,h,f,g=function m(v){var y=t()-i,w=v===!0,E,S,C,N;if((y>e||y<0)&&(r+=y-n),i+=y,C=i-r,E=C-o,(E>0||w)&&(N=++d.frame,h=C-d.time*1e3,d.time=C=C/1e3,o+=E+(E>=s?4:s-E),S=1),w||(l=c(m)),S)for(f=0;f<a.length;f++)a[f](C,h,N,v)};return d={time:0,frame:0,tick:function(){g(!0)},deltaRatio:function(v){return h/(1e3/(v||60))},wake:function(){K9&&(!zS&&SP()&&(jo=zS=window,AP=jo.document||{},_s.gsap=Gi,(jo.gsapVersions||(jo.gsapVersions=[])).push(Gi.version),Y9(Mw||jo.GreenSockGlobals||!jo.gsap&&jo||{}),fq.forEach(pq)),u=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&d.sleep(),c=u||function(v){return setTimeout(v,o-d.time*1e3+1|0)},Ey=1,g(2))},sleep:function(){(u?cancelAnimationFrame:clearTimeout)(l),Ey=0,c=wy},lagSmoothing:function(v,y){e=v||1/0,n=Math.min(y||33,e)},fps:function(v){s=1e3/(v||240),o=d.time*1e3+s},add:function(v,y,w){var E=y?function(S,C,N,T){v(S,C,N,T),d.remove(E)}:v;return d.remove(v),a[w?"unshift":"push"](E),sp(),E},remove:function(v,y){~(y=a.indexOf(v))&&a.splice(y,1)&&f>=y&&f--},_listeners:a},d}(),sp=function(){return!Ey&&as.wake()},ct={},vfe=/^[\d.\-M][\d.\-,\s]/,_fe=/["']/g,wfe=function(e){for(var n={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,o=r.length,a,l,c;s<o;s++)l=r[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),n[i]=isNaN(c)?c.replace(_fe,"").trim():+c,i=l.substr(a+1).trim();return n},xfe=function(e){var n=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",n);return e.substring(n,~i&&i<r?e.indexOf(")",r+1):r)},Efe=function(e){var n=(e+"").split("("),r=ct[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[wfe(n[1])]:xfe(e).split(",").map(eq)):ct._CE&&vfe.test(e)?ct._CE("",e):r},vq=function(e){return function(n){return 1-e(1-n)}},_q=function t(e,n){for(var r=e._first,i;r;)r instanceof vi?t(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?t(r.timeline,n):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=n)),r=r._next},ed=function(e,n){return e&&(Sn(e)?e:ct[e]||Efe(e))||n},Hd=function(e,n,r,i){r===void 0&&(r=function(l){return 1-n(1-l)}),i===void 0&&(i=function(l){return l<.5?n(l*2)/2:1-n((1-l)*2)/2});var s={easeIn:n,easeOut:r,easeInOut:i},o;return zi(e,function(a){ct[a]=_s[a]=s,ct[o=a.toLowerCase()]=r;for(var l in s)ct[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=ct[a+"."+l]=s[l]}),s},wq=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},ob=function t(e,n,r){var i=n>=1?n:1,s=(r||(e?.3:.45))/(n<1?n:1),o=s/$S*(Math.asin(1/i)||0),a=function(u){return u===1?1:i*Math.pow(2,-10*u)*Qhe((u-o)*s)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:wq(a);return s=$S/s,l.config=function(c,u){return t(e,c,u)},l},ab=function t(e,n){n===void 0&&(n=1.70158);var r=function(o){return o?--o*o*((n+1)*o+n)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:wq(r);return i.config=function(s){return t(e,s)},i};zi("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;Hd(t+",Power"+(n-1),e?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})});ct.Linear.easeNone=ct.none=ct.Linear.easeIn;Hd("Elastic",ob("in"),ob("out"),ob());(function(t,e){var n=1/e,r=2*n,i=2.5*n,s=function(a){return a<n?t*a*a:a<r?t*Math.pow(a-1.5/e,2)+.75:a<i?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};Hd("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Hd("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});Hd("Circ",function(t){return-(q9(1-t*t)-1)});Hd("Sine",function(t){return t===1?1:-Yhe(t*Ghe)+1});Hd("Back",ab("in"),ab("out"),ab());ct.SteppedEase=ct.steps=_s.SteppedEase={config:function(e,n){e===void 0&&(e=1);var r=1/e,i=e+(n?0:1),s=n?1:0,o=1-Lt;return function(a){return((i*vv(0,o,a)|0)+s)*r}}};tp.ease=ct["quad.out"];zi("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return RP+=t+","+t+"Params,"});var xq=function(e,n){this.id=Khe++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:J9,this.set=n?n.getSetter:LP},by=function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,ip(this,+n.duration,1,1),this.data=n.data,ln&&(this._ctx=ln,ln.data.push(this)),Ey||as.wake()}var e=t.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,ip(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(sp(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(xx(this,r),!s._dp||s.parent||rq(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Uo(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Lt||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),Z9(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+QL(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+QL(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?rp(this._tTime,s)+1:1},e.timeScale=function(r,i){if(!arguments.length)return this._rts===-Lt?0:this._rts;if(this._rts===r)return this;var s=this.parent&&this._ts?Fw(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-Lt?0:this._rts,this.totalTime(vv(-Math.abs(this._delay),this.totalDuration(),s),i!==!1),wx(this),rfe(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(sp(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Lt&&(this._tTime-=Lt)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Uo(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(qi(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Fw(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=Zhe);var i=Nr;return Nr=r,NP(this)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),Nr=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,XL(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,XL(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(Rs(this,r),qi(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,qi(i)),this._dur||(this._zTime=-Lt),this},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-Lt:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Lt,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-Lt)},e.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this;return new Promise(function(s){var o=Sn(r)?r:tq,a=function(){var c=i.then;i.then=null,Sn(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=c),s(o),i.then=c};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){Am(this)},t}();ws(by.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Lt,_prom:0,_ps:!1,_rts:1});var vi=function(t){$9(e,t);function e(r,i){var s;return r===void 0&&(r={}),s=t.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=qi(r.sortChildren),fn&&Uo(r.parent||fn,Aa(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&iq(Aa(s),r.scrollTrigger),s}var n=e.prototype;return n.to=function(i,s,o){return cg(0,arguments,this),this},n.from=function(i,s,o){return cg(1,arguments,this),this},n.fromTo=function(i,s,o,a){return cg(2,arguments,this),this},n.set=function(i,s,o){return s.duration=0,s.parent=this,lg(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Wn(i,s,Rs(this,o),1),this},n.call=function(i,s,o){return Uo(this,Wn.delayedCall(0,i,s),o)},n.staggerTo=function(i,s,o,a,l,c,u){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=u,o.parent=this,new Wn(i,o,Rs(this,l)),this},n.staggerFrom=function(i,s,o,a,l,c,u){return o.runBackwards=1,lg(o).immediateRender=qi(o.immediateRender),this.staggerTo(i,s,o,a,l,c,u)},n.staggerFromTo=function(i,s,o,a,l,c,u,d){return a.startAt=o,lg(a).immediateRender=qi(a.immediateRender),this.staggerTo(i,s,a,l,c,u,d)},n.render=function(i,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=i<=0?0:Gn(i),d=this._zTime<0!=i<0&&(this._initted||!c),h,f,g,m,v,y,w,E,S,C,N,T;if(this!==fn&&u>l&&i>=0&&(u=l),u!==this._tTime||o||d){if(a!==this._time&&c&&(u+=this._time-a,i+=this._time-a),h=u,S=this._start,E=this._ts,y=!E,d&&(c||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(N=this._yoyo,v=c+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(v*100+i,s,o);if(h=Gn(u%v),u===l?(m=this._repeat,h=c):(C=Gn(u/v),m=~~C,m&&m===C&&(h=c,m--),h>c&&(h=c)),C=rp(this._tTime,v),!a&&this._tTime&&C!==m&&this._tTime-C*v-this._dur<=0&&(C=m),N&&m&1&&(h=c-h,T=1),m!==C&&!this._lock){var A=N&&C&1,P=A===(N&&m&1);if(m<C&&(A=!A),a=A?0:u%c?c:u,this._lock=1,this.render(a||(T?0:Gn(m*v)),s,!c)._lock=0,this._tTime=u,!s&&this.parent&&us(this,"onRepeat"),this.vars.repeatRefresh&&!T&&(this.invalidate()._lock=1),a&&a!==this._time||y!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,P&&(this._lock=2,a=A?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!T&&this.invalidate()),this._lock=0,!this._ts&&!y)return this;_q(this,T)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(w=afe(this,Gn(a),Gn(h)),w&&(u-=h-(h=w._start))),this._tTime=u,this._time=h,this._act=!E,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&u&&!s&&!C&&(us(this,"onStart"),this._tTime!==u))return this;if(h>=a&&i>=0)for(f=this._first;f;){if(g=f._next,(f._act||h>=f._start)&&f._ts&&w!==f){if(f.parent!==this)return this.render(i,s,o);if(f.render(f._ts>0?(h-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(h-f._start)*f._ts,s,o),h!==this._time||!this._ts&&!y){w=0,g&&(u+=this._zTime=-Lt);break}}f=g}else{f=this._last;for(var k=i<0?i:h;f;){if(g=f._prev,(f._act||k<=f._end)&&f._ts&&w!==f){if(f.parent!==this)return this.render(i,s,o);if(f.render(f._ts>0?(k-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(k-f._start)*f._ts,s,o||Nr&&NP(f)),h!==this._time||!this._ts&&!y){w=0,g&&(u+=this._zTime=k?-Lt:Lt);break}}f=g}}if(w&&!s&&(this.pause(),w.render(h>=a?0:-Lt)._zTime=h>=a?1:-1,this._ts))return this._start=S,wx(this),this.render(i,s,o);this._onUpdate&&!s&&us(this,"onUpdate",!0),(u===l&&this._tTime>=this.totalDuration()||!u&&a)&&(S===this._start||Math.abs(E)!==Math.abs(this._ts))&&(this._lock||((i||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&Lc(this,1),!s&&!(i<0&&!a)&&(u||a||!l)&&(us(this,u===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(i,s){var o=this;if(tl(s)||(s=Rs(this,s,i)),!(i instanceof by)){if(ti(i))return i.forEach(function(a){return o.add(a,s)}),this;if(wr(i))return this.addLabel(i,s);if(Sn(i))i=Wn.delayedCall(0,i);else return this}return this!==i?Uo(this,i,s):this},n.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-Us);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof Wn?s&&l.push(c):(o&&l.push(c),i&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},n.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},n.remove=function(i){return wr(i)?this.removeLabel(i):Sn(i)?this.killTweensOf(i):(i.parent===this&&_x(this,i),i===this._recent&&(this._recent=this._last),Zu(this))},n.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Gn(as.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),t.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},n.addLabel=function(i,s){return this.labels[i]=Rs(this,s),this},n.removeLabel=function(i){return delete this.labels[i],this},n.addPause=function(i,s,o){var a=Wn.delayedCall(0,s||wy,o);return a.data="isPause",this._hasPause=1,Uo(this,a,Rs(this,i))},n.removePause=function(i){var s=this._first;for(i=Rs(this,i);s;)s._start===i&&s.data==="isPause"&&Lc(s),s=s._next},n.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),l=a.length;l--;)Xl!==a[l]&&a[l].kill(i,s);return this},n.getTweensOf=function(i,s){for(var o=[],a=$s(i),l=this._first,c=tl(s),u;l;)l instanceof Wn?efe(l._targets,a)&&(c?(!Xl||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(u=l.getTweensOf(a,s)).length&&o.push.apply(o,u),l=l._next;return o},n.tweenTo=function(i,s){s=s||{};var o=this,a=Rs(o,i),l=s,c=l.startAt,u=l.onStart,d=l.onStartParams,h=l.immediateRender,f,g=Wn.to(o,ws({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||Lt,onStart:function(){if(o.pause(),!f){var v=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());g._dur!==v&&ip(g,v,0,1).render(g._time,!0,!0),f=1}u&&u.apply(g,d||[])}},s));return h?g.render(0):g},n.tweenFromTo=function(i,s,o){return this.tweenTo(s,ws({startAt:{time:Rs(this,i)}},o))},n.recent=function(){return this._recent},n.nextLabel=function(i){return i===void 0&&(i=this._time),JL(this,Rs(this,i))},n.previousLabel=function(i){return i===void 0&&(i=this._time),JL(this,Rs(this,i),1)},n.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Lt)},n.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,c;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=i);return Zu(this)},n.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return t.prototype.invalidate.call(this,i)},n.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Zu(this)},n.totalDuration=function(i){var s=0,o=this,a=o._last,l=Us,c,u,d;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(d=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),u=a._start,u>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,Uo(o,a,u-a._delay,1)._lock=0):l=u,u<0&&a._ts&&(s-=u,(!d&&!o._dp||d&&d.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;ip(o,o===fn&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(fn._ts&&(Z9(fn,Fw(i,fn)),X9=as.frame),as.frame>=KL){KL+=ms.autoSleep||120;var s=fn._first;if((!s||!s._ts)&&ms.autoSleep&&as._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||as.sleep()}}},e}(by);ws(vi.prototype,{_lock:0,_hasPause:0,_forcing:0});var bfe=function(e,n,r,i,s,o,a){var l=new Wi(this._pt,e,n,0,1,Iq,null,s),c=0,u=0,d,h,f,g,m,v,y,w;for(l.b=r,l.e=i,r+="",i+="",(y=~i.indexOf("random("))&&(i=xy(i)),o&&(w=[r,i],o(w,e,n),r=w[0],i=w[1]),h=r.match(rb)||[];d=rb.exec(i);)g=d[0],m=i.substring(c,d.index),f?f=(f+1)%5:m.substr(-5)==="rgba("&&(f=1),g!==h[u++]&&(v=parseFloat(h[u-1])||0,l._pt={_next:l._pt,p:m||u===1?m:",",s:v,c:g.charAt(1)==="="?gf(v,g)-v:parseFloat(g)-v,m:f&&f<4?Math.round:0},c=rb.lastIndex);return l.c=c<i.length?i.substring(c,i.length):"",l.fp=a,(H9.test(i)||y)&&(l.e=0),this._pt=l,l},kP=function(e,n,r,i,s,o,a,l,c,u){Sn(i)&&(i=i(s||0,e,o));var d=e[n],h=r!=="get"?r:Sn(d)?c?e[n.indexOf("set")||!Sn(e["get"+n.substr(3)])?n:"get"+n.substr(3)](c):e[n]():d,f=Sn(d)?c?Cfe:Sq:DP,g;if(wr(i)&&(~i.indexOf("random(")&&(i=xy(i)),i.charAt(1)==="="&&(g=gf(h,i)+(Qr(h)||0),(g||g===0)&&(i=g))),!u||h!==i||XS)return!isNaN(h*i)&&i!==""?(g=new Wi(this._pt,e,n,+h||0,i-(h||0),typeof d=="boolean"?Pfe:Aq,0,f),c&&(g.fp=c),a&&g.modifier(a,this,e),this._pt=g):(!d&&!(n in e)&&IP(n,i),bfe.call(this,e,n,h,i,f,l||ms.stringFilter,c))},Tfe=function(e,n,r,i,s){if(Sn(e)&&(e=ug(e,s,n,r,i)),!ca(e)||e.style&&e.nodeType||ti(e)||z9(e))return wr(e)?ug(e,s,n,r,i):e;var o={},a;for(a in e)o[a]=ug(e[a],s,n,r,i);return o},Eq=function(e,n,r,i,s,o){var a,l,c,u;if(rs[e]&&(a=new rs[e]).init(s,a.rawVars?n[e]:Tfe(n[e],i,s,o,r),r,i,o)!==!1&&(r._pt=l=new Wi(r._pt,s,e,0,1,a.render,a,0,a.priority),r!==Zh))for(c=r._ptLookup[r._targets.indexOf(s)],u=a._props.length;u--;)c[a._props[u]]=l;return a},Xl,XS,OP=function t(e,n,r){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,l=i.lazy,c=i.onUpdate,u=i.runBackwards,d=i.yoyoEase,h=i.keyframes,f=i.autoRevert,g=e._dur,m=e._startAt,v=e._targets,y=e.parent,w=y&&y.data==="nested"?y.vars.targets:v,E=e._overwrite==="auto"&&!bP,S=e.timeline,C,N,T,A,P,k,M,O,D,U,J,Q,H;if(S&&(!h||!s)&&(s="none"),e._ease=ed(s,tp.ease),e._yEase=d?vq(ed(d===!0?s:d,tp.ease)):0,d&&e._yoyo&&!e._repeat&&(d=e._yEase,e._yEase=e._ease,e._ease=d),e._from=!S&&!!i.runBackwards,!S||h&&!i.stagger){if(O=v[0]?Ju(v[0]).harness:0,Q=O&&i[O.prop],C=jw(i,CP),m&&(m._zTime<0&&m.progress(1),n<0&&u&&a&&!f?m.render(-1,!0):m.revert(u&&g?g_:Jhe),m._lazy=0),o){if(Lc(e._startAt=Wn.set(v,ws({data:"isStart",overwrite:!1,parent:y,immediateRender:!0,lazy:!m&&qi(l),startAt:null,delay:0,onUpdate:c&&function(){return us(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Nr||!a&&!f)&&e._startAt.revert(g_),a&&g&&n<=0&&r<=0){n&&(e._zTime=n);return}}else if(u&&g&&!m){if(n&&(a=!1),T=ws({overwrite:!1,data:"isFromStart",lazy:a&&!m&&qi(l),immediateRender:a,stagger:0,parent:y},C),Q&&(T[O.prop]=Q),Lc(e._startAt=Wn.set(v,T)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Nr?e._startAt.revert(g_):e._startAt.render(-1,!0)),e._zTime=n,!a)t(e._startAt,Lt,Lt);else if(!n)return}for(e._pt=e._ptCache=0,l=g&&qi(l)||l&&!g,N=0;N<v.length;N++){if(P=v[N],M=P._gsap||PP(v)[N]._gsap,e._ptLookup[N]=U={},WS[M.id]&&gc.length&&Vw(),J=w===v?N:w.indexOf(P),O&&(D=new O).init(P,Q||C,e,J,w)!==!1&&(e._pt=A=new Wi(e._pt,P,D.name,0,1,D.render,D,0,D.priority),D._props.forEach(function(B){U[B]=A}),D.priority&&(k=1)),!O||Q)for(T in C)rs[T]&&(D=Eq(T,C,e,J,P,w))?D.priority&&(k=1):U[T]=A=kP.call(e,P,T,"get",C[T],J,w,0,i.stringFilter);e._op&&e._op[N]&&e.kill(P,e._op[N]),E&&e._pt&&(Xl=e,fn.killTweensOf(P,U,e.globalTime(n)),H=!e.parent,Xl=0),e._pt&&l&&(WS[M.id]=1)}k&&Cq(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!H,h&&n<=0&&S.render(Us,!0,!0)},Sfe=function(e,n,r,i,s,o,a,l){var c=(e._pt&&e._ptCache||(e._ptCache={}))[n],u,d,h,f;if(!c)for(c=e._ptCache[n]=[],h=e._ptLookup,f=e._targets.length;f--;){if(u=h[f][n],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==n&&u.fp!==n;)u=u._next;if(!u)return XS=1,e.vars[n]="+=0",OP(e,a),XS=0,l?_y(n+" not eligible for reset"):1;c.push(u)}for(f=c.length;f--;)d=c[f],u=d._pt||d,u.s=(i||i===0)&&!s?i:u.s+(i||0)+o*u.c,u.c=r-u.s,d.e&&(d.e=kn(r)+Qr(d.e)),d.b&&(d.b=u.s+Qr(d.b))},Afe=function(e,n){var r=e[0]?Ju(e[0]).harness:0,i=r&&r.aliases,s,o,a,l;if(!i)return n;s=np({},n);for(o in i)if(o in s)for(l=i[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},Ife=function(e,n,r,i){var s=n.ease||i||"power1.inOut",o,a;if(ti(n))a=r[e]||(r[e]=[]),n.forEach(function(l,c){return a.push({t:c/(n.length-1)*100,v:l,e:s})});else for(o in n)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:n[o],e:s})},ug=function(e,n,r,i,s){return Sn(e)?e.call(n,r,i,s):wr(e)&&~e.indexOf("random(")?xy(e):e},bq=RP+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Tq={};zi(bq+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return Tq[t]=1});var Wn=function(t){$9(e,t);function e(r,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=t.call(this,o?i:lg(i))||this;var l=a.vars,c=l.duration,u=l.delay,d=l.immediateRender,h=l.stagger,f=l.overwrite,g=l.keyframes,m=l.defaults,v=l.scrollTrigger,y=l.yoyoEase,w=i.parent||fn,E=(ti(r)||z9(r)?tl(r[0]):"length"in i)?[r]:$s(r),S,C,N,T,A,P,k,M;if(a._targets=E.length?PP(E):_y("GSAP target "+r+" not found. https://gsap.com",!ms.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=f,g||h||p0(c)||p0(u)){if(i=a.vars,S=a.timeline=new vi({data:"nested",defaults:m||{},targets:w&&w.data==="nested"?w.vars.targets:E}),S.kill(),S.parent=S._dp=Aa(a),S._start=0,h||p0(c)||p0(u)){if(T=E.length,k=h&&lq(h),ca(h))for(A in h)~bq.indexOf(A)&&(M||(M={}),M[A]=h[A]);for(C=0;C<T;C++)N=jw(i,Tq),N.stagger=0,y&&(N.yoyoEase=y),M&&np(N,M),P=E[C],N.duration=+ug(c,Aa(a),C,P,E),N.delay=(+ug(u,Aa(a),C,P,E)||0)-a._delay,!h&&T===1&&N.delay&&(a._delay=u=N.delay,a._start+=u,N.delay=0),S.to(P,N,k?k(C,P,E):0),S._ease=ct.none;S.duration()?c=u=0:a.timeline=0}else if(g){lg(ws(S.vars.defaults,{ease:"none"})),S._ease=ed(g.ease||i.ease||"none");var O=0,D,U,J;if(ti(g))g.forEach(function(Q){return S.to(E,Q,">")}),S.duration();else{N={};for(A in g)A==="ease"||A==="easeEach"||Ife(A,g[A],N,g.easeEach);for(A in N)for(D=N[A].sort(function(Q,H){return Q.t-H.t}),O=0,C=0;C<D.length;C++)U=D[C],J={ease:U.e,duration:(U.t-(C?D[C-1].t:0))/100*c},J[A]=U.v,S.to(E,J,O),O+=J.duration;S.duration()<c&&S.to({},{duration:c-S.duration()})}}c||a.duration(c=S.duration())}else a.timeline=0;return f===!0&&!bP&&(Xl=Aa(a),fn.killTweensOf(E),Xl=0),Uo(w,Aa(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(d||!c&&!g&&a._start===Gn(w._time)&&qi(d)&&ife(Aa(a))&&w.data!=="nested")&&(a._tTime=-Lt,a.render(Math.max(0,-u)||0)),v&&iq(Aa(a),v),a}var n=e.prototype;return n.render=function(i,s,o){var a=this._time,l=this._tDur,c=this._dur,u=i<0,d=i>l-Lt&&!u?l:i<Lt?0:i,h,f,g,m,v,y,w,E,S;if(!c)ofe(this,i,s,o);else if(d!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u||this._lazy){if(h=d,E=this.timeline,this._repeat){if(m=c+this._rDelay,this._repeat<-1&&u)return this.totalTime(m*100+i,s,o);if(h=Gn(d%m),d===l?(g=this._repeat,h=c):(v=Gn(d/m),g=~~v,g&&g===v?(h=c,g--):h>c&&(h=c)),y=this._yoyo&&g&1,y&&(S=this._yEase,h=c-h),v=rp(this._tTime,m),h===a&&!o&&this._initted&&g===v)return this._tTime=d,this;g!==v&&(E&&this._yEase&&_q(E,y),this.vars.repeatRefresh&&!y&&!this._lock&&h!==m&&this._initted&&(this._lock=o=1,this.render(Gn(m*g),!0).invalidate()._lock=0))}if(!this._initted){if(sq(this,u?i:h,o,s,d))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&g!==v))return this;if(c!==this._dur)return this.render(i,s,o)}if(this._tTime=d,this._time=h,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=w=(S||this._ease)(h/c),this._from&&(this.ratio=w=1-w),!a&&d&&!s&&!v&&(us(this,"onStart"),this._tTime!==d))return this;for(f=this._pt;f;)f.r(w,f.d),f=f._next;E&&E.render(i<0?i:E._dur*E._ease(h/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(u&&HS(this,i,s,o),us(this,"onUpdate")),this._repeat&&g!==v&&this.vars.onRepeat&&!s&&this.parent&&us(this,"onRepeat"),(d===this._tDur||!d)&&this._tTime===d&&(u&&!this._onUpdate&&HS(this,i,!0,!0),(i||!c)&&(d===this._tDur&&this._ts>0||!d&&this._ts<0)&&Lc(this,1),!s&&!(u&&!a)&&(d||a||y)&&(us(this,d===l?"onComplete":"onReverseComplete",!0),this._prom&&!(d<l&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),t.prototype.invalidate.call(this,i)},n.resetTo=function(i,s,o,a,l){Ey||as.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||OP(this,c),u=this._ease(c/this._dur),Sfe(this,i,s,o,a,u,c,l)?this.resetTo(i,s,o,a,1):(xx(this,0),this.parent||nq(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Am(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Nr),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,Xl&&Xl.vars.overwrite!==!0)._first||Am(this),this.parent&&o!==this.timeline.totalDuration()&&ip(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=i?$s(i):a,c=this._ptLookup,u=this._pt,d,h,f,g,m,v,y;if((!s||s==="all")&&nfe(a,l))return s==="all"&&(this._pt=0),Am(this);for(d=this._op=this._op||[],s!=="all"&&(wr(s)&&(m={},zi(s,function(w){return m[w]=1}),s=m),s=Afe(a,s)),y=a.length;y--;)if(~l.indexOf(a[y])){h=c[y],s==="all"?(d[y]=s,g=h,f={}):(f=d[y]=d[y]||{},g=s);for(m in g)v=h&&h[m],v&&((!("kill"in v.d)||v.d.kill(m)===!0)&&_x(this,v,"_pt"),delete h[m]),f!=="all"&&(f[m]=1)}return this._initted&&!this._pt&&u&&Am(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return cg(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return cg(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return fn.killTweensOf(i,s,o)},e}(by);ws(Wn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});zi("staggerTo,staggerFrom,staggerFromTo",function(t){Wn[t]=function(){var e=new vi,n=KS.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var DP=function(e,n,r){return e[n]=r},Sq=function(e,n,r){return e[n](r)},Cfe=function(e,n,r,i){return e[n](i.fp,r)},Rfe=function(e,n,r){return e.setAttribute(n,r)},LP=function(e,n){return Sn(e[n])?Sq:TP(e[n])&&e.setAttribute?Rfe:DP},Aq=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},Pfe=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},Iq=function(e,n){var r=n._pt,i="";if(!e&&n.b)i=n.b;else if(e===1&&n.e)i=n.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=n.c}n.set(n.t,n.p,i,n)},MP=function(e,n){for(var r=n._pt;r;)r.r(e,r.d),r=r._next},Nfe=function(e,n,r,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,n,r),s=o},kfe=function(e){for(var n=this._pt,r,i;n;)i=n._next,n.p===e&&!n.op||n.op===e?_x(this,n,"_pt"):n.dep||(r=1),n=i;return!r},Ofe=function(e,n,r,i){i.mSet(e,n,i.m.call(i.tween,r,i.mt),i)},Cq=function(e){for(var n=e._pt,r,i,s,o;n;){for(r=n._next,i=s;i&&i.pr>n.pr;)i=i._next;(n._prev=i?i._prev:o)?n._prev._next=n:s=n,(n._next=i)?i._prev=n:o=n,n=r}e._pt=s},Wi=function(){function t(n,r,i,s,o,a,l,c,u){this.t=r,this.s=s,this.c=o,this.p=i,this.r=a||Aq,this.d=l||this,this.set=c||DP,this.pr=u||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=Ofe,this.m=r,this.mt=s,this.tween=i},t}();zi(RP+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return CP[t]=1});_s.TweenMax=_s.TweenLite=Wn;_s.TimelineLite=_s.TimelineMax=vi;fn=new vi({sortChildren:!1,defaults:tp,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});ms.stringFilter=yq;var td=[],v_={},Dfe=[],eM=0,Lfe=0,lb=function(e){return(v_[e]||Dfe).map(function(n){return n()})},JS=function(){var e=Date.now(),n=[];e-eM>2&&(lb("matchMediaInit"),td.forEach(function(r){var i=r.queries,s=r.conditions,o,a,l,c;for(a in i)o=jo.matchMedia(i[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,c=1);c&&(r.revert(),l&&n.push(r))}),lb("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),eM=e,lb("matchMedia"))},Rq=function(){function t(n,r){this.selector=r&&YS(r),this.data=[],this._r=[],this.isReverted=!1,this.id=Lfe++,n&&this.add(n)}var e=t.prototype;return e.add=function(r,i,s){Sn(r)&&(s=i,i=r,r=Sn);var o=this,a=function(){var c=ln,u=o.selector,d;return c&&c!==o&&c.data.push(o),s&&(o.selector=YS(s)),ln=o,d=i.apply(o,arguments),Sn(d)&&o._r.push(d),ln=c,o.selector=u,o.isReverted=!1,d};return o.last=a,r===Sn?a(o,function(l){return o.add(null,l)}):r?o[r]=a:a},e.ignore=function(r){var i=ln;ln=null,r(this),ln=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof t?r.push.apply(r,i.getTweens()):i instanceof Wn&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r?function(){for(var a=s.getTweens(),l=s.data.length,c;l--;)c=s.data[l],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(u){return a.splice(a.indexOf(u),1)}));for(a.map(function(u){return{g:u._dur||u._delay||u._sat&&!u._sat.vars.immediateRender?u.globalTime(0):-1/0,t:u}}).sort(function(u,d){return d.g-u.g||-1/0}).forEach(function(u){return u.t.revert(r)}),l=s.data.length;l--;)c=s.data[l],c instanceof vi?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof Wn)&&c.revert&&c.revert(r);s._r.forEach(function(u){return u(r,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),i)for(var o=td.length;o--;)td[o].id===this.id&&td.splice(o,1)},e.revert=function(r){this.kill(r||{})},t}(),Mfe=function(){function t(n){this.contexts=[],this.scope=n,ln&&ln.data.push(this)}var e=t.prototype;return e.add=function(r,i,s){ca(r)||(r={matches:r});var o=new Rq(0,s||this.scope),a=o.conditions={},l,c,u;ln&&!o.selector&&(o.selector=ln.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(c in r)c==="all"?u=1:(l=jo.matchMedia(r[c]),l&&(td.indexOf(o)<0&&td.push(o),(a[c]=l.matches)&&(u=1),l.addListener?l.addListener(JS):l.addEventListener("change",JS)));return u&&i(o,function(d){return o.add(null,d)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},t}(),Bw={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(i){return pq(i)})},timeline:function(e){return new vi(e)},getTweensOf:function(e,n){return fn.getTweensOf(e,n)},getProperty:function(e,n,r,i){wr(e)&&(e=$s(e)[0]);var s=Ju(e||{}).get,o=r?tq:eq;return r==="native"&&(r=""),e&&(n?o((rs[n]&&rs[n].get||s)(e,n,r,i)):function(a,l,c){return o((rs[a]&&rs[a].get||s)(e,a,l,c))})},quickSetter:function(e,n,r){if(e=$s(e),e.length>1){var i=e.map(function(u){return Gi.quickSetter(u,n,r)}),s=i.length;return function(u){for(var d=s;d--;)i[d](u)}}e=e[0]||{};var o=rs[n],a=Ju(e),l=a.harness&&(a.harness.aliases||{})[n]||n,c=o?function(u){var d=new o;Zh._pt=0,d.init(e,r?u+r:u,Zh,0,[e]),d.render(1,d),Zh._pt&&MP(1,Zh)}:a.set(e,l);return o?c:function(u){return c(e,l,r?u+r:u,a,1)}},quickTo:function(e,n,r){var i,s=Gi.to(e,ws((i={},i[n]="+=0.1",i.paused=!0,i.stagger=0,i),r||{})),o=function(l,c,u){return s.resetTo(n,l,c,u)};return o.tween=s,o},isTweening:function(e){return fn.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=ed(e.ease,tp.ease)),YL(tp,e||{})},config:function(e){return YL(ms,e||{})},registerEffect:function(e){var n=e.name,r=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!rs[a]&&!_s[a]&&_y(n+" effect requires "+a+" plugin.")}),ib[n]=function(a,l,c){return r($s(a),ws(l||{},s),c)},o&&(vi.prototype[n]=function(a,l,c){return this.add(ib[n](a,ca(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,n){ct[e]=ed(n)},parseEase:function(e,n){return arguments.length?ed(e,n):ct},getById:function(e){return fn.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var r=new vi(e),i,s;for(r.smoothChildTiming=qi(e.smoothChildTiming),fn.remove(r),r._dp=0,r._time=r._tTime=fn._time,i=fn._first;i;)s=i._next,(n||!(!i._dur&&i instanceof Wn&&i.vars.onComplete===i._targets[0]))&&Uo(r,i,i._start-i._delay),i=s;return Uo(fn,r,0),r},context:function(e,n){return e?new Rq(e,n):ln},matchMedia:function(e){return new Mfe(e)},matchMediaRefresh:function(){return td.forEach(function(e){var n=e.conditions,r,i;for(i in n)n[i]&&(n[i]=!1,r=1);r&&e.revert()})||JS()},addEventListener:function(e,n){var r=v_[e]||(v_[e]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(e,n){var r=v_[e],i=r&&r.indexOf(n);i>=0&&r.splice(i,1)},utils:{wrap:pfe,wrapYoyo:mfe,distribute:lq,random:uq,snap:cq,normalize:ffe,getUnit:Qr,clamp:cfe,splitColor:mq,toArray:$s,selector:YS,mapRange:hq,pipe:dfe,unitize:hfe,interpolate:gfe,shuffle:aq},install:Y9,effects:ib,ticker:as,updateRoot:vi.updateRoot,plugins:rs,globalTimeline:fn,core:{PropTween:Wi,globals:Q9,Tween:Wn,Timeline:vi,Animation:by,getCache:Ju,_removeLinkedListItem:_x,reverting:function(){return Nr},context:function(e){return e&&ln&&(ln.data.push(e),e._ctx=ln),ln},suppressOverwrites:function(e){return bP=e}}};zi("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return Bw[t]=Wn[t]});as.add(vi.updateRoot);Zh=Bw.to({},{duration:0});var Vfe=function(e,n){for(var r=e._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},jfe=function(e,n){var r=e._targets,i,s,o;for(i in n)for(s=r.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=Vfe(o,i)),o&&o.modifier&&o.modifier(n[i],e,r[s],i))},cb=function(e,n){return{name:e,headless:1,rawVars:1,init:function(i,s,o){o._onInit=function(a){var l,c;if(wr(s)&&(l={},zi(s,function(u){return l[u]=1}),s=l),n){l={};for(c in s)l[c]=n(s[c]);s=l}jfe(a,s)}}}},Gi=Bw.registerPlugin({name:"attr",init:function(e,n,r,i,s){var o,a,l;this.tween=r;for(o in n)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",n[o],i,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,n){for(var r=n._pt;r;)Nr?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",headless:1,init:function(e,n){for(var r=n.length;r--;)this.add(e,r,e[r]||0,n[r],0,0,0,0,0,1)}},cb("roundProps",QS),cb("modifiers"),cb("snap",cq))||Bw;Wn.version=vi.version=Gi.version="3.13.0";K9=1;SP()&&sp();ct.Power0;ct.Power1;ct.Power2;ct.Power3;ct.Power4;ct.Linear;ct.Quad;ct.Cubic;ct.Quart;ct.Quint;ct.Strong;ct.Elastic;ct.Back;ct.SteppedEase;ct.Bounce;ct.Sine;ct.Expo;ct.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var tM,Jl,yf,VP,Wu,nM,jP,Ffe=function(){return typeof window<"u"},nl={},Pu=180/Math.PI,vf=Math.PI/180,ph=Math.atan2,rM=1e8,FP=/([A-Z])/g,Bfe=/(left|right|width|margin|padding|x)/i,Ufe=/[\s,\(]\S/,zo={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},ZS=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},$fe=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},qfe=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},zfe=function(e,n){var r=n.s+n.c*e;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},Pq=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},Nq=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},Wfe=function(e,n,r){return e.style[n]=r},Hfe=function(e,n,r){return e.style.setProperty(n,r)},Gfe=function(e,n,r){return e._gsap[n]=r},Kfe=function(e,n,r){return e._gsap.scaleX=e._gsap.scaleY=r},Yfe=function(e,n,r,i,s){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},Qfe=function(e,n,r,i,s){var o=e._gsap;o[n]=r,o.renderTransform(s,o)},gn="transform",Hi=gn+"Origin",Xfe=function t(e,n){var r=this,i=this.target,s=i.style,o=i._gsap;if(e in nl&&s){if(this.tfm=this.tfm||{},e!=="transform")e=zo[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return r.tfm[a]=Ca(i,a)}):this.tfm[e]=o.x?o[e]:Ca(i,e),e===Hi&&(this.tfm.zOrigin=o.zOrigin);else return zo.transform.split(",").forEach(function(a){return t.call(r,a,n)});if(this.props.indexOf(gn)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Hi,n,"")),e=gn}(s||n)&&this.props.push(e,n,s[e])},kq=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Jfe=function(){var e=this.props,n=this.target,r=n.style,i=n._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?n[e[s]](e[s+2]):n[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(FP,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),s=jP(),(!s||!s.isStart)&&!r[gn]&&(kq(r),i.zOrigin&&r[Hi]&&(r[Hi]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},Oq=function(e,n){var r={target:e,props:[],revert:Jfe,save:Xfe};return e._gsap||Gi.core.getCache(e),n&&e.style&&e.nodeType&&n.split(",").forEach(function(i){return r.save(i)}),r},Dq,eA=function(e,n){var r=Jl.createElementNS?Jl.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Jl.createElement(e);return r&&r.style?r:Jl.createElement(e)},qs=function t(e,n,r){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(FP,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&t(e,op(n)||n,1)||""},iM="O,Moz,ms,Ms,Webkit".split(","),op=function(e,n,r){var i=n||Wu,s=i.style,o=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(iM[o]+e in s););return o<0?null:(o===3?"ms":o>=0?iM[o]:"")+e},tA=function(){Ffe()&&window.document&&(tM=window,Jl=tM.document,yf=Jl.documentElement,Wu=eA("div")||{style:{}},eA("div"),gn=op(gn),Hi=gn+"Origin",Wu.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Dq=!!op("perspective"),jP=Gi.core.reverting,VP=1)},sM=function(e){var n=e.ownerSVGElement,r=eA("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),s;i.style.display="block",r.appendChild(i),yf.appendChild(r);try{s=i.getBBox()}catch{}return r.removeChild(i),yf.removeChild(r),s},oM=function(e,n){for(var r=n.length;r--;)if(e.hasAttribute(n[r]))return e.getAttribute(n[r])},Lq=function(e){var n,r;try{n=e.getBBox()}catch{n=sM(e),r=1}return n&&(n.width||n.height)||r||(n=sM(e)),n&&!n.width&&!n.x&&!n.y?{x:+oM(e,["x","cx","x1"])||0,y:+oM(e,["y","cy","y1"])||0,width:0,height:0}:n},Mq=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&Lq(e))},Sd=function(e,n){if(n){var r=e.style,i;n in nl&&n!==Hi&&(n=gn),r.removeProperty?(i=n.substr(0,2),(i==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(i==="--"?n:n.replace(FP,"-$1").toLowerCase())):r.removeAttribute(n)}},Zl=function(e,n,r,i,s,o){var a=new Wi(e._pt,n,r,0,1,o?Nq:Pq);return e._pt=a,a.b=i,a.e=s,e._props.push(r),a},aM={deg:1,rad:1,turn:1},Zfe={grid:1,flex:1},Mc=function t(e,n,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",a=Wu.style,l=Bfe.test(n),c=e.tagName.toLowerCase()==="svg",u=(c?"client":"offset")+(l?"Width":"Height"),d=100,h=i==="px",f=i==="%",g,m,v,y;if(i===o||!s||aM[i]||aM[o])return s;if(o!=="px"&&!h&&(s=t(e,n,r,"px")),y=e.getCTM&&Mq(e),(f||o==="%")&&(nl[n]||~n.indexOf("adius")))return g=y?e.getBBox()[l?"width":"height"]:e[u],kn(f?s/g*d:s/100*g);if(a[l?"width":"height"]=d+(h?o:i),m=i!=="rem"&&~n.indexOf("adius")||i==="em"&&e.appendChild&&!c?e:e.parentNode,y&&(m=(e.ownerSVGElement||{}).parentNode),(!m||m===Jl||!m.appendChild)&&(m=Jl.body),v=m._gsap,v&&f&&v.width&&l&&v.time===as.time&&!v.uncache)return kn(s/v.width*d);if(f&&(n==="height"||n==="width")){var w=e.style[n];e.style[n]=d+i,g=e[u],w?e.style[n]=w:Sd(e,n)}else(f||o==="%")&&!Zfe[qs(m,"display")]&&(a.position=qs(e,"position")),m===e&&(a.position="static"),m.appendChild(Wu),g=Wu[u],m.removeChild(Wu),a.position="absolute";return l&&f&&(v=Ju(m),v.time=as.time,v.width=m[u]),kn(h?g*s/d:g&&s?d/g*s:0)},Ca=function(e,n,r,i){var s;return VP||tA(),n in zo&&n!=="transform"&&(n=zo[n],~n.indexOf(",")&&(n=n.split(",")[0])),nl[n]&&n!=="transform"?(s=Sy(e,i),s=n!=="transformOrigin"?s[n]:s.svg?s.origin:$w(qs(e,Hi))+" "+s.zOrigin+"px"):(s=e.style[n],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=Uw[n]&&Uw[n](e,n,r)||qs(e,n)||J9(e,n)||(n==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?Mc(e,n,s,r)+r:s},epe=function(e,n,r,i){if(!r||r==="none"){var s=op(n,e,1),o=s&&qs(e,s,1);o&&o!==r?(n=s,r=o):n==="borderColor"&&(r=qs(e,"borderTopColor"))}var a=new Wi(this._pt,e.style,n,0,1,Iq),l=0,c=0,u,d,h,f,g,m,v,y,w,E,S,C;if(a.b=r,a.e=i,r+="",i+="",i.substring(0,6)==="var(--"&&(i=qs(e,i.substring(4,i.indexOf(")")))),i==="auto"&&(m=e.style[n],e.style[n]=i,i=qs(e,n)||i,m?e.style[n]=m:Sd(e,n)),u=[r,i],yq(u),r=u[0],i=u[1],h=r.match(Jh)||[],C=i.match(Jh)||[],C.length){for(;d=Jh.exec(i);)v=d[0],w=i.substring(l,d.index),g?g=(g+1)%5:(w.substr(-5)==="rgba("||w.substr(-5)==="hsla(")&&(g=1),v!==(m=h[c++]||"")&&(f=parseFloat(m)||0,S=m.substr((f+"").length),v.charAt(1)==="="&&(v=gf(f,v)+S),y=parseFloat(v),E=v.substr((y+"").length),l=Jh.lastIndex-E.length,E||(E=E||ms.units[n]||S,l===i.length&&(i+=E,a.e+=E)),S!==E&&(f=Mc(e,n,m,E)||0),a._pt={_next:a._pt,p:w||c===1?w:",",s:f,c:y-f,m:g&&g<4||n==="zIndex"?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r=n==="display"&&i==="none"?Nq:Pq;return H9.test(i)&&(a.e=0),this._pt=a,a},lM={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},tpe=function(e){var n=e.split(" "),r=n[0],i=n[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),n[0]=lM[r]||r,n[1]=lM[i]||i,n.join(" ")},npe=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,i=r.style,s=n.u,o=r._gsap,a,l,c;if(s==="all"||s===!0)i.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)a=s[c],nl[a]&&(l=1,a=a==="transformOrigin"?Hi:gn),Sd(r,a);l&&(Sd(r,gn),o&&(o.svg&&r.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",Sy(r,1),o.uncache=1,kq(i)))}},Uw={clearProps:function(e,n,r,i,s){if(s.data!=="isFromStart"){var o=e._pt=new Wi(e._pt,n,r,0,0,npe);return o.u=i,o.pr=-10,o.tween=s,e._props.push(r),1}}},Ty=[1,0,0,1,0,0],Vq={},jq=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},cM=function(e){var n=qs(e,gn);return jq(n)?Ty:n.substr(7).match(W9).map(kn)},BP=function(e,n){var r=e._gsap||Ju(e),i=e.style,s=cM(e),o,a,l,c;return r.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?Ty:s):(s===Ty&&!e.offsetParent&&e!==yf&&!r.svg&&(l=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(c=1,a=e.nextElementSibling,yf.appendChild(e)),s=cM(e),l?i.display=l:Sd(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):yf.removeChild(e))),n&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},nA=function(e,n,r,i,s,o){var a=e._gsap,l=s||BP(e,!0),c=a.xOrigin||0,u=a.yOrigin||0,d=a.xOffset||0,h=a.yOffset||0,f=l[0],g=l[1],m=l[2],v=l[3],y=l[4],w=l[5],E=n.split(" "),S=parseFloat(E[0])||0,C=parseFloat(E[1])||0,N,T,A,P;r?l!==Ty&&(T=f*v-g*m)&&(A=S*(v/T)+C*(-m/T)+(m*w-v*y)/T,P=S*(-g/T)+C*(f/T)-(f*w-g*y)/T,S=A,C=P):(N=Lq(e),S=N.x+(~E[0].indexOf("%")?S/100*N.width:S),C=N.y+(~(E[1]||E[0]).indexOf("%")?C/100*N.height:C)),i||i!==!1&&a.smooth?(y=S-c,w=C-u,a.xOffset=d+(y*f+w*m)-y,a.yOffset=h+(y*g+w*v)-w):a.xOffset=a.yOffset=0,a.xOrigin=S,a.yOrigin=C,a.smooth=!!i,a.origin=n,a.originIsAbsolute=!!r,e.style[Hi]="0px 0px",o&&(Zl(o,a,"xOrigin",c,S),Zl(o,a,"yOrigin",u,C),Zl(o,a,"xOffset",d,a.xOffset),Zl(o,a,"yOffset",h,a.yOffset)),e.setAttribute("data-svg-origin",S+" "+C)},Sy=function(e,n){var r=e._gsap||new xq(e);if("x"in r&&!n&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,o="px",a="deg",l=getComputedStyle(e),c=qs(e,Hi)||"0",u,d,h,f,g,m,v,y,w,E,S,C,N,T,A,P,k,M,O,D,U,J,Q,H,B,W,j,ne,ue,he,Ee,me;return u=d=h=m=v=y=w=E=S=0,f=g=1,r.svg=!!(e.getCTM&&Mq(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(i[gn]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[gn]!=="none"?l[gn]:"")),i.scale=i.rotate=i.translate="none"),T=BP(e,r.svg),r.svg&&(r.uncache?(B=e.getBBox(),c=r.xOrigin-B.x+"px "+(r.yOrigin-B.y)+"px",H=""):H=!n&&e.getAttribute("data-svg-origin"),nA(e,H||c,!!H||r.originIsAbsolute,r.smooth!==!1,T)),C=r.xOrigin||0,N=r.yOrigin||0,T!==Ty&&(M=T[0],O=T[1],D=T[2],U=T[3],u=J=T[4],d=Q=T[5],T.length===6?(f=Math.sqrt(M*M+O*O),g=Math.sqrt(U*U+D*D),m=M||O?ph(O,M)*Pu:0,w=D||U?ph(D,U)*Pu+m:0,w&&(g*=Math.abs(Math.cos(w*vf))),r.svg&&(u-=C-(C*M+N*D),d-=N-(C*O+N*U))):(me=T[6],he=T[7],j=T[8],ne=T[9],ue=T[10],Ee=T[11],u=T[12],d=T[13],h=T[14],A=ph(me,ue),v=A*Pu,A&&(P=Math.cos(-A),k=Math.sin(-A),H=J*P+j*k,B=Q*P+ne*k,W=me*P+ue*k,j=J*-k+j*P,ne=Q*-k+ne*P,ue=me*-k+ue*P,Ee=he*-k+Ee*P,J=H,Q=B,me=W),A=ph(-D,ue),y=A*Pu,A&&(P=Math.cos(-A),k=Math.sin(-A),H=M*P-j*k,B=O*P-ne*k,W=D*P-ue*k,Ee=U*k+Ee*P,M=H,O=B,D=W),A=ph(O,M),m=A*Pu,A&&(P=Math.cos(A),k=Math.sin(A),H=M*P+O*k,B=J*P+Q*k,O=O*P-M*k,Q=Q*P-J*k,M=H,J=B),v&&Math.abs(v)+Math.abs(m)>359.9&&(v=m=0,y=180-y),f=kn(Math.sqrt(M*M+O*O+D*D)),g=kn(Math.sqrt(Q*Q+me*me)),A=ph(J,Q),w=Math.abs(A)>2e-4?A*Pu:0,S=Ee?1/(Ee<0?-Ee:Ee):0),r.svg&&(H=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!jq(qs(e,gn)),H&&e.setAttribute("transform",H))),Math.abs(w)>90&&Math.abs(w)<270&&(s?(f*=-1,w+=m<=0?180:-180,m+=m<=0?180:-180):(g*=-1,w+=w<=0?180:-180)),n=n||r.uncache,r.x=u-((r.xPercent=u&&(!n&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=d-((r.yPercent=d&&(!n&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-d)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=h+o,r.scaleX=kn(f),r.scaleY=kn(g),r.rotation=kn(m)+a,r.rotationX=kn(v)+a,r.rotationY=kn(y)+a,r.skewX=w+a,r.skewY=E+a,r.transformPerspective=S+o,(r.zOrigin=parseFloat(c.split(" ")[2])||!n&&r.zOrigin||0)&&(i[Hi]=$w(c)),r.xOffset=r.yOffset=0,r.force3D=ms.force3D,r.renderTransform=r.svg?ipe:Dq?Fq:rpe,r.uncache=0,r},$w=function(e){return(e=e.split(" "))[0]+" "+e[1]},ub=function(e,n,r){var i=Qr(n);return kn(parseFloat(n)+parseFloat(Mc(e,"x",r+"px",i)))+i},rpe=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,Fq(e,n)},Eu="0deg",om="0px",bu=") ",Fq=function(e,n){var r=n||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.z,c=r.rotation,u=r.rotationY,d=r.rotationX,h=r.skewX,f=r.skewY,g=r.scaleX,m=r.scaleY,v=r.transformPerspective,y=r.force3D,w=r.target,E=r.zOrigin,S="",C=y==="auto"&&e&&e!==1||y===!0;if(E&&(d!==Eu||u!==Eu)){var N=parseFloat(u)*vf,T=Math.sin(N),A=Math.cos(N),P;N=parseFloat(d)*vf,P=Math.cos(N),o=ub(w,o,T*P*-E),a=ub(w,a,-Math.sin(N)*-E),l=ub(w,l,A*P*-E+E)}v!==om&&(S+="perspective("+v+bu),(i||s)&&(S+="translate("+i+"%, "+s+"%) "),(C||o!==om||a!==om||l!==om)&&(S+=l!==om||C?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+bu),c!==Eu&&(S+="rotate("+c+bu),u!==Eu&&(S+="rotateY("+u+bu),d!==Eu&&(S+="rotateX("+d+bu),(h!==Eu||f!==Eu)&&(S+="skew("+h+", "+f+bu),(g!==1||m!==1)&&(S+="scale("+g+", "+m+bu),w.style[gn]=S||"translate(0, 0)"},ipe=function(e,n){var r=n||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.rotation,c=r.skewX,u=r.skewY,d=r.scaleX,h=r.scaleY,f=r.target,g=r.xOrigin,m=r.yOrigin,v=r.xOffset,y=r.yOffset,w=r.forceCSS,E=parseFloat(o),S=parseFloat(a),C,N,T,A,P;l=parseFloat(l),c=parseFloat(c),u=parseFloat(u),u&&(u=parseFloat(u),c+=u,l+=u),l||c?(l*=vf,c*=vf,C=Math.cos(l)*d,N=Math.sin(l)*d,T=Math.sin(l-c)*-h,A=Math.cos(l-c)*h,c&&(u*=vf,P=Math.tan(c-u),P=Math.sqrt(1+P*P),T*=P,A*=P,u&&(P=Math.tan(u),P=Math.sqrt(1+P*P),C*=P,N*=P)),C=kn(C),N=kn(N),T=kn(T),A=kn(A)):(C=d,A=h,N=T=0),(E&&!~(o+"").indexOf("px")||S&&!~(a+"").indexOf("px"))&&(E=Mc(f,"x",o,"px"),S=Mc(f,"y",a,"px")),(g||m||v||y)&&(E=kn(E+g-(g*C+m*T)+v),S=kn(S+m-(g*N+m*A)+y)),(i||s)&&(P=f.getBBox(),E=kn(E+i/100*P.width),S=kn(S+s/100*P.height)),P="matrix("+C+","+N+","+T+","+A+","+E+","+S+")",f.setAttribute("transform",P),w&&(f.style[gn]=P)},spe=function(e,n,r,i,s){var o=360,a=wr(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?Pu:1),c=l-i,u=i+c+"deg",d,h;return a&&(d=s.split("_")[1],d==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),d==="cw"&&c<0?c=(c+o*rM)%o-~~(c/o)*o:d==="ccw"&&c>0&&(c=(c-o*rM)%o-~~(c/o)*o)),e._pt=h=new Wi(e._pt,n,r,i,c,$fe),h.e=u,h.u="deg",e._props.push(r),h},uM=function(e,n){for(var r in n)e[r]=n[r];return e},ope=function(e,n,r){var i=uM({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,l,c,u,d,h,f,g;i.svg?(c=r.getAttribute("transform"),r.setAttribute("transform",""),o[gn]=n,a=Sy(r,1),Sd(r,gn),r.setAttribute("transform",c)):(c=getComputedStyle(r)[gn],o[gn]=n,a=Sy(r,1),o[gn]=c);for(l in nl)c=i[l],u=a[l],c!==u&&s.indexOf(l)<0&&(f=Qr(c),g=Qr(u),d=f!==g?Mc(r,l,c,g):parseFloat(c),h=parseFloat(u),e._pt=new Wi(e._pt,a,l,d,h-d,ZS),e._pt.u=g||0,e._props.push(l));uM(a,i)};zi("padding,margin,Width,Radius",function(t,e){var n="Top",r="Right",i="Bottom",s="Left",o=(e<3?[n,r,i,s]:[n+s,n+r,i+r,i+s]).map(function(a){return e<2?t+a:"border"+a+t});Uw[e>1?"border"+t:t]=function(a,l,c,u,d){var h,f;if(arguments.length<4)return h=o.map(function(g){return Ca(a,g,c)}),f=h.join(" "),f.split(h[0]).length===5?h[0]:f;h=(u+"").split(" "),f={},o.forEach(function(g,m){return f[g]=h[m]=h[m]||h[(m-1)/2|0]}),a.init(l,f,d)}});var Bq={name:"css",register:tA,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,r,i,s){var o=this._props,a=e.style,l=r.vars.startAt,c,u,d,h,f,g,m,v,y,w,E,S,C,N,T,A;VP||tA(),this.styles=this.styles||Oq(e),A=this.styles.props,this.tween=r;for(m in n)if(m!=="autoRound"&&(u=n[m],!(rs[m]&&Eq(m,n,r,i,e,s)))){if(f=typeof u,g=Uw[m],f==="function"&&(u=u.call(r,i,e,s),f=typeof u),f==="string"&&~u.indexOf("random(")&&(u=xy(u)),g)g(this,e,m,u,r)&&(T=1);else if(m.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(m)+"").trim(),u+="",yc.lastIndex=0,yc.test(c)||(v=Qr(c),y=Qr(u)),y?v!==y&&(c=Mc(e,m,c,y)+y):v&&(u+=v),this.add(a,"setProperty",c,u,i,s,0,0,m),o.push(m),A.push(m,0,a[m]);else if(f!=="undefined"){if(l&&m in l?(c=typeof l[m]=="function"?l[m].call(r,i,e,s):l[m],wr(c)&&~c.indexOf("random(")&&(c=xy(c)),Qr(c+"")||c==="auto"||(c+=ms.units[m]||Qr(Ca(e,m))||""),(c+"").charAt(1)==="="&&(c=Ca(e,m))):c=Ca(e,m),h=parseFloat(c),w=f==="string"&&u.charAt(1)==="="&&u.substr(0,2),w&&(u=u.substr(2)),d=parseFloat(u),m in zo&&(m==="autoAlpha"&&(h===1&&Ca(e,"visibility")==="hidden"&&d&&(h=0),A.push("visibility",0,a.visibility),Zl(this,a,"visibility",h?"inherit":"hidden",d?"inherit":"hidden",!d)),m!=="scale"&&m!=="transform"&&(m=zo[m],~m.indexOf(",")&&(m=m.split(",")[0]))),E=m in nl,E){if(this.styles.save(m),f==="string"&&u.substring(0,6)==="var(--"&&(u=qs(e,u.substring(4,u.indexOf(")"))),d=parseFloat(u)),S||(C=e._gsap,C.renderTransform&&!n.parseTransform||Sy(e,n.parseTransform),N=n.smoothOrigin!==!1&&C.smooth,S=this._pt=new Wi(this._pt,a,gn,0,1,C.renderTransform,C,0,-1),S.dep=1),m==="scale")this._pt=new Wi(this._pt,C,"scaleY",C.scaleY,(w?gf(C.scaleY,w+d):d)-C.scaleY||0,ZS),this._pt.u=0,o.push("scaleY",m),m+="X";else if(m==="transformOrigin"){A.push(Hi,0,a[Hi]),u=tpe(u),C.svg?nA(e,u,0,N,0,this):(y=parseFloat(u.split(" ")[2])||0,y!==C.zOrigin&&Zl(this,C,"zOrigin",C.zOrigin,y),Zl(this,a,m,$w(c),$w(u)));continue}else if(m==="svgOrigin"){nA(e,u,1,N,0,this);continue}else if(m in Vq){spe(this,C,m,h,w?gf(h,w+u):u);continue}else if(m==="smoothOrigin"){Zl(this,C,"smooth",C.smooth,u);continue}else if(m==="force3D"){C[m]=u;continue}else if(m==="transform"){ope(this,u,e);continue}}else m in a||(m=op(m)||m);if(E||(d||d===0)&&(h||h===0)&&!Ufe.test(u)&&m in a)v=(c+"").substr((h+"").length),d||(d=0),y=Qr(u)||(m in ms.units?ms.units[m]:v),v!==y&&(h=Mc(e,m,c,y)),this._pt=new Wi(this._pt,E?C:a,m,h,(w?gf(h,w+d):d)-h,!E&&(y==="px"||m==="zIndex")&&n.autoRound!==!1?zfe:ZS),this._pt.u=y||0,v!==y&&y!=="%"&&(this._pt.b=c,this._pt.r=qfe);else if(m in a)epe.call(this,e,m,c,w?w+u:u);else if(m in e)this.add(e,m,c||e[m],w?w+u:u,i,s);else if(m!=="parseTransform"){IP(m,u);continue}E||(m in a?A.push(m,0,a[m]):typeof e[m]=="function"?A.push(m,2,e[m]()):A.push(m,1,c||e[m])),o.push(m)}}T&&Cq(this)},render:function(e,n){if(n.tween._time||!jP())for(var r=n._pt;r;)r.r(e,r.d),r=r._next;else n.styles.revert()},get:Ca,aliases:zo,getSetter:function(e,n,r){var i=zo[n];return i&&i.indexOf(",")<0&&(n=i),n in nl&&n!==Hi&&(e._gsap.x||Ca(e,"x"))?r&&nM===r?n==="scale"?Kfe:Gfe:(nM=r||{})&&(n==="scale"?Yfe:Qfe):e.style&&!TP(e.style[n])?Wfe:~n.indexOf("-")?Hfe:LP(e,n)},core:{_removeProperty:Sd,_getMatrix:BP}};Gi.utils.checkPrefix=op;Gi.core.getStyleSaver=Oq;(function(t,e,n,r){var i=zi(t+","+e+","+n,function(s){nl[s]=1});zi(e,function(s){ms.units[s]="deg",Vq[s]=1}),zo[i[13]]=t+","+e,zi(r,function(s){var o=s.split(":");zo[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");zi("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){ms.units[t]="px"});Gi.registerPlugin(Bq);var mo=Gi.registerPlugin(Bq)||Gi;mo.core.Tween;/*!
 * SplitText 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2025, GreenSock. All rights reserved. Subject to the terms at https://gsap.com/standard-license.
 * @author: Jack Doyle
 */let am,mh,rA,ape=()=>rA||UP.register(window.gsap),dM=typeof Intl<"u"?new Intl.Segmenter:0,qw=t=>typeof t=="string"?qw(document.querySelectorAll(t)):"length"in t?Array.from(t):[t],hM=t=>qw(t).filter(e=>e instanceof HTMLElement),iA=[],db=function(){},lpe=/\s+/g,fM=new RegExp("\\p{RI}\\p{RI}|\\p{Emoji}(\\p{EMod}|\\u{FE0F}\\u{20E3}?|[\\u{E0020}-\\u{E007E}]+\\u{E007F})?(\\u{200D}\\p{Emoji}(\\p{EMod}|\\u{FE0F}\\u{20E3}?|[\\u{E0020}-\\u{E007E}]+\\u{E007F})?)*|.","gu"),pM={left:0,top:0,width:0,height:0},mM=(t,e)=>{if(e){let n=new Set(t.join("").match(e)||iA),r=t.length,i,s,o,a;if(n.size)for(;--r>-1;){s=t[r];for(o of n)if(o.startsWith(s)&&o.length>s.length){for(i=0,a=s;o.startsWith(a+=t[r+ ++i])&&a.length<o.length;);if(i&&a.length===o.length){t[r]=o,t.splice(r+1,i);break}}}}return t},gM=t=>window.getComputedStyle(t).display==="inline"&&(t.style.display="inline-block"),gh=(t,e,n)=>e.insertBefore(typeof t=="string"?document.createTextNode(t):t,n),sA=(t,e,n)=>{let r=e[t+"sClass"]||"",{tag:i="div",aria:s="auto",propIndex:o=!1}=e,a=t==="line"?"block":"inline-block",l=r.indexOf("++")>-1,c=u=>{let d=document.createElement(i),h=n.length+1;return r&&(d.className=r+(l?" "+r+h:"")),o&&d.style.setProperty("--"+t,h+""),s!=="none"&&d.setAttribute("aria-hidden","true"),i!=="span"&&(d.style.position="relative",d.style.display=a),d.textContent=u,n.push(d),d};return l&&(r=r.replace("++","")),c.collection=n,c},cpe=(t,e,n,r)=>{let i=sA("line",n,r),s=window.getComputedStyle(t).textAlign||"left";return(o,a)=>{let l=i("");for(l.style.textAlign=s,t.insertBefore(l,e[o]);o<a;o++)l.appendChild(e[o]);l.normalize()}},Uq=(t,e,n,r,i,s,o,a,l,c)=>{var u;let d=Array.from(t.childNodes),h=0,{wordDelimiter:f,reduceWhiteSpace:g=!0,prepareText:m}=e,v=t.getBoundingClientRect(),y=v,w=!g&&window.getComputedStyle(t).whiteSpace.substring(0,3)==="pre",E=0,S=n.collection,C,N,T,A,P,k,M,O,D,U,J,Q,H,B,W,j,ne,ue;for(typeof f=="object"?(T=f.delimiter||f,N=f.replaceWith||""):N=f===""?"":f||" ",C=N!==" ";h<d.length;h++)if(A=d[h],A.nodeType===3){for(W=A.textContent||"",g?W=W.replace(lpe," "):w&&(W=W.replace(/\n/g,N+`
`)),m&&(W=m(W,t)),A.textContent=W,P=N||T?W.split(T||N):W.match(a)||iA,ne=P[P.length-1],O=C?ne.slice(-1)===" ":!ne,ne||P.pop(),y=v,M=C?P[0].charAt(0)===" ":!P[0],M&&gh(" ",t,A),P[0]||P.shift(),mM(P,l),s&&c||(A.textContent=""),D=1;D<=P.length;D++)if(j=P[D-1],!g&&w&&j.charAt(0)===`
`&&((u=A.previousSibling)==null||u.remove(),gh(document.createElement("br"),t,A),j=j.slice(1)),!g&&j==="")gh(N,t,A);else if(j===" ")t.insertBefore(document.createTextNode(" "),A);else{if(C&&j.charAt(0)===" "&&gh(" ",t,A),E&&D===1&&!M&&S.indexOf(E.parentNode)>-1?(k=S[S.length-1],k.appendChild(document.createTextNode(r?"":j))):(k=n(r?"":j),gh(k,t,A),E&&D===1&&!M&&k.insertBefore(E,k.firstChild)),r)for(J=dM?mM([...dM.segment(j)].map(he=>he.segment),l):j.match(a)||iA,ue=0;ue<J.length;ue++)k.appendChild(J[ue]===" "?document.createTextNode(" "):r(J[ue]));if(s&&c){if(W=A.textContent=W.substring(j.length+1,W.length),U=k.getBoundingClientRect(),U.top>y.top&&U.left<=y.left){for(Q=t.cloneNode(),H=t.childNodes[0];H&&H!==k;)B=H,H=H.nextSibling,Q.appendChild(B);t.parentNode.insertBefore(Q,t),i&&gM(Q)}y=U}(D<P.length||O)&&gh(D>=P.length?" ":C&&j.slice(-1)===" "?" "+N:N,t,A)}t.removeChild(A),E=0}else A.nodeType===1&&(o&&o.indexOf(A)>-1?(S.indexOf(A.previousSibling)>-1&&S[S.length-1].appendChild(A),E=A):(Uq(A,e,n,r,i,s,o,a,l,!0),E=0),i&&gM(A))};const $q=class qq{constructor(e,n){this.isSplit=!1,ape(),this.elements=hM(e),this.chars=[],this.words=[],this.lines=[],this.masks=[],this.vars=n,this._split=()=>this.isSplit&&this.split(this.vars);let r=[],i,s=()=>{let o=r.length,a;for(;o--;){a=r[o];let l=a.element.offsetWidth;if(l!==a.width){a.width=l,this._split();return}}};this._data={orig:r,obs:typeof ResizeObserver<"u"&&new ResizeObserver(()=>{clearTimeout(i),i=setTimeout(s,200)})},db(this),this.split(n)}split(e){this.isSplit&&this.revert(),this.vars=e=e||this.vars||{};let{type:n="chars,words,lines",aria:r="auto",deepSlice:i=!0,smartWrap:s,onSplit:o,autoSplit:a=!1,specialChars:l,mask:c}=this.vars,u=n.indexOf("lines")>-1,d=n.indexOf("chars")>-1,h=n.indexOf("words")>-1,f=d&&!h&&!u,g=l&&("push"in l?new RegExp("(?:"+l.join("|")+")","gu"):l),m=g?new RegExp(g.source+"|"+fM.source,"gu"):fM,v=!!e.ignore&&hM(e.ignore),{orig:y,animTime:w,obs:E}=this._data,S;return(d||h||u)&&(this.elements.forEach((C,N)=>{y[N]={element:C,html:C.innerHTML,ariaL:C.getAttribute("aria-label"),ariaH:C.getAttribute("aria-hidden")},r==="auto"?C.setAttribute("aria-label",(C.textContent||"").trim()):r==="hidden"&&C.setAttribute("aria-hidden","true");let T=[],A=[],P=[],k=d?sA("char",e,T):null,M=sA("word",e,A),O,D,U,J;if(Uq(C,e,M,k,f,i&&(u||f),v,m,g,!1),u){let Q=qw(C.childNodes),H=cpe(C,Q,e,P),B,W=[],j=0,ne=Q.map(he=>he.nodeType===1?he.getBoundingClientRect():pM),ue=pM;for(O=0;O<Q.length;O++)B=Q[O],B.nodeType===1&&(B.nodeName==="BR"?(W.push(B),H(j,O+1),j=O+1,ue=ne[j]):(O&&ne[O].top>ue.top&&ne[O].left<=ue.left&&(H(j,O),j=O),ue=ne[O]));j<O&&H(j,O),W.forEach(he=>{var Ee;return(Ee=he.parentNode)==null?void 0:Ee.removeChild(he)})}if(!h){for(O=0;O<A.length;O++)if(D=A[O],d||!D.nextSibling||D.nextSibling.nodeType!==3)if(s&&!u){for(U=document.createElement("span"),U.style.whiteSpace="nowrap";D.firstChild;)U.appendChild(D.firstChild);D.replaceWith(U)}else D.replaceWith(...D.childNodes);else J=D.nextSibling,J&&J.nodeType===3&&(J.textContent=(D.textContent||"")+(J.textContent||""),D.remove());A.length=0,C.normalize()}this.lines.push(...P),this.words.push(...A),this.chars.push(...T)}),c&&this[c]&&this.masks.push(...this[c].map(C=>{let N=C.cloneNode();return C.replaceWith(N),N.appendChild(C),C.className&&(N.className=C.className.replace(/(\b\w+\b)/g,"$1-mask")),N.style.overflow="clip",N}))),this.isSplit=!0,mh&&(a?mh.addEventListener("loadingdone",this._split):mh.status==="loading"&&console.warn("SplitText called before fonts loaded")),(S=o&&o(this))&&S.totalTime&&(this._data.anim=w?S.totalTime(w):S),u&&a&&this.elements.forEach((C,N)=>{y[N].width=C.offsetWidth,E&&E.observe(C)}),this}revert(){var e,n;let{orig:r,anim:i,obs:s}=this._data;return s&&s.disconnect(),r.forEach(({element:o,html:a,ariaL:l,ariaH:c})=>{o.innerHTML=a,l?o.setAttribute("aria-label",l):o.removeAttribute("aria-label"),c?o.setAttribute("aria-hidden",c):o.removeAttribute("aria-hidden")}),this.chars.length=this.words.length=this.lines.length=r.length=this.masks.length=0,this.isSplit=!1,mh==null||mh.removeEventListener("loadingdone",this._split),i&&(this._data.animTime=i.totalTime(),i.revert()),(n=(e=this.vars).onRevert)==null||n.call(e,this),this}static create(e,n){return new qq(e,n)}static register(e){am=am||e||window.gsap,am&&(qw=am.utils.toArray,db=am.core.context||db),!rA&&window.innerWidth>0&&(mh=document.fonts,rA=!0)}};$q.version="3.13.0";let UP=$q;function upe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dpe(t,e,n){return e&&upe(t.prototype,e),t}/*!
 * Observer 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Cr,__,ls,ec,tc,_f,zq,Nu,dg,Wq,ja,so,Hq,Gq=function(){return Cr||typeof window<"u"&&(Cr=window.gsap)&&Cr.registerPlugin&&Cr},Kq=1,ef=[],Qe=[],Zo=[],hg=Date.now,oA=function(e,n){return n},hpe=function(){var e=dg.core,n=e.bridge||{},r=e._scrollers,i=e._proxies;r.push.apply(r,Qe),i.push.apply(i,Zo),Qe=r,Zo=i,oA=function(o,a){return n[o](a)}},vc=function(e,n){return~Zo.indexOf(e)&&Zo[Zo.indexOf(e)+1][n]},fg=function(e){return!!~Wq.indexOf(e)},di=function(e,n,r,i,s){return e.addEventListener(n,r,{passive:i!==!1,capture:!!s})},ui=function(e,n,r,i){return e.removeEventListener(n,r,!!i)},m0="scrollLeft",g0="scrollTop",aA=function(){return ja&&ja.isPressed||Qe.cache++},zw=function(e,n){var r=function i(s){if(s||s===0){Kq&&(ls.history.scrollRestoration="manual");var o=ja&&ja.isPressed;s=i.v=Math.round(s)||(ja&&ja.iOS?1:0),e(s),i.cacheID=Qe.cache,o&&oA("ss",s)}else(n||Qe.cache!==i.cacheID||oA("ref"))&&(i.cacheID=Qe.cache,i.v=e());return i.v+i.offset};return r.offset=0,e&&r},_i={s:m0,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:zw(function(t){return arguments.length?ls.scrollTo(t,rr.sc()):ls.pageXOffset||ec[m0]||tc[m0]||_f[m0]||0})},rr={s:g0,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:_i,sc:zw(function(t){return arguments.length?ls.scrollTo(_i.sc(),t):ls.pageYOffset||ec[g0]||tc[g0]||_f[g0]||0})},Oi=function(e,n){return(n&&n._ctx&&n._ctx.selector||Cr.utils.toArray)(e)[0]||(typeof e=="string"&&Cr.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},fpe=function(e,n){for(var r=n.length;r--;)if(n[r]===e||n[r].contains(e))return!0;return!1},Vc=function(e,n){var r=n.s,i=n.sc;fg(e)&&(e=ec.scrollingElement||tc);var s=Qe.indexOf(e),o=i===rr.sc?1:2;!~s&&(s=Qe.push(e)-1),Qe[s+o]||di(e,"scroll",aA);var a=Qe[s+o],l=a||(Qe[s+o]=zw(vc(e,r),!0)||(fg(e)?i:zw(function(c){return arguments.length?e[r]=c:e[r]})));return l.target=e,a||(l.smooth=Cr.getProperty(e,"scrollBehavior")==="smooth"),l},lA=function(e,n,r){var i=e,s=e,o=hg(),a=o,l=n||50,c=Math.max(500,l*3),u=function(g,m){var v=hg();m||v-o>l?(s=i,i=g,a=o,o=v):r?i+=g:i=s+(g-s)/(v-a)*(o-a)},d=function(){s=i=r?0:i,a=o=0},h=function(g){var m=a,v=s,y=hg();return(g||g===0)&&g!==i&&u(g),o===a||y-a>c?0:(i+(r?v:-v))/((r?y:o)-m)*1e3};return{update:u,reset:d,getVelocity:h}},lm=function(e,n){return n&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},yM=function(e){var n=Math.max.apply(Math,e),r=Math.min.apply(Math,e);return Math.abs(n)>=Math.abs(r)?n:r},Yq=function(){dg=Cr.core.globals().ScrollTrigger,dg&&dg.core&&hpe()},Qq=function(e){return Cr=e||Gq(),!__&&Cr&&typeof document<"u"&&document.body&&(ls=window,ec=document,tc=ec.documentElement,_f=ec.body,Wq=[ls,ec,tc,_f],Cr.utils.clamp,Hq=Cr.core.context||function(){},Nu="onpointerenter"in _f?"pointer":"mouse",zq=Ln.isTouch=ls.matchMedia&&ls.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in ls||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,so=Ln.eventTypes=("ontouchstart"in tc?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in tc?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return Kq=0},500),Yq(),__=1),__};_i.op=rr;Qe.cache=0;var Ln=function(){function t(n){this.init(n)}var e=t.prototype;return e.init=function(r){__||Qq(Cr)||console.warn("Please gsap.registerPlugin(Observer)"),dg||Yq();var i=r.tolerance,s=r.dragMinimum,o=r.type,a=r.target,l=r.lineHeight,c=r.debounce,u=r.preventDefault,d=r.onStop,h=r.onStopDelay,f=r.ignore,g=r.wheelSpeed,m=r.event,v=r.onDragStart,y=r.onDragEnd,w=r.onDrag,E=r.onPress,S=r.onRelease,C=r.onRight,N=r.onLeft,T=r.onUp,A=r.onDown,P=r.onChangeX,k=r.onChangeY,M=r.onChange,O=r.onToggleX,D=r.onToggleY,U=r.onHover,J=r.onHoverEnd,Q=r.onMove,H=r.ignoreCheck,B=r.isNormalizer,W=r.onGestureStart,j=r.onGestureEnd,ne=r.onWheel,ue=r.onEnable,he=r.onDisable,Ee=r.onClick,me=r.scrollSpeed,Be=r.capture,re=r.allowClicks,fe=r.lockAxis,Le=r.onLockAxis;this.target=a=Oi(a)||tc,this.vars=r,f&&(f=Cr.utils.toArray(f)),i=i||1e-9,s=s||0,g=g||1,me=me||1,o=o||"wheel,touch,pointer",c=c!==!1,l||(l=parseFloat(ls.getComputedStyle(_f).lineHeight)||22);var Re,le,Z,se,we,Ue,Ge,z=this,St=0,Et=0,Nt=r.passive||!u&&r.passive!==!1,Je=Vc(a,_i),Fn=Vc(a,rr),Cn=Je(),Wt=Fn(),vt=~o.indexOf("touch")&&!~o.indexOf("pointer")&&so[0]==="pointerdown",_t=fg(a),je=a.ownerDocument||ec,Ht=[0,0,0],Gt=[0,0,0],mt=0,Lr=function(){return mt=hg()},ot=function(Ne,ke){return(z.event=Ne)&&f&&fpe(Ne.target,f)||ke&&vt&&Ne.pointerType!=="touch"||H&&H(Ne,ke)},Mr=function(){z._vx.reset(),z._vy.reset(),le.pause(),d&&d(z)},Bn=function(){var Ne=z.deltaX=yM(Ht),ke=z.deltaY=yM(Gt),ae=Math.abs(Ne)>=i,De=Math.abs(ke)>=i;M&&(ae||De)&&M(z,Ne,ke,Ht,Gt),ae&&(C&&z.deltaX>0&&C(z),N&&z.deltaX<0&&N(z),P&&P(z),O&&z.deltaX<0!=St<0&&O(z),St=z.deltaX,Ht[0]=Ht[1]=Ht[2]=0),De&&(A&&z.deltaY>0&&A(z),T&&z.deltaY<0&&T(z),k&&k(z),D&&z.deltaY<0!=Et<0&&D(z),Et=z.deltaY,Gt[0]=Gt[1]=Gt[2]=0),(se||Z)&&(Q&&Q(z),Z&&(v&&Z===1&&v(z),w&&w(z),Z=0),se=!1),Ue&&!(Ue=!1)&&Le&&Le(z),we&&(ne(z),we=!1),Re=0},Jn=function(Ne,ke,ae){Ht[ae]+=Ne,Gt[ae]+=ke,z._vx.update(Ne),z._vy.update(ke),c?Re||(Re=requestAnimationFrame(Bn)):Bn()},si=function(Ne,ke){fe&&!Ge&&(z.axis=Ge=Math.abs(Ne)>Math.abs(ke)?"x":"y",Ue=!0),Ge!=="y"&&(Ht[2]+=Ne,z._vx.update(Ne,!0)),Ge!=="x"&&(Gt[2]+=ke,z._vy.update(ke,!0)),c?Re||(Re=requestAnimationFrame(Bn)):Bn()},Zn=function(Ne){if(!ot(Ne,1)){Ne=lm(Ne,u);var ke=Ne.clientX,ae=Ne.clientY,De=ke-z.x,be=ae-z.y,Me=z.isDragging;z.x=ke,z.y=ae,(Me||(De||be)&&(Math.abs(z.startX-ke)>=s||Math.abs(z.startY-ae)>=s))&&(Z=Me?2:1,Me||(z.isDragging=!0),si(De,be))}},Rn=z.onPress=function(Pe){ot(Pe,1)||Pe&&Pe.button||(z.axis=Ge=null,le.pause(),z.isPressed=!0,Pe=lm(Pe),St=Et=0,z.startX=z.x=Pe.clientX,z.startY=z.y=Pe.clientY,z._vx.reset(),z._vy.reset(),di(B?a:je,so[1],Zn,Nt,!0),z.deltaX=z.deltaY=0,E&&E(z))},Oe=z.onRelease=function(Pe){if(!ot(Pe,1)){ui(B?a:je,so[1],Zn,!0);var Ne=!isNaN(z.y-z.startY),ke=z.isDragging,ae=ke&&(Math.abs(z.x-z.startX)>3||Math.abs(z.y-z.startY)>3),De=lm(Pe);!ae&&Ne&&(z._vx.reset(),z._vy.reset(),u&&re&&Cr.delayedCall(.08,function(){if(hg()-mt>300&&!Pe.defaultPrevented){if(Pe.target.click)Pe.target.click();else if(je.createEvent){var be=je.createEvent("MouseEvents");be.initMouseEvent("click",!0,!0,ls,1,De.screenX,De.screenY,De.clientX,De.clientY,!1,!1,!1,!1,0,null),Pe.target.dispatchEvent(be)}}})),z.isDragging=z.isGesturing=z.isPressed=!1,d&&ke&&!B&&le.restart(!0),Z&&Bn(),y&&ke&&y(z),S&&S(z,ae)}},er=function(Ne){return Ne.touches&&Ne.touches.length>1&&(z.isGesturing=!0)&&W(Ne,z.isDragging)},Mt=function(){return(z.isGesturing=!1)||j(z)},Vt=function(Ne){if(!ot(Ne)){var ke=Je(),ae=Fn();Jn((ke-Cn)*me,(ae-Wt)*me,1),Cn=ke,Wt=ae,d&&le.restart(!0)}},sn=function(Ne){if(!ot(Ne)){Ne=lm(Ne,u),ne&&(we=!0);var ke=(Ne.deltaMode===1?l:Ne.deltaMode===2?ls.innerHeight:1)*g;Jn(Ne.deltaX*ke,Ne.deltaY*ke,0),d&&!B&&le.restart(!0)}},Kt=function(Ne){if(!ot(Ne)){var ke=Ne.clientX,ae=Ne.clientY,De=ke-z.x,be=ae-z.y;z.x=ke,z.y=ae,se=!0,d&&le.restart(!0),(De||be)&&si(De,be)}},ur=function(Ne){z.event=Ne,U(z)},wn=function(Ne){z.event=Ne,J(z)},Ri=function(Ne){return ot(Ne)||lm(Ne,u)&&Ee(z)};le=z._dc=Cr.delayedCall(h||.25,Mr).pause(),z.deltaX=z.deltaY=0,z._vx=lA(0,50,!0),z._vy=lA(0,50,!0),z.scrollX=Je,z.scrollY=Fn,z.isDragging=z.isGesturing=z.isPressed=!1,Hq(this),z.enable=function(Pe){return z.isEnabled||(di(_t?je:a,"scroll",aA),o.indexOf("scroll")>=0&&di(_t?je:a,"scroll",Vt,Nt,Be),o.indexOf("wheel")>=0&&di(a,"wheel",sn,Nt,Be),(o.indexOf("touch")>=0&&zq||o.indexOf("pointer")>=0)&&(di(a,so[0],Rn,Nt,Be),di(je,so[2],Oe),di(je,so[3],Oe),re&&di(a,"click",Lr,!0,!0),Ee&&di(a,"click",Ri),W&&di(je,"gesturestart",er),j&&di(je,"gestureend",Mt),U&&di(a,Nu+"enter",ur),J&&di(a,Nu+"leave",wn),Q&&di(a,Nu+"move",Kt)),z.isEnabled=!0,z.isDragging=z.isGesturing=z.isPressed=se=Z=!1,z._vx.reset(),z._vy.reset(),Cn=Je(),Wt=Fn(),Pe&&Pe.type&&Rn(Pe),ue&&ue(z)),z},z.disable=function(){z.isEnabled&&(ef.filter(function(Pe){return Pe!==z&&fg(Pe.target)}).length||ui(_t?je:a,"scroll",aA),z.isPressed&&(z._vx.reset(),z._vy.reset(),ui(B?a:je,so[1],Zn,!0)),ui(_t?je:a,"scroll",Vt,Be),ui(a,"wheel",sn,Be),ui(a,so[0],Rn,Be),ui(je,so[2],Oe),ui(je,so[3],Oe),ui(a,"click",Lr,!0),ui(a,"click",Ri),ui(je,"gesturestart",er),ui(je,"gestureend",Mt),ui(a,Nu+"enter",ur),ui(a,Nu+"leave",wn),ui(a,Nu+"move",Kt),z.isEnabled=z.isPressed=z.isDragging=!1,he&&he(z))},z.kill=z.revert=function(){z.disable();var Pe=ef.indexOf(z);Pe>=0&&ef.splice(Pe,1),ja===z&&(ja=0)},ef.push(z),B&&fg(a)&&(ja=z),z.enable(m)},dpe(t,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),t}();Ln.version="3.13.0";Ln.create=function(t){return new Ln(t)};Ln.register=Qq;Ln.getAll=function(){return ef.slice()};Ln.getById=function(t){return ef.filter(function(e){return e.vars.id===t})[0]};Gq()&&Cr.registerPlugin(Ln);/*!
 * ScrollTrigger 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var ve,Ih,Ye,$t,is,bt,$P,Ww,Ay,pg,Cm,y0,zr,Ex,cA,mi,vM,_M,Ch,Xq,hb,Jq,hi,uA,Zq,ez,Ol,dA,qP,wf,zP,Hw,hA,fb,v0=1,Gr=Date.now,pb=Gr(),Gs=0,Rm=0,wM=function(e,n,r){var i=ns(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return r["_"+n+"Clamp"]=i,i?e.substr(6,e.length-7):e},xM=function(e,n){return n&&(!ns(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},ppe=function t(){return Rm&&requestAnimationFrame(t)},EM=function(){return Ex=1},bM=function(){return Ex=0},Fo=function(e){return e},Pm=function(e){return Math.round(e*1e5)/1e5||0},tz=function(){return typeof window<"u"},nz=function(){return ve||tz()&&(ve=window.gsap)&&ve.registerPlugin&&ve},Ad=function(e){return!!~$P.indexOf(e)},rz=function(e){return(e==="Height"?zP:Ye["inner"+e])||is["client"+e]||bt["client"+e]},iz=function(e){return vc(e,"getBoundingClientRect")||(Ad(e)?function(){return T_.width=Ye.innerWidth,T_.height=zP,T_}:function(){return Pa(e)})},mpe=function(e,n,r){var i=r.d,s=r.d2,o=r.a;return(o=vc(e,"getBoundingClientRect"))?function(){return o()[i]}:function(){return(n?rz(s):e["client"+s])||0}},gpe=function(e,n){return!n||~Zo.indexOf(e)?iz(e):function(){return T_}},Wo=function(e,n){var r=n.s,i=n.d2,s=n.d,o=n.a;return Math.max(0,(r="scroll"+i)&&(o=vc(e,r))?o()-iz(e)()[s]:Ad(e)?(is[r]||bt[r])-rz(i):e[r]-e["offset"+i])},_0=function(e,n){for(var r=0;r<Ch.length;r+=3)(!n||~n.indexOf(Ch[r+1]))&&e(Ch[r],Ch[r+1],Ch[r+2])},ns=function(e){return typeof e=="string"},Xr=function(e){return typeof e=="function"},Nm=function(e){return typeof e=="number"},ku=function(e){return typeof e=="object"},cm=function(e,n,r){return e&&e.progress(n?0:1)&&r&&e.pause()},mb=function(e,n){if(e.enabled){var r=e._ctx?e._ctx.add(function(){return n(e)}):n(e);r&&r.totalTime&&(e.callbackAnimation=r)}},yh=Math.abs,sz="left",oz="top",WP="right",HP="bottom",nd="width",rd="height",mg="Right",gg="Left",yg="Top",vg="Bottom",zn="padding",Os="margin",ap="Width",GP="Height",tr="px",Ds=function(e){return Ye.getComputedStyle(e)},ype=function(e){var n=Ds(e).position;e.style.position=n==="absolute"||n==="fixed"?n:"relative"},TM=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},Pa=function(e,n){var r=n&&Ds(e)[cA]!=="matrix(1, 0, 0, 1, 0, 0)"&&ve.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),i=e.getBoundingClientRect();return r&&r.progress(0).kill(),i},Gw=function(e,n){var r=n.d2;return e["offset"+r]||e["client"+r]||0},az=function(e){var n=[],r=e.labels,i=e.duration(),s;for(s in r)n.push(r[s]/i);return n},vpe=function(e){return function(n){return ve.utils.snap(az(e),n)}},KP=function(e){var n=ve.utils.snap(e),r=Array.isArray(e)&&e.slice(0).sort(function(i,s){return i-s});return r?function(i,s,o){o===void 0&&(o=.001);var a;if(!s)return n(i);if(s>0){for(i-=o,a=0;a<r.length;a++)if(r[a]>=i)return r[a];return r[a-1]}else for(a=r.length,i+=o;a--;)if(r[a]<=i)return r[a];return r[0]}:function(i,s,o){o===void 0&&(o=.001);var a=n(i);return!s||Math.abs(a-i)<o||a-i<0==s<0?a:n(s<0?i-e:i+e)}},_pe=function(e){return function(n,r){return KP(az(e))(n,r.direction)}},w0=function(e,n,r,i){return r.split(",").forEach(function(s){return e(n,s,i)})},pr=function(e,n,r,i,s){return e.addEventListener(n,r,{passive:!i,capture:!!s})},fr=function(e,n,r,i){return e.removeEventListener(n,r,!!i)},x0=function(e,n,r){r=r&&r.wheelHandler,r&&(e(n,"wheel",r),e(n,"touchmove",r))},SM={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},E0={toggleActions:"play",anticipatePin:0},Kw={top:0,left:0,center:.5,bottom:1,right:1},w_=function(e,n){if(ns(e)){var r=e.indexOf("="),i=~r?+(e.charAt(r-1)+1)*parseFloat(e.substr(r+1)):0;~r&&(e.indexOf("%")>r&&(i*=n/100),e=e.substr(0,r-1)),e=i+(e in Kw?Kw[e]*n:~e.indexOf("%")?parseFloat(e)*n/100:parseFloat(e)||0)}return e},b0=function(e,n,r,i,s,o,a,l){var c=s.startColor,u=s.endColor,d=s.fontSize,h=s.indent,f=s.fontWeight,g=$t.createElement("div"),m=Ad(r)||vc(r,"pinType")==="fixed",v=e.indexOf("scroller")!==-1,y=m?bt:r,w=e.indexOf("start")!==-1,E=w?c:u,S="border-color:"+E+";font-size:"+d+";color:"+E+";font-weight:"+f+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return S+="position:"+((v||l)&&m?"fixed;":"absolute;"),(v||l||!m)&&(S+=(i===rr?WP:HP)+":"+(o+parseFloat(h))+"px;"),a&&(S+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),g._isStart=w,g.setAttribute("class","gsap-marker-"+e+(n?" marker-"+n:"")),g.style.cssText=S,g.innerText=n||n===0?e+"-"+n:e,y.children[0]?y.insertBefore(g,y.children[0]):y.appendChild(g),g._offset=g["offset"+i.op.d2],x_(g,0,i,w),g},x_=function(e,n,r,i){var s={display:"block"},o=r[i?"os2":"p2"],a=r[i?"p2":"os2"];e._isFlipped=i,s[r.a+"Percent"]=i?-100:0,s[r.a]=i?"1px":0,s["border"+o+ap]=1,s["border"+a+ap]=0,s[r.p]=n+"px",ve.set(e,s)},Ke=[],fA={},Iy,AM=function(){return Gr()-Gs>34&&(Iy||(Iy=requestAnimationFrame(qa)))},vh=function(){(!hi||!hi.isPressed||hi.startX>bt.clientWidth)&&(Qe.cache++,hi?Iy||(Iy=requestAnimationFrame(qa)):qa(),Gs||Cd("scrollStart"),Gs=Gr())},gb=function(){ez=Ye.innerWidth,Zq=Ye.innerHeight},km=function(e){Qe.cache++,(e===!0||!zr&&!Jq&&!$t.fullscreenElement&&!$t.webkitFullscreenElement&&(!uA||ez!==Ye.innerWidth||Math.abs(Ye.innerHeight-Zq)>Ye.innerHeight*.25))&&Ww.restart(!0)},Id={},wpe=[],lz=function t(){return fr(Xe,"scrollEnd",t)||Hu(!0)},Cd=function(e){return Id[e]&&Id[e].map(function(n){return n()})||wpe},es=[],cz=function(e){for(var n=0;n<es.length;n+=5)(!e||es[n+4]&&es[n+4].query===e)&&(es[n].style.cssText=es[n+1],es[n].getBBox&&es[n].setAttribute("transform",es[n+2]||""),es[n+3].uncache=1)},YP=function(e,n){var r;for(mi=0;mi<Ke.length;mi++)r=Ke[mi],r&&(!n||r._ctx===n)&&(e?r.kill(1):r.revert(!0,!0));Hw=!0,n&&cz(n),n||Cd("revert")},uz=function(e,n){Qe.cache++,(n||!gi)&&Qe.forEach(function(r){return Xr(r)&&r.cacheID++&&(r.rec=0)}),ns(e)&&(Ye.history.scrollRestoration=qP=e)},gi,id=0,IM,xpe=function(){if(IM!==id){var e=IM=id;requestAnimationFrame(function(){return e===id&&Hu(!0)})}},dz=function(){bt.appendChild(wf),zP=!hi&&wf.offsetHeight||Ye.innerHeight,bt.removeChild(wf)},CM=function(e){return Ay(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(n){return n.style.display=e?"none":"block"})},Hu=function(e,n){if(is=$t.documentElement,bt=$t.body,$P=[Ye,$t,is,bt],Gs&&!e&&!Hw){pr(Xe,"scrollEnd",lz);return}dz(),gi=Xe.isRefreshing=!0,Qe.forEach(function(i){return Xr(i)&&++i.cacheID&&(i.rec=i())});var r=Cd("refreshInit");Xq&&Xe.sort(),n||YP(),Qe.forEach(function(i){Xr(i)&&(i.smooth&&(i.target.style.scrollBehavior="auto"),i(0))}),Ke.slice(0).forEach(function(i){return i.refresh()}),Hw=!1,Ke.forEach(function(i){if(i._subPinOffset&&i.pin){var s=i.vars.horizontal?"offsetWidth":"offsetHeight",o=i.pin[s];i.revert(!0,1),i.adjustPinSpacing(i.pin[s]-o),i.refresh()}}),hA=1,CM(!0),Ke.forEach(function(i){var s=Wo(i.scroller,i._dir),o=i.vars.end==="max"||i._endClamp&&i.end>s,a=i._startClamp&&i.start>=s;(o||a)&&i.setPositions(a?s-1:i.start,o?Math.max(a?s:i.start+1,s):i.end,!0)}),CM(!1),hA=0,r.forEach(function(i){return i&&i.render&&i.render(-1)}),Qe.forEach(function(i){Xr(i)&&(i.smooth&&requestAnimationFrame(function(){return i.target.style.scrollBehavior="smooth"}),i.rec&&i(i.rec))}),uz(qP,1),Ww.pause(),id++,gi=2,qa(2),Ke.forEach(function(i){return Xr(i.vars.onRefresh)&&i.vars.onRefresh(i)}),gi=Xe.isRefreshing=!1,Cd("refresh")},pA=0,E_=1,_g,qa=function(e){if(e===2||!gi&&!Hw){Xe.isUpdating=!0,_g&&_g.update(0);var n=Ke.length,r=Gr(),i=r-pb>=50,s=n&&Ke[0].scroll();if(E_=pA>s?-1:1,gi||(pA=s),i&&(Gs&&!Ex&&r-Gs>200&&(Gs=0,Cd("scrollEnd")),Cm=pb,pb=r),E_<0){for(mi=n;mi-- >0;)Ke[mi]&&Ke[mi].update(0,i);E_=1}else for(mi=0;mi<n;mi++)Ke[mi]&&Ke[mi].update(0,i);Xe.isUpdating=!1}Iy=0},mA=[sz,oz,HP,WP,Os+vg,Os+mg,Os+yg,Os+gg,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],b_=mA.concat([nd,rd,"boxSizing","max"+ap,"max"+GP,"position",Os,zn,zn+yg,zn+mg,zn+vg,zn+gg]),Epe=function(e,n,r){xf(r);var i=e._gsap;if(i.spacerIsNative)xf(i.spacerState);else if(e._gsap.swappedIn){var s=n.parentNode;s&&(s.insertBefore(e,n),s.removeChild(n))}e._gsap.swappedIn=!1},yb=function(e,n,r,i){if(!e._gsap.swappedIn){for(var s=mA.length,o=n.style,a=e.style,l;s--;)l=mA[s],o[l]=r[l];o.position=r.position==="absolute"?"absolute":"relative",r.display==="inline"&&(o.display="inline-block"),a[HP]=a[WP]="auto",o.flexBasis=r.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[nd]=Gw(e,_i)+tr,o[rd]=Gw(e,rr)+tr,o[zn]=a[Os]=a[oz]=a[sz]="0",xf(i),a[nd]=a["max"+ap]=r[nd],a[rd]=a["max"+GP]=r[rd],a[zn]=r[zn],e.parentNode!==n&&(e.parentNode.insertBefore(n,e),n.appendChild(e)),e._gsap.swappedIn=!0}},bpe=/([A-Z])/g,xf=function(e){if(e){var n=e.t.style,r=e.length,i=0,s,o;for((e.t._gsap||ve.core.getCache(e.t)).uncache=1;i<r;i+=2)o=e[i+1],s=e[i],o?n[s]=o:n[s]&&n.removeProperty(s.replace(bpe,"-$1").toLowerCase())}},T0=function(e){for(var n=b_.length,r=e.style,i=[],s=0;s<n;s++)i.push(b_[s],r[b_[s]]);return i.t=e,i},Tpe=function(e,n,r){for(var i=[],s=e.length,o=r?8:0,a;o<s;o+=2)a=e[o],i.push(a,a in n?n[a]:e[o+1]);return i.t=e.t,i},T_={left:0,top:0},RM=function(e,n,r,i,s,o,a,l,c,u,d,h,f,g){Xr(e)&&(e=e(l)),ns(e)&&e.substr(0,3)==="max"&&(e=h+(e.charAt(4)==="="?w_("0"+e.substr(3),r):0));var m=f?f.time():0,v,y,w;if(f&&f.seek(0),isNaN(e)||(e=+e),Nm(e))f&&(e=ve.utils.mapRange(f.scrollTrigger.start,f.scrollTrigger.end,0,h,e)),a&&x_(a,r,i,!0);else{Xr(n)&&(n=n(l));var E=(e||"0").split(" "),S,C,N,T;w=Oi(n,l)||bt,S=Pa(w)||{},(!S||!S.left&&!S.top)&&Ds(w).display==="none"&&(T=w.style.display,w.style.display="block",S=Pa(w),T?w.style.display=T:w.style.removeProperty("display")),C=w_(E[0],S[i.d]),N=w_(E[1]||"0",r),e=S[i.p]-c[i.p]-u+C+s-N,a&&x_(a,N,i,r-N<20||a._isStart&&N>20),r-=r-N}if(g&&(l[g]=e||-.001,e<0&&(e=0)),o){var A=e+r,P=o._isStart;v="scroll"+i.d2,x_(o,A,i,P&&A>20||!P&&(d?Math.max(bt[v],is[v]):o.parentNode[v])<=A+1),d&&(c=Pa(a),d&&(o.style[i.op.p]=c[i.op.p]-i.op.m-o._offset+tr))}return f&&w&&(v=Pa(w),f.seek(h),y=Pa(w),f._caScrollDist=v[i.p]-y[i.p],e=e/f._caScrollDist*h),f&&f.seek(m),f?e:Math.round(e)},Spe=/(webkit|moz|length|cssText|inset)/i,PM=function(e,n,r,i){if(e.parentNode!==n){var s=e.style,o,a;if(n===bt){e._stOrig=s.cssText,a=Ds(e);for(o in a)!+o&&!Spe.test(o)&&a[o]&&typeof s[o]=="string"&&o!=="0"&&(s[o]=a[o]);s.top=r,s.left=i}else s.cssText=e._stOrig;ve.core.getCache(e).uncache=1,n.appendChild(e)}},hz=function(e,n,r){var i=n,s=i;return function(o){var a=Math.round(e());return a!==i&&a!==s&&Math.abs(a-i)>3&&Math.abs(a-s)>3&&(o=a,r&&r()),s=i,i=Math.round(o),i}},S0=function(e,n,r){var i={};i[n.p]="+="+r,ve.set(e,i)},NM=function(e,n){var r=Vc(e,n),i="_scroll"+n.p2,s=function o(a,l,c,u,d){var h=o.tween,f=l.onComplete,g={};c=c||r();var m=hz(r,c,function(){h.kill(),o.tween=0});return d=u&&d||0,u=u||a-c,h&&h.kill(),l[i]=a,l.inherit=!1,l.modifiers=g,g[i]=function(){return m(c+u*h.ratio+d*h.ratio*h.ratio)},l.onUpdate=function(){Qe.cache++,o.tween&&qa()},l.onComplete=function(){o.tween=0,f&&f.call(h)},h=o.tween=ve.to(e,l),h};return e[i]=r,r.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},pr(e,"wheel",r.wheelHandler),Xe.isTouch&&pr(e,"touchmove",r.wheelHandler),s},Xe=function(){function t(n,r){Ih||t.register(ve)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),dA(this),this.init(n,r)}var e=t.prototype;return e.init=function(r,i){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Rm){this.update=this.refresh=this.kill=Fo;return}r=TM(ns(r)||Nm(r)||r.nodeType?{trigger:r}:r,E0);var s=r,o=s.onUpdate,a=s.toggleClass,l=s.id,c=s.onToggle,u=s.onRefresh,d=s.scrub,h=s.trigger,f=s.pin,g=s.pinSpacing,m=s.invalidateOnRefresh,v=s.anticipatePin,y=s.onScrubComplete,w=s.onSnapComplete,E=s.once,S=s.snap,C=s.pinReparent,N=s.pinSpacer,T=s.containerAnimation,A=s.fastScrollEnd,P=s.preventOverlaps,k=r.horizontal||r.containerAnimation&&r.horizontal!==!1?_i:rr,M=!d&&d!==0,O=Oi(r.scroller||Ye),D=ve.core.getCache(O),U=Ad(O),J=("pinType"in r?r.pinType:vc(O,"pinType")||U&&"fixed")==="fixed",Q=[r.onEnter,r.onLeave,r.onEnterBack,r.onLeaveBack],H=M&&r.toggleActions.split(" "),B="markers"in r?r.markers:E0.markers,W=U?0:parseFloat(Ds(O)["border"+k.p2+ap])||0,j=this,ne=r.onRefreshInit&&function(){return r.onRefreshInit(j)},ue=mpe(O,U,k),he=gpe(O,U),Ee=0,me=0,Be=0,re=Vc(O,k),fe,Le,Re,le,Z,se,we,Ue,Ge,z,St,Et,Nt,Je,Fn,Cn,Wt,vt,_t,je,Ht,Gt,mt,Lr,ot,Mr,Bn,Jn,si,Zn,Rn,Oe,er,Mt,Vt,sn,Kt,ur,wn;if(j._startClamp=j._endClamp=!1,j._dir=k,v*=45,j.scroller=O,j.scroll=T?T.time.bind(T):re,le=re(),j.vars=r,i=i||r.animation,"refreshPriority"in r&&(Xq=1,r.refreshPriority===-9999&&(_g=j)),D.tweenScroll=D.tweenScroll||{top:NM(O,rr),left:NM(O,_i)},j.tweenTo=fe=D.tweenScroll[k.p],j.scrubDuration=function(ae){er=Nm(ae)&&ae,er?Oe?Oe.duration(ae):Oe=ve.to(i,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:er,paused:!0,onComplete:function(){return y&&y(j)}}):(Oe&&Oe.progress(1).kill(),Oe=0)},i&&(i.vars.lazy=!1,i._initted&&!j.isReverted||i.vars.immediateRender!==!1&&r.immediateRender!==!1&&i.duration()&&i.render(0,!0,!0),j.animation=i.pause(),i.scrollTrigger=j,j.scrubDuration(d),Zn=0,l||(l=i.vars.id)),S&&((!ku(S)||S.push)&&(S={snapTo:S}),"scrollBehavior"in bt.style&&ve.set(U?[bt,is]:O,{scrollBehavior:"auto"}),Qe.forEach(function(ae){return Xr(ae)&&ae.target===(U?$t.scrollingElement||is:O)&&(ae.smooth=!1)}),Re=Xr(S.snapTo)?S.snapTo:S.snapTo==="labels"?vpe(i):S.snapTo==="labelsDirectional"?_pe(i):S.directional!==!1?function(ae,De){return KP(S.snapTo)(ae,Gr()-me<500?0:De.direction)}:ve.utils.snap(S.snapTo),Mt=S.duration||{min:.1,max:2},Mt=ku(Mt)?pg(Mt.min,Mt.max):pg(Mt,Mt),Vt=ve.delayedCall(S.delay||er/2||.1,function(){var ae=re(),De=Gr()-me<500,be=fe.tween;if((De||Math.abs(j.getVelocity())<10)&&!be&&!Ex&&Ee!==ae){var Me=(ae-se)/Je,jt=i&&!M?i.totalProgress():Me,Se=De?0:(jt-Rn)/(Gr()-Cm)*1e3||0,kt=ve.utils.clamp(-Me,1-Me,yh(Se/2)*Se/.185),xn=Me+(S.inertia===!1?0:kt),wt,xt,at=S,ht=at.onStart,tt=at.onInterrupt,Un=at.onComplete;if(wt=Re(xn,j),Nm(wt)||(wt=xn),xt=Math.max(0,Math.round(se+wt*Je)),ae<=we&&ae>=se&&xt!==ae){if(be&&!be._initted&&be.data<=yh(xt-ae))return;S.inertia===!1&&(kt=wt-Me),fe(xt,{duration:Mt(yh(Math.max(yh(xn-jt),yh(wt-jt))*.185/Se/.05||0)),ease:S.ease||"power3",data:yh(xt-ae),onInterrupt:function(){return Vt.restart(!0)&&tt&&tt(j)},onComplete:function(){j.update(),Ee=re(),i&&!M&&(Oe?Oe.resetTo("totalProgress",wt,i._tTime/i._tDur):i.progress(wt)),Zn=Rn=i&&!M?i.totalProgress():j.progress,w&&w(j),Un&&Un(j)}},ae,kt*Je,xt-ae-kt*Je),ht&&ht(j,fe.tween)}}else j.isActive&&Ee!==ae&&Vt.restart(!0)}).pause()),l&&(fA[l]=j),h=j.trigger=Oi(h||f!==!0&&f),wn=h&&h._gsap&&h._gsap.stRevert,wn&&(wn=wn(j)),f=f===!0?h:Oi(f),ns(a)&&(a={targets:h,className:a}),f&&(g===!1||g===Os||(g=!g&&f.parentNode&&f.parentNode.style&&Ds(f.parentNode).display==="flex"?!1:zn),j.pin=f,Le=ve.core.getCache(f),Le.spacer?Fn=Le.pinState:(N&&(N=Oi(N),N&&!N.nodeType&&(N=N.current||N.nativeElement),Le.spacerIsNative=!!N,N&&(Le.spacerState=T0(N))),Le.spacer=vt=N||$t.createElement("div"),vt.classList.add("pin-spacer"),l&&vt.classList.add("pin-spacer-"+l),Le.pinState=Fn=T0(f)),r.force3D!==!1&&ve.set(f,{force3D:!0}),j.spacer=vt=Le.spacer,si=Ds(f),Lr=si[g+k.os2],je=ve.getProperty(f),Ht=ve.quickSetter(f,k.a,tr),yb(f,vt,si),Wt=T0(f)),B){Et=ku(B)?TM(B,SM):SM,z=b0("scroller-start",l,O,k,Et,0),St=b0("scroller-end",l,O,k,Et,0,z),_t=z["offset"+k.op.d2];var Ri=Oi(vc(O,"content")||O);Ue=this.markerStart=b0("start",l,Ri,k,Et,_t,0,T),Ge=this.markerEnd=b0("end",l,Ri,k,Et,_t,0,T),T&&(ur=ve.quickSetter([Ue,Ge],k.a,tr)),!J&&!(Zo.length&&vc(O,"fixedMarkers")===!0)&&(ype(U?bt:O),ve.set([z,St],{force3D:!0}),Mr=ve.quickSetter(z,k.a,tr),Jn=ve.quickSetter(St,k.a,tr))}if(T){var Pe=T.vars.onUpdate,Ne=T.vars.onUpdateParams;T.eventCallback("onUpdate",function(){j.update(0,0,1),Pe&&Pe.apply(T,Ne||[])})}if(j.previous=function(){return Ke[Ke.indexOf(j)-1]},j.next=function(){return Ke[Ke.indexOf(j)+1]},j.revert=function(ae,De){if(!De)return j.kill(!0);var be=ae!==!1||!j.enabled,Me=zr;be!==j.isReverted&&(be&&(sn=Math.max(re(),j.scroll.rec||0),Be=j.progress,Kt=i&&i.progress()),Ue&&[Ue,Ge,z,St].forEach(function(jt){return jt.style.display=be?"none":"block"}),be&&(zr=j,j.update(be)),f&&(!C||!j.isActive)&&(be?Epe(f,vt,Fn):yb(f,vt,Ds(f),ot)),be||j.update(be),zr=Me,j.isReverted=be)},j.refresh=function(ae,De,be,Me){if(!((zr||!j.enabled)&&!De)){if(f&&ae&&Gs){pr(t,"scrollEnd",lz);return}!gi&&ne&&ne(j),zr=j,fe.tween&&!be&&(fe.tween.kill(),fe.tween=0),Oe&&Oe.pause(),m&&i&&(i.revert({kill:!1}).invalidate(),i.getChildren&&i.getChildren(!0,!0,!1).forEach(function(ai){return ai.vars.immediateRender&&ai.render(0,!0,!0)})),j.isReverted||j.revert(!0,!0),j._subPinOffset=!1;var jt=ue(),Se=he(),kt=T?T.duration():Wo(O,k),xn=Je<=.01||!Je,wt=0,xt=Me||0,at=ku(be)?be.end:r.end,ht=r.endTrigger||h,tt=ku(be)?be.start:r.start||(r.start===0||!h?0:f?"0 0":"0 100%"),Un=j.pinnedContainer=r.pinnedContainer&&Oi(r.pinnedContainer,j),xr=h&&Math.max(0,Ke.indexOf(j))||0,Yt=xr,Qt,ut,Pi,ko,Xt,Ft,dr,Vr,oi,jr,dn,Ni,Zs;for(B&&ku(be)&&(Ni=ve.getProperty(z,k.p),Zs=ve.getProperty(St,k.p));Yt-- >0;)Ft=Ke[Yt],Ft.end||Ft.refresh(0,1)||(zr=j),dr=Ft.pin,dr&&(dr===h||dr===f||dr===Un)&&!Ft.isReverted&&(jr||(jr=[]),jr.unshift(Ft),Ft.revert(!0,!0)),Ft!==Ke[Yt]&&(xr--,Yt--);for(Xr(tt)&&(tt=tt(j)),tt=wM(tt,"start",j),se=RM(tt,h,jt,k,re(),Ue,z,j,Se,W,J,kt,T,j._startClamp&&"_startClamp")||(f?-.001:0),Xr(at)&&(at=at(j)),ns(at)&&!at.indexOf("+=")&&(~at.indexOf(" ")?at=(ns(tt)?tt.split(" ")[0]:"")+at:(wt=w_(at.substr(2),jt),at=ns(tt)?tt:(T?ve.utils.mapRange(0,T.duration(),T.scrollTrigger.start,T.scrollTrigger.end,se):se)+wt,ht=h)),at=wM(at,"end",j),we=Math.max(se,RM(at||(ht?"100% 0":kt),ht,jt,k,re()+wt,Ge,St,j,Se,W,J,kt,T,j._endClamp&&"_endClamp"))||-.001,wt=0,Yt=xr;Yt--;)Ft=Ke[Yt],dr=Ft.pin,dr&&Ft.start-Ft._pinPush<=se&&!T&&Ft.end>0&&(Qt=Ft.end-(j._startClamp?Math.max(0,Ft.start):Ft.start),(dr===h&&Ft.start-Ft._pinPush<se||dr===Un)&&isNaN(tt)&&(wt+=Qt*(1-Ft.progress)),dr===f&&(xt+=Qt));if(se+=wt,we+=wt,j._startClamp&&(j._startClamp+=wt),j._endClamp&&!gi&&(j._endClamp=we||-.001,we=Math.min(we,Wo(O,k))),Je=we-se||(se-=.01)&&.001,xn&&(Be=ve.utils.clamp(0,1,ve.utils.normalize(se,we,sn))),j._pinPush=xt,Ue&&wt&&(Qt={},Qt[k.a]="+="+wt,Un&&(Qt[k.p]="-="+re()),ve.set([Ue,Ge],Qt)),f&&!(hA&&j.end>=Wo(O,k)))Qt=Ds(f),ko=k===rr,Pi=re(),Gt=parseFloat(je(k.a))+xt,!kt&&we>1&&(dn=(U?$t.scrollingElement||is:O).style,dn={style:dn,value:dn["overflow"+k.a.toUpperCase()]},U&&Ds(bt)["overflow"+k.a.toUpperCase()]!=="scroll"&&(dn.style["overflow"+k.a.toUpperCase()]="scroll")),yb(f,vt,Qt),Wt=T0(f),ut=Pa(f,!0),Vr=J&&Vc(O,ko?_i:rr)(),g?(ot=[g+k.os2,Je+xt+tr],ot.t=vt,Yt=g===zn?Gw(f,k)+Je+xt:0,Yt&&(ot.push(k.d,Yt+tr),vt.style.flexBasis!=="auto"&&(vt.style.flexBasis=Yt+tr)),xf(ot),Un&&Ke.forEach(function(ai){ai.pin===Un&&ai.vars.pinSpacing!==!1&&(ai._subPinOffset=!0)}),J&&re(sn)):(Yt=Gw(f,k),Yt&&vt.style.flexBasis!=="auto"&&(vt.style.flexBasis=Yt+tr)),J&&(Xt={top:ut.top+(ko?Pi-se:Vr)+tr,left:ut.left+(ko?Vr:Pi-se)+tr,boxSizing:"border-box",position:"fixed"},Xt[nd]=Xt["max"+ap]=Math.ceil(ut.width)+tr,Xt[rd]=Xt["max"+GP]=Math.ceil(ut.height)+tr,Xt[Os]=Xt[Os+yg]=Xt[Os+mg]=Xt[Os+vg]=Xt[Os+gg]="0",Xt[zn]=Qt[zn],Xt[zn+yg]=Qt[zn+yg],Xt[zn+mg]=Qt[zn+mg],Xt[zn+vg]=Qt[zn+vg],Xt[zn+gg]=Qt[zn+gg],Cn=Tpe(Fn,Xt,C),gi&&re(0)),i?(oi=i._initted,hb(1),i.render(i.duration(),!0,!0),mt=je(k.a)-Gt+Je+xt,Bn=Math.abs(Je-mt)>1,J&&Bn&&Cn.splice(Cn.length-2,2),i.render(0,!0,!0),oi||i.invalidate(!0),i.parent||i.totalTime(i.totalTime()),hb(0)):mt=Je,dn&&(dn.value?dn.style["overflow"+k.a.toUpperCase()]=dn.value:dn.style.removeProperty("overflow-"+k.a));else if(h&&re()&&!T)for(ut=h.parentNode;ut&&ut!==bt;)ut._pinOffset&&(se-=ut._pinOffset,we-=ut._pinOffset),ut=ut.parentNode;jr&&jr.forEach(function(ai){return ai.revert(!1,!0)}),j.start=se,j.end=we,le=Z=gi?sn:re(),!T&&!gi&&(le<sn&&re(sn),j.scroll.rec=0),j.revert(!1,!0),me=Gr(),Vt&&(Ee=-1,Vt.restart(!0)),zr=0,i&&M&&(i._initted||Kt)&&i.progress()!==Kt&&i.progress(Kt||0,!0).render(i.time(),!0,!0),(xn||Be!==j.progress||T||m||i&&!i._initted)&&(i&&!M&&(i._initted||Be||i.vars.immediateRender!==!1)&&i.totalProgress(T&&se<-.001&&!Be?ve.utils.normalize(se,we,0):Be,!0),j.progress=xn||(le-se)/Je===Be?0:Be),f&&g&&(vt._pinOffset=Math.round(j.progress*mt)),Oe&&Oe.invalidate(),isNaN(Ni)||(Ni-=ve.getProperty(z,k.p),Zs-=ve.getProperty(St,k.p),S0(z,k,Ni),S0(Ue,k,Ni-(Me||0)),S0(St,k,Zs),S0(Ge,k,Zs-(Me||0))),xn&&!gi&&j.update(),u&&!gi&&!Nt&&(Nt=!0,u(j),Nt=!1)}},j.getVelocity=function(){return(re()-Z)/(Gr()-Cm)*1e3||0},j.endAnimation=function(){cm(j.callbackAnimation),i&&(Oe?Oe.progress(1):i.paused()?M||cm(i,j.direction<0,1):cm(i,i.reversed()))},j.labelToScroll=function(ae){return i&&i.labels&&(se||j.refresh()||se)+i.labels[ae]/i.duration()*Je||0},j.getTrailing=function(ae){var De=Ke.indexOf(j),be=j.direction>0?Ke.slice(0,De).reverse():Ke.slice(De+1);return(ns(ae)?be.filter(function(Me){return Me.vars.preventOverlaps===ae}):be).filter(function(Me){return j.direction>0?Me.end<=se:Me.start>=we})},j.update=function(ae,De,be){if(!(T&&!be&&!ae)){var Me=gi===!0?sn:j.scroll(),jt=ae?0:(Me-se)/Je,Se=jt<0?0:jt>1?1:jt||0,kt=j.progress,xn,wt,xt,at,ht,tt,Un,xr;if(De&&(Z=le,le=T?re():Me,S&&(Rn=Zn,Zn=i&&!M?i.totalProgress():Se)),v&&f&&!zr&&!v0&&Gs&&(!Se&&se<Me+(Me-Z)/(Gr()-Cm)*v?Se=1e-4:Se===1&&we>Me+(Me-Z)/(Gr()-Cm)*v&&(Se=.9999)),Se!==kt&&j.enabled){if(xn=j.isActive=!!Se&&Se<1,wt=!!kt&&kt<1,tt=xn!==wt,ht=tt||!!Se!=!!kt,j.direction=Se>kt?1:-1,j.progress=Se,ht&&!zr&&(xt=Se&&!kt?0:Se===1?1:kt===1?2:3,M&&(at=!tt&&H[xt+1]!=="none"&&H[xt+1]||H[xt],xr=i&&(at==="complete"||at==="reset"||at in i))),P&&(tt||xr)&&(xr||d||!i)&&(Xr(P)?P(j):j.getTrailing(P).forEach(function(Pi){return Pi.endAnimation()})),M||(Oe&&!zr&&!v0?(Oe._dp._time-Oe._start!==Oe._time&&Oe.render(Oe._dp._time-Oe._start),Oe.resetTo?Oe.resetTo("totalProgress",Se,i._tTime/i._tDur):(Oe.vars.totalProgress=Se,Oe.invalidate().restart())):i&&i.totalProgress(Se,!!(zr&&(me||ae)))),f){if(ae&&g&&(vt.style[g+k.os2]=Lr),!J)Ht(Pm(Gt+mt*Se));else if(ht){if(Un=!ae&&Se>kt&&we+1>Me&&Me+1>=Wo(O,k),C)if(!ae&&(xn||Un)){var Yt=Pa(f,!0),Qt=Me-se;PM(f,bt,Yt.top+(k===rr?Qt:0)+tr,Yt.left+(k===rr?0:Qt)+tr)}else PM(f,vt);xf(xn||Un?Cn:Wt),Bn&&Se<1&&xn||Ht(Gt+(Se===1&&!Un?mt:0))}}S&&!fe.tween&&!zr&&!v0&&Vt.restart(!0),a&&(tt||E&&Se&&(Se<1||!fb))&&Ay(a.targets).forEach(function(Pi){return Pi.classList[xn||E?"add":"remove"](a.className)}),o&&!M&&!ae&&o(j),ht&&!zr?(M&&(xr&&(at==="complete"?i.pause().totalProgress(1):at==="reset"?i.restart(!0).pause():at==="restart"?i.restart(!0):i[at]()),o&&o(j)),(tt||!fb)&&(c&&tt&&mb(j,c),Q[xt]&&mb(j,Q[xt]),E&&(Se===1?j.kill(!1,1):Q[xt]=0),tt||(xt=Se===1?1:3,Q[xt]&&mb(j,Q[xt]))),A&&!xn&&Math.abs(j.getVelocity())>(Nm(A)?A:2500)&&(cm(j.callbackAnimation),Oe?Oe.progress(1):cm(i,at==="reverse"?1:!Se,1))):M&&o&&!zr&&o(j)}if(Jn){var ut=T?Me/T.duration()*(T._caScrollDist||0):Me;Mr(ut+(z._isFlipped?1:0)),Jn(ut)}ur&&ur(-Me/T.duration()*(T._caScrollDist||0))}},j.enable=function(ae,De){j.enabled||(j.enabled=!0,pr(O,"resize",km),U||pr(O,"scroll",vh),ne&&pr(t,"refreshInit",ne),ae!==!1&&(j.progress=Be=0,le=Z=Ee=re()),De!==!1&&j.refresh())},j.getTween=function(ae){return ae&&fe?fe.tween:Oe},j.setPositions=function(ae,De,be,Me){if(T){var jt=T.scrollTrigger,Se=T.duration(),kt=jt.end-jt.start;ae=jt.start+kt*ae/Se,De=jt.start+kt*De/Se}j.refresh(!1,!1,{start:xM(ae,be&&!!j._startClamp),end:xM(De,be&&!!j._endClamp)},Me),j.update()},j.adjustPinSpacing=function(ae){if(ot&&ae){var De=ot.indexOf(k.d)+1;ot[De]=parseFloat(ot[De])+ae+tr,ot[1]=parseFloat(ot[1])+ae+tr,xf(ot)}},j.disable=function(ae,De){if(j.enabled&&(ae!==!1&&j.revert(!0,!0),j.enabled=j.isActive=!1,De||Oe&&Oe.pause(),sn=0,Le&&(Le.uncache=1),ne&&fr(t,"refreshInit",ne),Vt&&(Vt.pause(),fe.tween&&fe.tween.kill()&&(fe.tween=0)),!U)){for(var be=Ke.length;be--;)if(Ke[be].scroller===O&&Ke[be]!==j)return;fr(O,"resize",km),U||fr(O,"scroll",vh)}},j.kill=function(ae,De){j.disable(ae,De),Oe&&!De&&Oe.kill(),l&&delete fA[l];var be=Ke.indexOf(j);be>=0&&Ke.splice(be,1),be===mi&&E_>0&&mi--,be=0,Ke.forEach(function(Me){return Me.scroller===j.scroller&&(be=1)}),be||gi||(j.scroll.rec=0),i&&(i.scrollTrigger=null,ae&&i.revert({kill:!1}),De||i.kill()),Ue&&[Ue,Ge,z,St].forEach(function(Me){return Me.parentNode&&Me.parentNode.removeChild(Me)}),_g===j&&(_g=0),f&&(Le&&(Le.uncache=1),be=0,Ke.forEach(function(Me){return Me.pin===f&&be++}),be||(Le.spacer=0)),r.onKill&&r.onKill(j)},Ke.push(j),j.enable(!1,!1),wn&&wn(j),i&&i.add&&!Je){var ke=j.update;j.update=function(){j.update=ke,Qe.cache++,se||we||j.refresh()},ve.delayedCall(.01,j.update),Je=.01,se=we=0}else j.refresh();f&&xpe()},t.register=function(r){return Ih||(ve=r||nz(),tz()&&window.document&&t.enable(),Ih=Rm),Ih},t.defaults=function(r){if(r)for(var i in r)E0[i]=r[i];return E0},t.disable=function(r,i){Rm=0,Ke.forEach(function(o){return o[i?"kill":"disable"](r)}),fr(Ye,"wheel",vh),fr($t,"scroll",vh),clearInterval(y0),fr($t,"touchcancel",Fo),fr(bt,"touchstart",Fo),w0(fr,$t,"pointerdown,touchstart,mousedown",EM),w0(fr,$t,"pointerup,touchend,mouseup",bM),Ww.kill(),_0(fr);for(var s=0;s<Qe.length;s+=3)x0(fr,Qe[s],Qe[s+1]),x0(fr,Qe[s],Qe[s+2])},t.enable=function(){if(Ye=window,$t=document,is=$t.documentElement,bt=$t.body,ve&&(Ay=ve.utils.toArray,pg=ve.utils.clamp,dA=ve.core.context||Fo,hb=ve.core.suppressOverwrites||Fo,qP=Ye.history.scrollRestoration||"auto",pA=Ye.pageYOffset||0,ve.core.globals("ScrollTrigger",t),bt)){Rm=1,wf=document.createElement("div"),wf.style.height="100vh",wf.style.position="absolute",dz(),ppe(),Ln.register(ve),t.isTouch=Ln.isTouch,Ol=Ln.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),uA=Ln.isTouch===1,pr(Ye,"wheel",vh),$P=[Ye,$t,is,bt],ve.matchMedia?(t.matchMedia=function(c){var u=ve.matchMedia(),d;for(d in c)u.add(d,c[d]);return u},ve.addEventListener("matchMediaInit",function(){return YP()}),ve.addEventListener("matchMediaRevert",function(){return cz()}),ve.addEventListener("matchMedia",function(){Hu(0,1),Cd("matchMedia")}),ve.matchMedia().add("(orientation: portrait)",function(){return gb(),gb})):console.warn("Requires GSAP 3.11.0 or later"),gb(),pr($t,"scroll",vh);var r=bt.hasAttribute("style"),i=bt.style,s=i.borderTopStyle,o=ve.core.Animation.prototype,a,l;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",a=Pa(bt),rr.m=Math.round(a.top+rr.sc())||0,_i.m=Math.round(a.left+_i.sc())||0,s?i.borderTopStyle=s:i.removeProperty("border-top-style"),r||(bt.setAttribute("style",""),bt.removeAttribute("style")),y0=setInterval(AM,250),ve.delayedCall(.5,function(){return v0=0}),pr($t,"touchcancel",Fo),pr(bt,"touchstart",Fo),w0(pr,$t,"pointerdown,touchstart,mousedown",EM),w0(pr,$t,"pointerup,touchend,mouseup",bM),cA=ve.utils.checkPrefix("transform"),b_.push(cA),Ih=Gr(),Ww=ve.delayedCall(.2,Hu).pause(),Ch=[$t,"visibilitychange",function(){var c=Ye.innerWidth,u=Ye.innerHeight;$t.hidden?(vM=c,_M=u):(vM!==c||_M!==u)&&km()},$t,"DOMContentLoaded",Hu,Ye,"load",Hu,Ye,"resize",km],_0(pr),Ke.forEach(function(c){return c.enable(0,1)}),l=0;l<Qe.length;l+=3)x0(fr,Qe[l],Qe[l+1]),x0(fr,Qe[l],Qe[l+2])}},t.config=function(r){"limitCallbacks"in r&&(fb=!!r.limitCallbacks);var i=r.syncInterval;i&&clearInterval(y0)||(y0=i)&&setInterval(AM,i),"ignoreMobileResize"in r&&(uA=t.isTouch===1&&r.ignoreMobileResize),"autoRefreshEvents"in r&&(_0(fr)||_0(pr,r.autoRefreshEvents||"none"),Jq=(r.autoRefreshEvents+"").indexOf("resize")===-1)},t.scrollerProxy=function(r,i){var s=Oi(r),o=Qe.indexOf(s),a=Ad(s);~o&&Qe.splice(o,a?6:2),i&&(a?Zo.unshift(Ye,i,bt,i,is,i):Zo.unshift(s,i))},t.clearMatchMedia=function(r){Ke.forEach(function(i){return i._ctx&&i._ctx.query===r&&i._ctx.kill(!0,!0)})},t.isInViewport=function(r,i,s){var o=(ns(r)?Oi(r):r).getBoundingClientRect(),a=o[s?nd:rd]*i||0;return s?o.right-a>0&&o.left+a<Ye.innerWidth:o.bottom-a>0&&o.top+a<Ye.innerHeight},t.positionInViewport=function(r,i,s){ns(r)&&(r=Oi(r));var o=r.getBoundingClientRect(),a=o[s?nd:rd],l=i==null?a/2:i in Kw?Kw[i]*a:~i.indexOf("%")?parseFloat(i)*a/100:parseFloat(i)||0;return s?(o.left+l)/Ye.innerWidth:(o.top+l)/Ye.innerHeight},t.killAll=function(r){if(Ke.slice(0).forEach(function(s){return s.vars.id!=="ScrollSmoother"&&s.kill()}),r!==!0){var i=Id.killAll||[];Id={},i.forEach(function(s){return s()})}},t}();Xe.version="3.13.0";Xe.saveStyles=function(t){return t?Ay(t).forEach(function(e){if(e&&e.style){var n=es.indexOf(e);n>=0&&es.splice(n,5),es.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),ve.core.getCache(e),dA())}}):es};Xe.revert=function(t,e){return YP(!t,e)};Xe.create=function(t,e){return new Xe(t,e)};Xe.refresh=function(t){return t?km(!0):(Ih||Xe.register())&&Hu(!0)};Xe.update=function(t){return++Qe.cache&&qa(t===!0?2:0)};Xe.clearScrollMemory=uz;Xe.maxScroll=function(t,e){return Wo(t,e?_i:rr)};Xe.getScrollFunc=function(t,e){return Vc(Oi(t),e?_i:rr)};Xe.getById=function(t){return fA[t]};Xe.getAll=function(){return Ke.filter(function(t){return t.vars.id!=="ScrollSmoother"})};Xe.isScrolling=function(){return!!Gs};Xe.snapDirectional=KP;Xe.addEventListener=function(t,e){var n=Id[t]||(Id[t]=[]);~n.indexOf(e)||n.push(e)};Xe.removeEventListener=function(t,e){var n=Id[t],r=n&&n.indexOf(e);r>=0&&n.splice(r,1)};Xe.batch=function(t,e){var n=[],r={},i=e.interval||.016,s=e.batchMax||1e9,o=function(c,u){var d=[],h=[],f=ve.delayedCall(i,function(){u(d,h),d=[],h=[]}).pause();return function(g){d.length||f.restart(!0),d.push(g.trigger),h.push(g),s<=d.length&&f.progress(1)}},a;for(a in e)r[a]=a.substr(0,2)==="on"&&Xr(e[a])&&a!=="onRefreshInit"?o(a,e[a]):e[a];return Xr(s)&&(s=s(),pr(Xe,"refresh",function(){return s=e.batchMax()})),Ay(t).forEach(function(l){var c={};for(a in r)c[a]=r[a];c.trigger=l,n.push(Xe.create(c))}),n};var kM=function(e,n,r,i){return n>i?e(i):n<0&&e(0),r>i?(i-n)/(r-n):r<0?n/(n-r):1},vb=function t(e,n){n===!0?e.style.removeProperty("touch-action"):e.style.touchAction=n===!0?"auto":n?"pan-"+n+(Ln.isTouch?" pinch-zoom":""):"none",e===is&&t(bt,n)},A0={auto:1,scroll:1},Ape=function(e){var n=e.event,r=e.target,i=e.axis,s=(n.changedTouches?n.changedTouches[0]:n).target,o=s._gsap||ve.core.getCache(s),a=Gr(),l;if(!o._isScrollT||a-o._isScrollT>2e3){for(;s&&s!==bt&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!(A0[(l=Ds(s)).overflowY]||A0[l.overflowX]));)s=s.parentNode;o._isScroll=s&&s!==r&&!Ad(s)&&(A0[(l=Ds(s)).overflowY]||A0[l.overflowX]),o._isScrollT=a}(o._isScroll||i==="x")&&(n.stopPropagation(),n._gsapAllow=!0)},fz=function(e,n,r,i){return Ln.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:n,onWheel:i=i&&Ape,onPress:i,onDrag:i,onScroll:i,onEnable:function(){return r&&pr($t,Ln.eventTypes[0],DM,!1,!0)},onDisable:function(){return fr($t,Ln.eventTypes[0],DM,!0)}})},Ipe=/(input|label|select|textarea)/i,OM,DM=function(e){var n=Ipe.test(e.target.tagName);(n||OM)&&(e._gsapAllow=!0,OM=n)},Cpe=function(e){ku(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var n=e,r=n.normalizeScrollX,i=n.momentum,s=n.allowNestedScroll,o=n.onRelease,a,l,c=Oi(e.target)||is,u=ve.core.globals().ScrollSmoother,d=u&&u.get(),h=Ol&&(e.content&&Oi(e.content)||d&&e.content!==!1&&!d.smooth()&&d.content()),f=Vc(c,rr),g=Vc(c,_i),m=1,v=(Ln.isTouch&&Ye.visualViewport?Ye.visualViewport.scale*Ye.visualViewport.width:Ye.outerWidth)/Ye.innerWidth,y=0,w=Xr(i)?function(){return i(a)}:function(){return i||2.8},E,S,C=fz(c,e.type,!0,s),N=function(){return S=!1},T=Fo,A=Fo,P=function(){l=Wo(c,rr),A=pg(Ol?1:0,l),r&&(T=pg(0,Wo(c,_i))),E=id},k=function(){h._gsap.y=Pm(parseFloat(h._gsap.y)+f.offset)+"px",h.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(h._gsap.y)+", 0, 1)",f.offset=f.cacheID=0},M=function(){if(S){requestAnimationFrame(N);var B=Pm(a.deltaY/2),W=A(f.v-B);if(h&&W!==f.v+f.offset){f.offset=W-f.v;var j=Pm((parseFloat(h&&h._gsap.y)||0)-f.offset);h.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+j+", 0, 1)",h._gsap.y=j+"px",f.cacheID=Qe.cache,qa()}return!0}f.offset&&k(),S=!0},O,D,U,J,Q=function(){P(),O.isActive()&&O.vars.scrollY>l&&(f()>l?O.progress(1)&&f(l):O.resetTo("scrollY",l))};return h&&ve.set(h,{y:"+=0"}),e.ignoreCheck=function(H){return Ol&&H.type==="touchmove"&&M()||m>1.05&&H.type!=="touchstart"||a.isGesturing||H.touches&&H.touches.length>1},e.onPress=function(){S=!1;var H=m;m=Pm((Ye.visualViewport&&Ye.visualViewport.scale||1)/v),O.pause(),H!==m&&vb(c,m>1.01?!0:r?!1:"x"),D=g(),U=f(),P(),E=id},e.onRelease=e.onGestureStart=function(H,B){if(f.offset&&k(),!B)J.restart(!0);else{Qe.cache++;var W=w(),j,ne;r&&(j=g(),ne=j+W*.05*-H.velocityX/.227,W*=kM(g,j,ne,Wo(c,_i)),O.vars.scrollX=T(ne)),j=f(),ne=j+W*.05*-H.velocityY/.227,W*=kM(f,j,ne,Wo(c,rr)),O.vars.scrollY=A(ne),O.invalidate().duration(W).play(.01),(Ol&&O.vars.scrollY>=l||j>=l-1)&&ve.to({},{onUpdate:Q,duration:W})}o&&o(H)},e.onWheel=function(){O._ts&&O.pause(),Gr()-y>1e3&&(E=0,y=Gr())},e.onChange=function(H,B,W,j,ne){if(id!==E&&P(),B&&r&&g(T(j[2]===B?D+(H.startX-H.x):g()+B-j[1])),W){f.offset&&k();var ue=ne[2]===W,he=ue?U+H.startY-H.y:f()+W-ne[1],Ee=A(he);ue&&he!==Ee&&(U+=Ee-he),f(Ee)}(W||B)&&qa()},e.onEnable=function(){vb(c,r?!1:"x"),Xe.addEventListener("refresh",Q),pr(Ye,"resize",Q),f.smooth&&(f.target.style.scrollBehavior="auto",f.smooth=g.smooth=!1),C.enable()},e.onDisable=function(){vb(c,!0),fr(Ye,"resize",Q),Xe.removeEventListener("refresh",Q),C.kill()},e.lockAxis=e.lockAxis!==!1,a=new Ln(e),a.iOS=Ol,Ol&&!f()&&f(1),Ol&&ve.ticker.add(Fo),J=a._dc,O=ve.to(a,{ease:"power4",paused:!0,inherit:!1,scrollX:r?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:hz(f,f(),function(){return O.pause()})},onUpdate:qa,onComplete:J.vars.onComplete}),a};Xe.sort=function(t){if(Xr(t))return Ke.sort(t);var e=Ye.pageYOffset||0;return Xe.getAll().forEach(function(n){return n._sortY=n.trigger?e+n.trigger.getBoundingClientRect().top:n.start+Ye.innerHeight}),Ke.sort(t||function(n,r){return(n.vars.refreshPriority||0)*-1e6+(n.vars.containerAnimation?1e6:n._sortY)-((r.vars.containerAnimation?1e6:r._sortY)+(r.vars.refreshPriority||0)*-1e6)})};Xe.observe=function(t){return new Ln(t)};Xe.normalizeScroll=function(t){if(typeof t>"u")return hi;if(t===!0&&hi)return hi.enable();if(t===!1){hi&&hi.kill(),hi=t;return}var e=t instanceof Ln?t:Cpe(t);return hi&&hi.target===e.target&&hi.kill(),Ad(e.target)&&(hi=e),e};Xe.core={_getVelocityProp:lA,_inputObserver:fz,_scrollers:Qe,_proxies:Zo,bridge:{ss:function(){Gs||Cd("scrollStart"),Gs=Gr()},ref:function(){return zr}}};nz()&&ve.registerPlugin(Xe);mo.registerPlugin(Xe);const Rpe=()=>{x.useEffect(()=>{mo.utils.toArray(".timeline-step").forEach(e=>{mo.set(e,{autoAlpha:0,y:100}),mo.to(e,{autoAlpha:1,y:0,duration:.8,ease:"power2.out",scrollTrigger:{trigger:e,start:"top 80%",toggleActions:"play none none reverse"}})})},[]);const t=[{num:"1",title:"Pick Your Genre",desc:"Fantasy, sci-fi, romance, or even a custom theme.",gif:"/step1.gif"},{num:"2",title:"Add Your Idea",desc:"Type a short prompt or describe your characters.",gif:"/step2.gif"},{num:"3",title:"Generate Your Story",desc:"Get a complete draft instantly with one click.",gif:"/step3.gif"},{num:"4",title:"Edit & Share",desc:"Refine your story, then export or share with friends.",gif:"/step4.gif"}];return _.jsx("section",{id:"how-it-works",className:"relative py-20 bg-gradient-to-b from-white to-gray-50 dark:from-gray-900 dark:to-gray-800",children:_.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[_.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-gray-100 text-center",children:"How StoryGen Works"}),_.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-center mt-4",children:"Create unique stories in just a few simple steps."}),_.jsxs("div",{className:"relative mt-16",children:[_.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 h-full border-l-2 border-dashed border-gray-400 dark:border-gray-600"}),_.jsx("div",{className:"space-y-32",children:t.map((e,n)=>_.jsxs("div",{className:`timeline-step relative grid md:grid-cols-2 gap-12 items-center ${n%2===1?"md:flex-row-reverse":""}`,children:[_.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 -translate-y-6 bg-orange-1 text-white-1 w-12 h-12 flex items-center justify-center rounded-full shadow-lg font-bold text-lg z-10",children:e.num}),_.jsxs("div",{className:`${n%2===1?"md:col-start-2":""} bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700`,children:[_.jsx("h3",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:e.title}),_.jsx("p",{className:"mt-4 text-lg text-gray-600 dark:text-gray-300",children:e.desc})]}),_.jsx("div",{className:`${n%2===1?"md:col-start-1":""} rounded-2xl overflow-hidden shadow-xl border border-gray-200 dark:border-gray-700`,children:_.jsx("img",{src:e.gif,alt:`${e.title} demo`,className:"w-full object-cover"})})]},e.num))})]})]})})},Ppe=({setOpen:t})=>_.jsx("section",{className:"relative py-20 bg-purple-300 ",children:_.jsxs("div",{className:"max-w-5xl mx-auto px-6 text-center text-gray-900",children:[_.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold mb-6",children:"Start Creating Stories Today"}),_.jsx("p",{className:"text-lg md:text-xl mb-10 text-gray-900 max-w-2xl mx-auto",children:"Turn your ideas into full stories instantly. Try StoryGen free and bring your imagination to life."}),_.jsx("div",{className:"flex flex-col sm:flex-row justify-center gap-6",children:_.jsx(jn,{onClick:()=>t(!0),size:"lg",className:"bg-orange-1 text-white-1 hover:bg-purple-600 py-3",children:"Get started for free"})})]})});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gA=function(){return gA=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gA.apply(this,arguments)};function Npe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var Ef="",wg=null,S_=null,pz=null;function QP(){Ef="",wg!==null&&wg.disconnect(),S_!==null&&(window.clearTimeout(S_),S_=null)}function LM(t){var e=["BUTTON","INPUT","SELECT","TEXTAREA"],n=["A","AREA"];return e.includes(t.tagName)&&!t.hasAttribute("disabled")||n.includes(t.tagName)&&t.hasAttribute("href")}function MM(){var t=null;if(Ef==="#")t=document.body;else{var e=Ef.replace("#","");t=document.getElementById(e),t===null&&Ef==="#top"&&(t=document.body)}if(t!==null){pz(t);var n=t.getAttribute("tabindex");return n===null&&!LM(t)&&t.setAttribute("tabindex",-1),t.focus({preventScroll:!0}),n===null&&!LM(t)&&(t.blur(),t.removeAttribute("tabindex")),QP(),!0}return!1}function kpe(t){window.setTimeout(function(){MM()===!1&&(wg===null&&(wg=new MutationObserver(MM)),wg.observe(document,{attributes:!0,childList:!0,subtree:!0}),S_=window.setTimeout(function(){QP()},t||1e4))},0)}function mz(t){return ir.forwardRef(function(e,n){var r="";typeof e.to=="string"&&e.to.includes("#")?r="#"+e.to.split("#").slice(1).join("#"):typeof e.to=="object"&&typeof e.to.hash=="string"&&(r=e.to.hash);var i={};t===G4&&(i.isActive=function(a,l){return a&&a.isExact&&l.hash===r});function s(a){QP(),Ef=e.elementId?"#"+e.elementId:r,e.onClick&&e.onClick(a),Ef!==""&&!a.defaultPrevented&&a.button===0&&(!e.target||e.target==="_self")&&!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)&&(pz=e.scroll||function(l){return e.smooth?l.scrollIntoView({behavior:"smooth"}):l.scrollIntoView()},kpe(e.timeout))}var o=Npe(e,["scroll","smooth","timeout","elementId"]);return ir.createElement(t,gA({},i,o,{onClick:s,ref:n}),e.children)})}var bf=mz(ra);mz(G4);const Ope=()=>_.jsxs("footer",{className:"bg-gray-900 text-gray-300 py-12",children:[_.jsxs("div",{className:"max-w-6xl mx-auto px-6 grid md:grid-cols-3 gap-12",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-xl font-bold text-white",children:"StoryGen"}),_.jsx("p",{className:"mt-4 text-gray-400",children:"Instantly generate unique and engaging stories with the power of AI. Save time, focus on creativity, and let your imagination flow."})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"text-lg font-semibold text-white",children:"Quick Links"}),_.jsxs("ul",{className:"mt-4 space-y-3",children:[_.jsx("li",{children:_.jsx(bf,{smooth:!0,to:"#features",className:"hover:text-white transition",children:"Features"})}),_.jsx("li",{children:_.jsx(bf,{smooth:!0,to:"#how-it-works",className:"hover:text-white transition",children:"How It Works"})}),_.jsx("li",{children:_.jsx(bf,{smooth:!0,to:"#faq",className:"hover:text-white transition",children:"FAQ"})})]})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"text-lg font-semibold text-white",children:"Connect"}),_.jsxs("ul",{className:"mt-4 space-y-3",children:[_.jsx("li",{children:_.jsx("a",{href:"mailto:hello@storygen.com",className:"hover:text-white transition",children:"hello@storygen.com"})}),_.jsxs("li",{className:"flex space-x-4 mt-2",children:[_.jsx("a",{href:"#",className:"hover:text-white transition",children:""}),_.jsx("a",{href:"#",className:"hover:text-white transition",children:""}),_.jsx("a",{href:"#",className:"hover:text-white transition",children:""}),_.jsx("a",{href:"#",className:"hover:text-white transition",children:""})]})]})]})]}),_.jsxs("div",{className:"mt-12 border-t border-gray-700 pt-6 text-center text-gray-500 text-sm",children:[" ",new Date().getFullYear()," StoryGen. All rights reserved."]})]});mo.registerPlugin(UP);mo.registerPlugin(Xe);const Dpe=()=>{const[t,e]=x.useState(!1),[n,r]=x.useState(!1);return x.useEffect(()=>{let i=null;const s=async()=>{i&&i.revert(),i=new UP(".paragraph",{type:"words,chars"}),await mo.from(i.chars,{opacity:0,yPercent:"random([-30,30])",rotation:"random([-90,90])",autoAlpha:0,ease:"back.inOut",stagger:{from:"random",amount:.5,grid:"auto"},duration:1.2}),i.words.forEach(l=>{Math.random()<.3?l.classList.add("underlineWords"):l.style.border="none"}),mo.to(" .underlineWords",{border:"4px solid #fb923c",ease:"back.inOut",duration:.3})},o=mo.utils.toArray(".feature-text").map((l,c)=>mo.from(l,{scrollTrigger:{trigger:l,toggleActions:"play none none reverse",start:"top 80%"},x:c%2===0?-100:100,opacity:0,duration:.8,ease:"power2.out"}));s();const a=setInterval(s,5e3);return()=>{clearInterval(a),i&&i.revert(),o&&o.map(l=>l.kill())}},[]),_.jsxs("div",{className:" w-full  h-screen bg-white-1",children:[_.jsxs("header",{className:"max-w-[1200px] mx-auto pt-6 px-4 flex justify-between items-center",children:[_.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[_.jsx("img",{src:"/Story-Website/logo.svg",width:40,height:40}),_.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-black-2",children:"Story Teller"})]}),_.jsxs("nav",{className:"hidden md:flex flex-row gap-6 text-gray-800 items-center font-semibold",children:[_.jsx("span",{className:"hover:underline cursor-pointer",children:_.jsx(bf,{smooth:!0,to:"#how-it-works",className:"no-underline",children:"How it works"})}),_.jsx("span",{className:"hover:underline cursor-pointer",children:_.jsx(bf,{smooth:!0,to:"#features",className:"no-underline",children:"Features"})}),_.jsx("span",{className:"hover:underline cursor-pointer",children:_.jsx(bf,{smooth:!0,to:"#faq",className:"no-underline",children:"FAQ"})})]}),_.jsxs(jn,{onClick:()=>{e(!0),r(!1)},className:"bg-orange-1 flex flex-row items-center gap-1 px-3 py-2 rounded-md",children:[_.jsx(sce,{className:"size-4"}),_.jsx("span",{className:"text-white text-sm sm:text-base",children:"Get Started"})]})]}),_.jsxs("main",{className:"min-h-screen mx-auto w-full max-w-[800px] flex justify-center items-center flex-col px-4",children:[_.jsx("div",{children:_.jsx("img",{src:"/Story-Website/logo.svg",width:160,height:160,className:"mx-auto"})}),_.jsx("div",{className:"mt-8 sm:mt-12 flex flex-col items-center",children:_.jsx("h1",{className:"paragraph w-full leading-relaxed text-3xl sm:text-5xl font-bold text-black-2 text-center",children:"Story Teller AI-Powered Storytelling Platform"})})]}),_.jsx("section",{id:"features",className:"py-20 bg-purple-300 ",children:_.jsxs("div",{className:"  max-w-6xl mx-auto px-6 space-y-20",children:[_.jsxs("div",{className:" feature-text grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"AI Story Generation"}),_.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Instantly generate unique and engaging stories with our AI-powered engine. Save hours of writing and focus on creativity."})]}),_.jsx("div",{className:"flex justify-center",children:_.jsx("img",{src:"/images/ai-story.png",alt:"AI Story Generation",className:"rounded-2xl shadow-lg"})})]}),_.jsxs("div",{className:"feature-text grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[_.jsx("div",{className:"order-2 md:order-1 flex justify-center",children:_.jsx("img",{src:"/images/multiple-formats.png",alt:"Multiple Formats",className:"rounded-2xl shadow-lg"})}),_.jsxs("div",{className:"order-1 md:order-2",children:[_.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Multiple Formats"}),_.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"From novels and short stories to scripts and marketing content  create in any format you need."})]})]}),_.jsxs("div",{className:" feature-text grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Personalized Style"}),_.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Customize tone, style, and genre to match your storytelling voice. Your story, your way."})]}),_.jsx("div",{className:"flex justify-center",children:_.jsx("img",{src:"/images/personalized-style.png",alt:"Personalized Style",className:"rounded-2xl shadow-lg"})})]})]})}),_.jsx(Rpe,{}),_.jsx(Ppe,{setOpen:e}),_.jsx("div",{className:" w-full -mt-1 bg-gradient-to-b  from-purple-300 to-gray-800   h-20  "}),_.jsx(Ope,{}),_.jsx(Hhe,{isopen:t,setIsLogin:r,setIsopen:e,isLogin:n})]})},Lpe=({setImgUrl:t})=>{const e=x.useRef(null),[n,r]=x.useState(""),[i,s]=x.useState(!1),o=async a=>{var c;const l=(c=a.target.files)==null?void 0:c[0];if(l){s(!0);const u=new FormData,d=URL.createObjectURL(l);r(d),u.append("file",l);const h=await gx().UploadImg(u);t(h.url),s(!1)}};return _.jsxs("div",{className:"",children:[_.jsx("label",{htmlFor:"cover-image",className:"block text-lg font-semibold mb-2",children:"Cover Image"}),_.jsx("input",{ref:e,type:"file",id:"cover-image",accept:"image/*",className:" hidden",onChange:o}),_.jsxs("div",{className:" flex gap-2 items-center border-2 w-fit p-1 rounded-lg",children:[_.jsx(jn,{className:" rounded-md bg-orange-1 text-white-1",onClick:()=>{var a;return(a=e.current)==null?void 0:a.click()},children:i?_.jsx(kp,{size:"18px"}):_.jsx("span",{children:"Upload img"})}),_.jsx("span",{className:" text-black-2 font-semibold text-lg",children:n})]})]})},VM=()=>{const[t,e]=x.useState(""),[n,r]=x.useState([]);return{item:t,addItem:()=>{t.trim()!==""&&(r([...n,t.trim()]),e(""))},itemList:n,setItem:e,setItemList:r}},Mpe=()=>_.jsx(yv,{}),Vpe=()=>{const[t,e]=x.useState(""),[n,r]=x.useState(""),[i,s]=x.useState(""),o=VM(),a=VM(),[l,c]=x.useState(""),u={title:t,desc:n,category:i,character:o.itemList[0],tag:a.itemList[0],ImgUrl:l};function d(){const h=[];for(const f of Object.keys(u))u[f]||h.push(f);return h.length===0?!0:(Si({title:"Error occurred",description:h.length===1?`You have not filled in ${h[0]}`:"You have not filled in the required inputs",variant:"destructive"}),!1)}return{title:t,setTitle:e,desc:n,setDesc:r,category:i,setCategory:s,tag:a,character:o,Error:Mpe,handleError:d,ImgUrl:l,setImgUrl:c}},jpe=wo.firestore.Timestamp,Fpe=async({currentUser:t,setLoading:e,setStoryId:n,Details:r,navigate:i})=>{if(t!=null&&t.email)try{const s=We.collection("WrittenStories").doc().id;e(!0),await We.collection("WrittenStories").doc(s).set({title:r.title,desc:r.desc,category:r.category,character:r.character,tag:r.tag,ImgUrl:r.ImgUrl,author:t.uid,likes:0,time:jpe.now()}),n(s),i(`/session/${s}`,{state:{from:"new"}})}catch(s){Si({variant:"destructive",title:"Uh oh! Something went wrong",description:"There was a problem with your request."}),console.log(s)}finally{e(!1)}},Bpe=()=>{var E;const{title:t,setTitle:e,desc:n,setDesc:r,category:i,setCategory:s,character:o,tag:a,Error:l,handleError:c,ImgUrl:u,setImgUrl:d}=Vpe(),[h,f]=x.useState(!1),{currentUser:g}=Js(),{setStoryId:m}=qhe(),v=Xs(),y={title:t,desc:n,category:i,character:o.itemList,tag:a.itemList,ImgUrl:u};async function w(){c()&&await Fpe({currentUser:g,setLoading:f,setStoryId:m,Details:y,navigate:v})}return _.jsxs("div",{children:[_.jsxs("div",{className:"flex flex-row w-full h-fit absolute left-0",children:[_.jsx("div",{className:" flex justify-center items-center max-xl:hidden",children:_.jsx("img",{src:"/Story-Website/writeS.webp",width:500,className:"h-full"})}),_.jsxs("div",{className:" flex-1 pt-5 px-4 h-full   w-2/5 relative",children:[_.jsx("div",{className:" pb-5 border-orange-1 border-b-[6px] w-fit",children:_.jsx("h1",{className:" text-xl font-medium  text-black-2",children:"Story Details"})}),_.jsx("div",{className:" w-full h-[0.5px] bg-white-4 absolute left-0"}),_.jsxs("div",{className:" w-full p-5 flex flex-col gap-6",children:[_.jsx(Lpe,{setImgUrl:d}),_.jsxs("div",{className:"flex flex-col gap-1",children:[_.jsx("label",{className:"block font-semibold mb-1 text-lg",children:"Title"}),_.jsx("input",{type:"text",value:t,onChange:S=>e(S.target.value),placeholder:"Untitled Story",className:"w-full border border-gray-300 rounded p-2"})]}),_.jsxs("div",{className:"flex flex-col gap-1",children:[_.jsx("label",{className:"block font-semibold mb-1 text-lg",children:"Description"}),_.jsx("textarea",{value:n,onChange:S=>r(S.target.value),placeholder:"Write your story description...",className:"w-full border border-gray-300 rounded p-2 h-24"})]}),_.jsxs("div",{className:"flex flex-col gap-1",children:[_.jsx("label",{className:"block font-semibold mb-1 text-lg",children:"Main Characters"}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{value:o.item,onChange:S=>o.setItem(S.target.value),type:"text",placeholder:"Name",className:"w-full border border-gray-300 rounded p-2"}),_.jsx("button",{className:"bg-gray-200 p-2 rounded hover:bg-gray-300",onClick:()=>{o.addItem()},children:"+"})]}),_.jsx("div",{className:"mt-2",children:(E=o.itemList)==null?void 0:E.map(S=>_.jsx("span",{className:"inline-block bg-gray-100 text-gray-700 rounded-full px-3 py-1 text-sm mr-2 mb-2",children:S},S))})]}),_.jsxs("div",{className:"flex flex-col gap-1",children:[_.jsx("label",{className:"block font-semibold mb-1 text-lg",children:"Category"}),_.jsxs("select",{className:"w-full border border-gray-300 rounded p-2",value:i,onChange:S=>s(S.target.value),children:[_.jsx("option",{value:"",children:"Select a category"}),_.jsx("option",{value:"fantasy",children:"fantasy"}),_.jsx("option",{value:"adventure",children:"adventure"}),_.jsx("option",{value:"romance",children:"romance"}),_.jsx("option",{value:"comedy",children:"comedy"}),_.jsx("option",{value:"mystery",children:"mystery"}),_.jsx("option",{value:"sci-fi",children:"sci-fi"}),_.jsx("option",{value:"horror",children:"horror"}),_.jsx("option",{value:"thriller",children:"thirller"}),_.jsx("option",{value:"poetry",children:"poetry"})]})]}),_.jsxs("div",{className:"flex flex-col gap-1",children:[_.jsx("label",{className:"block font-semibold mb-1 text-lg",children:"Tags"}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{value:a.item,onChange:S=>a.setItem(S.target.value),type:"text",placeholder:"Add a tag",className:"w-full border border-gray-300 rounded p-2"}),_.jsx("button",{className:"bg-gray-200 p-2 rounded hover:bg-gray-300",onClick:()=>{a.addItem()},children:"+"})]}),_.jsx("div",{className:"mt-2",children:a.itemList.map(S=>_.jsx("span",{className:"inline-block bg-gray-100 text-gray-700 rounded-full px-3 py-1 text-sm mr-2 mb-2",children:S},S))})]}),_.jsx(jn,{className:" font-light text-lg  bg-orange-1",onClick:w,children:h?_.jsx(kp,{size:"20px"}):_.jsx("span",{children:"Save"})})]})]})]}),_.jsx(l,{})]})};var gz=typeof global=="object"&&global&&global.Object===Object&&global,Upe=typeof self=="object"&&self&&self.Object===Object&&self,ma=gz||Upe||Function("return this")(),jc=ma.Symbol,yz=Object.prototype,$pe=yz.hasOwnProperty,qpe=yz.toString,um=jc?jc.toStringTag:void 0;function zpe(t){var e=$pe.call(t,um),n=t[um];try{t[um]=void 0;var r=!0}catch{}var i=qpe.call(t);return r&&(e?t[um]=n:delete t[um]),i}var Wpe=Object.prototype,Hpe=Wpe.toString;function Gpe(t){return Hpe.call(t)}var Kpe="[object Null]",Ype="[object Undefined]",jM=jc?jc.toStringTag:void 0;function Op(t){return t==null?t===void 0?Ype:Kpe:jM&&jM in Object(t)?zpe(t):Gpe(t)}function rl(t){return t!=null&&typeof t=="object"}var Rd=Array.isArray;function iu(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function vz(t){return t}var Qpe="[object AsyncFunction]",Xpe="[object Function]",Jpe="[object GeneratorFunction]",Zpe="[object Proxy]";function XP(t){if(!iu(t))return!1;var e=Op(t);return e==Xpe||e==Jpe||e==Qpe||e==Zpe}var _b=ma["__core-js_shared__"],FM=function(){var t=/[^.]+$/.exec(_b&&_b.keys&&_b.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function eme(t){return!!FM&&FM in t}var tme=Function.prototype,nme=tme.toString;function Gd(t){if(t!=null){try{return nme.call(t)}catch{}try{return t+""}catch{}}return""}var rme=/[\\^$.*+?()[\]{}|]/g,ime=/^\[object .+?Constructor\]$/,sme=Function.prototype,ome=Object.prototype,ame=sme.toString,lme=ome.hasOwnProperty,cme=RegExp("^"+ame.call(lme).replace(rme,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ume(t){if(!iu(t)||eme(t))return!1;var e=XP(t)?cme:ime;return e.test(Gd(t))}function dme(t,e){return t==null?void 0:t[e]}function Kd(t,e){var n=dme(t,e);return ume(n)?n:void 0}var yA=Kd(ma,"WeakMap"),BM=Object.create,hme=function(){function t(){}return function(e){if(!iu(e))return{};if(BM)return BM(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function fme(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function _z(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var pme=800,mme=16,gme=Date.now;function yme(t){var e=0,n=0;return function(){var r=gme(),i=mme-(r-n);if(n=r,i>0){if(++e>=pme)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function vme(t){return function(){return t}}var Yw=function(){try{var t=Kd(Object,"defineProperty");return t({},"",{}),t}catch{}}(),_me=Yw?function(t,e){return Yw(t,"toString",{configurable:!0,enumerable:!1,value:vme(e),writable:!0})}:vz,wme=yme(_me);function xme(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var Eme=9007199254740991,bme=/^(?:0|[1-9]\d*)$/;function wz(t,e){var n=typeof t;return e=e??Eme,!!e&&(n=="number"||n!="symbol"&&bme.test(t))&&t>-1&&t%1==0&&t<e}function JP(t,e,n){e=="__proto__"&&Yw?Yw(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function _v(t,e){return t===e||t!==t&&e!==e}var Tme=Object.prototype,Sme=Tme.hasOwnProperty;function xz(t,e,n){var r=t[e];(!(Sme.call(t,e)&&_v(r,n))||n===void 0&&!(e in t))&&JP(t,e,n)}function wv(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=void 0;l===void 0&&(l=t[a]),i?JP(n,a,l):xz(n,a,l)}return n}var UM=Math.max;function Ame(t,e,n){return e=UM(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=UM(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),fme(t,this,a)}}function Ime(t,e){return wme(Ame(t,e,vz),t+"")}var Cme=9007199254740991;function Ez(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Cme}function bx(t){return t!=null&&Ez(t.length)&&!XP(t)}function Rme(t,e,n){if(!iu(n))return!1;var r=typeof e;return(r=="number"?bx(n)&&wz(e,n.length):r=="string"&&e in n)?_v(n[e],t):!1}function Pme(t){return Ime(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&Rme(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var Nme=Object.prototype;function ZP(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Nme;return t===n}function kme(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Ome="[object Arguments]";function $M(t){return rl(t)&&Op(t)==Ome}var bz=Object.prototype,Dme=bz.hasOwnProperty,Lme=bz.propertyIsEnumerable,vA=$M(function(){return arguments}())?$M:function(t){return rl(t)&&Dme.call(t,"callee")&&!Lme.call(t,"callee")};function Mme(){return!1}var Tz=typeof hs=="object"&&hs&&!hs.nodeType&&hs,qM=Tz&&typeof fs=="object"&&fs&&!fs.nodeType&&fs,Vme=qM&&qM.exports===Tz,zM=Vme?ma.Buffer:void 0,jme=zM?zM.isBuffer:void 0,Cy=jme||Mme,Fme="[object Arguments]",Bme="[object Array]",Ume="[object Boolean]",$me="[object Date]",qme="[object Error]",zme="[object Function]",Wme="[object Map]",Hme="[object Number]",Gme="[object Object]",Kme="[object RegExp]",Yme="[object Set]",Qme="[object String]",Xme="[object WeakMap]",Jme="[object ArrayBuffer]",Zme="[object DataView]",ege="[object Float32Array]",tge="[object Float64Array]",nge="[object Int8Array]",rge="[object Int16Array]",ige="[object Int32Array]",sge="[object Uint8Array]",oge="[object Uint8ClampedArray]",age="[object Uint16Array]",lge="[object Uint32Array]",tn={};tn[ege]=tn[tge]=tn[nge]=tn[rge]=tn[ige]=tn[sge]=tn[oge]=tn[age]=tn[lge]=!0;tn[Fme]=tn[Bme]=tn[Jme]=tn[Ume]=tn[Zme]=tn[$me]=tn[qme]=tn[zme]=tn[Wme]=tn[Hme]=tn[Gme]=tn[Kme]=tn[Yme]=tn[Qme]=tn[Xme]=!1;function cge(t){return rl(t)&&Ez(t.length)&&!!tn[Op(t)]}function eN(t){return function(e){return t(e)}}var Sz=typeof hs=="object"&&hs&&!hs.nodeType&&hs,xg=Sz&&typeof fs=="object"&&fs&&!fs.nodeType&&fs,uge=xg&&xg.exports===Sz,wb=uge&&gz.process,lp=function(){try{var t=xg&&xg.require&&xg.require("util").types;return t||wb&&wb.binding&&wb.binding("util")}catch{}}(),WM=lp&&lp.isTypedArray,tN=WM?eN(WM):cge,dge=Object.prototype,hge=dge.hasOwnProperty;function Az(t,e){var n=Rd(t),r=!n&&vA(t),i=!n&&!r&&Cy(t),s=!n&&!r&&!i&&tN(t),o=n||r||i||s,a=o?kme(t.length,String):[],l=a.length;for(var c in t)(e||hge.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||wz(c,l)))&&a.push(c);return a}function Iz(t,e){return function(n){return t(e(n))}}var fge=Iz(Object.keys,Object),pge=Object.prototype,mge=pge.hasOwnProperty;function gge(t){if(!ZP(t))return fge(t);var e=[];for(var n in Object(t))mge.call(t,n)&&n!="constructor"&&e.push(n);return e}function nN(t){return bx(t)?Az(t):gge(t)}function yge(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var vge=Object.prototype,_ge=vge.hasOwnProperty;function wge(t){if(!iu(t))return yge(t);var e=ZP(t),n=[];for(var r in t)r=="constructor"&&(e||!_ge.call(t,r))||n.push(r);return n}function xv(t){return bx(t)?Az(t,!0):wge(t)}var Ry=Kd(Object,"create");function xge(){this.__data__=Ry?Ry(null):{},this.size=0}function Ege(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var bge="__lodash_hash_undefined__",Tge=Object.prototype,Sge=Tge.hasOwnProperty;function Age(t){var e=this.__data__;if(Ry){var n=e[t];return n===bge?void 0:n}return Sge.call(e,t)?e[t]:void 0}var Ige=Object.prototype,Cge=Ige.hasOwnProperty;function Rge(t){var e=this.__data__;return Ry?e[t]!==void 0:Cge.call(e,t)}var Pge="__lodash_hash_undefined__";function Nge(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ry&&e===void 0?Pge:e,this}function Pd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Pd.prototype.clear=xge;Pd.prototype.delete=Ege;Pd.prototype.get=Age;Pd.prototype.has=Rge;Pd.prototype.set=Nge;function kge(){this.__data__=[],this.size=0}function Tx(t,e){for(var n=t.length;n--;)if(_v(t[n][0],e))return n;return-1}var Oge=Array.prototype,Dge=Oge.splice;function Lge(t){var e=this.__data__,n=Tx(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Dge.call(e,n,1),--this.size,!0}function Mge(t){var e=this.__data__,n=Tx(e,t);return n<0?void 0:e[n][1]}function Vge(t){return Tx(this.__data__,t)>-1}function jge(t,e){var n=this.__data__,r=Tx(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function gl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}gl.prototype.clear=kge;gl.prototype.delete=Lge;gl.prototype.get=Mge;gl.prototype.has=Vge;gl.prototype.set=jge;var Py=Kd(ma,"Map");function Fge(){this.size=0,this.__data__={hash:new Pd,map:new(Py||gl),string:new Pd}}function Bge(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Sx(t,e){var n=t.__data__;return Bge(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Uge(t){var e=Sx(this,t).delete(t);return this.size-=e?1:0,e}function $ge(t){return Sx(this,t).get(t)}function qge(t){return Sx(this,t).has(t)}function zge(t,e){var n=Sx(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Yd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Yd.prototype.clear=Fge;Yd.prototype.delete=Uge;Yd.prototype.get=$ge;Yd.prototype.has=qge;Yd.prototype.set=zge;function Cz(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var rN=Iz(Object.getPrototypeOf,Object),Wge="[object Object]",Hge=Function.prototype,Gge=Object.prototype,Rz=Hge.toString,Kge=Gge.hasOwnProperty,Yge=Rz.call(Object);function Qge(t){if(!rl(t)||Op(t)!=Wge)return!1;var e=rN(t);if(e===null)return!0;var n=Kge.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Rz.call(n)==Yge}function Xge(){this.__data__=new gl,this.size=0}function Jge(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Zge(t){return this.__data__.get(t)}function eye(t){return this.__data__.has(t)}var tye=200;function nye(t,e){var n=this.__data__;if(n instanceof gl){var r=n.__data__;if(!Py||r.length<tye-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Yd(r)}return n.set(t,e),this.size=n.size,this}function ea(t){var e=this.__data__=new gl(t);this.size=e.size}ea.prototype.clear=Xge;ea.prototype.delete=Jge;ea.prototype.get=Zge;ea.prototype.has=eye;ea.prototype.set=nye;function rye(t,e){return t&&wv(e,nN(e),t)}function iye(t,e){return t&&wv(e,xv(e),t)}var Pz=typeof hs=="object"&&hs&&!hs.nodeType&&hs,HM=Pz&&typeof fs=="object"&&fs&&!fs.nodeType&&fs,sye=HM&&HM.exports===Pz,GM=sye?ma.Buffer:void 0,KM=GM?GM.allocUnsafe:void 0;function Nz(t,e){if(e)return t.slice();var n=t.length,r=KM?KM(n):new t.constructor(n);return t.copy(r),r}function oye(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function kz(){return[]}var aye=Object.prototype,lye=aye.propertyIsEnumerable,YM=Object.getOwnPropertySymbols,iN=YM?function(t){return t==null?[]:(t=Object(t),oye(YM(t),function(e){return lye.call(t,e)}))}:kz;function cye(t,e){return wv(t,iN(t),e)}var uye=Object.getOwnPropertySymbols,Oz=uye?function(t){for(var e=[];t;)Cz(e,iN(t)),t=rN(t);return e}:kz;function dye(t,e){return wv(t,Oz(t),e)}function Dz(t,e,n){var r=e(t);return Rd(t)?r:Cz(r,n(t))}function _A(t){return Dz(t,nN,iN)}function hye(t){return Dz(t,xv,Oz)}var wA=Kd(ma,"DataView"),xA=Kd(ma,"Promise"),EA=Kd(ma,"Set"),QM="[object Map]",fye="[object Object]",XM="[object Promise]",JM="[object Set]",ZM="[object WeakMap]",eV="[object DataView]",pye=Gd(wA),mye=Gd(Py),gye=Gd(xA),yye=Gd(EA),vye=Gd(yA),fo=Op;(wA&&fo(new wA(new ArrayBuffer(1)))!=eV||Py&&fo(new Py)!=QM||xA&&fo(xA.resolve())!=XM||EA&&fo(new EA)!=JM||yA&&fo(new yA)!=ZM)&&(fo=function(t){var e=Op(t),n=e==fye?t.constructor:void 0,r=n?Gd(n):"";if(r)switch(r){case pye:return eV;case mye:return QM;case gye:return XM;case yye:return JM;case vye:return ZM}return e});var _ye=Object.prototype,wye=_ye.hasOwnProperty;function xye(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&wye.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Qw=ma.Uint8Array;function sN(t){var e=new t.constructor(t.byteLength);return new Qw(e).set(new Qw(t)),e}function Eye(t,e){var n=e?sN(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var bye=/\w*$/;function Tye(t){var e=new t.constructor(t.source,bye.exec(t));return e.lastIndex=t.lastIndex,e}var tV=jc?jc.prototype:void 0,nV=tV?tV.valueOf:void 0;function Sye(t){return nV?Object(nV.call(t)):{}}function Lz(t,e){var n=e?sN(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Aye="[object Boolean]",Iye="[object Date]",Cye="[object Map]",Rye="[object Number]",Pye="[object RegExp]",Nye="[object Set]",kye="[object String]",Oye="[object Symbol]",Dye="[object ArrayBuffer]",Lye="[object DataView]",Mye="[object Float32Array]",Vye="[object Float64Array]",jye="[object Int8Array]",Fye="[object Int16Array]",Bye="[object Int32Array]",Uye="[object Uint8Array]",$ye="[object Uint8ClampedArray]",qye="[object Uint16Array]",zye="[object Uint32Array]";function Wye(t,e,n){var r=t.constructor;switch(e){case Dye:return sN(t);case Aye:case Iye:return new r(+t);case Lye:return Eye(t,n);case Mye:case Vye:case jye:case Fye:case Bye:case Uye:case $ye:case qye:case zye:return Lz(t,n);case Cye:return new r;case Rye:case kye:return new r(t);case Pye:return Tye(t);case Nye:return new r;case Oye:return Sye(t)}}function Mz(t){return typeof t.constructor=="function"&&!ZP(t)?hme(rN(t)):{}}var Hye="[object Map]";function Gye(t){return rl(t)&&fo(t)==Hye}var rV=lp&&lp.isMap,Kye=rV?eN(rV):Gye,Yye="[object Set]";function Qye(t){return rl(t)&&fo(t)==Yye}var iV=lp&&lp.isSet,Xye=iV?eN(iV):Qye,Jye=1,Zye=2,eve=4,Vz="[object Arguments]",tve="[object Array]",nve="[object Boolean]",rve="[object Date]",ive="[object Error]",jz="[object Function]",sve="[object GeneratorFunction]",ove="[object Map]",ave="[object Number]",Fz="[object Object]",lve="[object RegExp]",cve="[object Set]",uve="[object String]",dve="[object Symbol]",hve="[object WeakMap]",fve="[object ArrayBuffer]",pve="[object DataView]",mve="[object Float32Array]",gve="[object Float64Array]",yve="[object Int8Array]",vve="[object Int16Array]",_ve="[object Int32Array]",wve="[object Uint8Array]",xve="[object Uint8ClampedArray]",Eve="[object Uint16Array]",bve="[object Uint32Array]",Ut={};Ut[Vz]=Ut[tve]=Ut[fve]=Ut[pve]=Ut[nve]=Ut[rve]=Ut[mve]=Ut[gve]=Ut[yve]=Ut[vve]=Ut[_ve]=Ut[ove]=Ut[ave]=Ut[Fz]=Ut[lve]=Ut[cve]=Ut[uve]=Ut[dve]=Ut[wve]=Ut[xve]=Ut[Eve]=Ut[bve]=!0;Ut[ive]=Ut[jz]=Ut[hve]=!1;function A_(t,e,n,r,i,s){var o,a=e&Jye,l=e&Zye,c=e&eve;if(o!==void 0)return o;if(!iu(t))return t;var u=Rd(t);if(u){if(o=xye(t),!a)return _z(t,o)}else{var d=fo(t),h=d==jz||d==sve;if(Cy(t))return Nz(t,a);if(d==Fz||d==Vz||h&&!i){if(o=l||h?{}:Mz(t),!a)return l?dye(t,iye(o,t)):cye(t,rye(o,t))}else{if(!Ut[d])return i?t:{};o=Wye(t,d,a)}}s||(s=new ea);var f=s.get(t);if(f)return f;s.set(t,o),Xye(t)?t.forEach(function(v){o.add(A_(v,e,n,v,t,s))}):Kye(t)&&t.forEach(function(v,y){o.set(y,A_(v,e,n,y,t,s))});var g=c?l?hye:_A:l?xv:nN,m=u?void 0:g(t);return xme(m||t,function(v,y){m&&(y=v,v=t[y]),xz(o,y,A_(v,e,n,y,t,s))}),o}var Tve=1,Sve=4;function Tf(t){return A_(t,Tve|Sve)}var Ave="__lodash_hash_undefined__";function Ive(t){return this.__data__.set(t,Ave),this}function Cve(t){return this.__data__.has(t)}function Xw(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Yd;++e<n;)this.add(t[e])}Xw.prototype.add=Xw.prototype.push=Ive;Xw.prototype.has=Cve;function Rve(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function Pve(t,e){return t.has(e)}var Nve=1,kve=2;function Bz(t,e,n,r,i,s){var o=n&Nve,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),u=s.get(e);if(c&&u)return c==e&&u==t;var d=-1,h=!0,f=n&kve?new Xw:void 0;for(s.set(t,e),s.set(e,t);++d<a;){var g=t[d],m=e[d];if(r)var v=o?r(m,g,d,e,t,s):r(g,m,d,t,e,s);if(v!==void 0){if(v)continue;h=!1;break}if(f){if(!Rve(e,function(y,w){if(!Pve(f,w)&&(g===y||i(g,y,n,r,s)))return f.push(w)})){h=!1;break}}else if(!(g===m||i(g,m,n,r,s))){h=!1;break}}return s.delete(t),s.delete(e),h}function Ove(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function Dve(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Lve=1,Mve=2,Vve="[object Boolean]",jve="[object Date]",Fve="[object Error]",Bve="[object Map]",Uve="[object Number]",$ve="[object RegExp]",qve="[object Set]",zve="[object String]",Wve="[object Symbol]",Hve="[object ArrayBuffer]",Gve="[object DataView]",sV=jc?jc.prototype:void 0,xb=sV?sV.valueOf:void 0;function Kve(t,e,n,r,i,s,o){switch(n){case Gve:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Hve:return!(t.byteLength!=e.byteLength||!s(new Qw(t),new Qw(e)));case Vve:case jve:case Uve:return _v(+t,+e);case Fve:return t.name==e.name&&t.message==e.message;case $ve:case zve:return t==e+"";case Bve:var a=Ove;case qve:var l=r&Lve;if(a||(a=Dve),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=Mve,o.set(t,e);var u=Bz(a(t),a(e),r,i,s,o);return o.delete(t),u;case Wve:if(xb)return xb.call(t)==xb.call(e)}return!1}var Yve=1,Qve=Object.prototype,Xve=Qve.hasOwnProperty;function Jve(t,e,n,r,i,s){var o=n&Yve,a=_A(t),l=a.length,c=_A(e),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var h=a[d];if(!(o?h in e:Xve.call(e,h)))return!1}var f=s.get(t),g=s.get(e);if(f&&g)return f==e&&g==t;var m=!0;s.set(t,e),s.set(e,t);for(var v=o;++d<l;){h=a[d];var y=t[h],w=e[h];if(r)var E=o?r(w,y,h,e,t,s):r(y,w,h,t,e,s);if(!(E===void 0?y===w||i(y,w,n,r,s):E)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var S=t.constructor,C=e.constructor;S!=C&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof C=="function"&&C instanceof C)&&(m=!1)}return s.delete(t),s.delete(e),m}var Zve=1,oV="[object Arguments]",aV="[object Array]",I0="[object Object]",e0e=Object.prototype,lV=e0e.hasOwnProperty;function t0e(t,e,n,r,i,s){var o=Rd(t),a=Rd(e),l=o?aV:fo(t),c=a?aV:fo(e);l=l==oV?I0:l,c=c==oV?I0:c;var u=l==I0,d=c==I0,h=l==c;if(h&&Cy(t)){if(!Cy(e))return!1;o=!0,u=!1}if(h&&!u)return s||(s=new ea),o||tN(t)?Bz(t,e,n,r,i,s):Kve(t,e,l,n,r,i,s);if(!(n&Zve)){var f=u&&lV.call(t,"__wrapped__"),g=d&&lV.call(e,"__wrapped__");if(f||g){var m=f?t.value():t,v=g?e.value():e;return s||(s=new ea),i(m,v,n,r,s)}}return h?(s||(s=new ea),Jve(t,e,n,r,i,s)):!1}function Uz(t,e,n,r,i){return t===e?!0:t==null||e==null||!rl(t)&&!rl(e)?t!==t&&e!==e:t0e(t,e,n,r,Uz,i)}function n0e(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[++i];if(n(s[l],l,s)===!1)break}return e}}var r0e=n0e();function bA(t,e,n){(n!==void 0&&!_v(t[e],n)||n===void 0&&!(e in t))&&JP(t,e,n)}function i0e(t){return rl(t)&&bx(t)}function TA(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function s0e(t){return wv(t,xv(t))}function o0e(t,e,n,r,i,s,o){var a=TA(t,n),l=TA(e,n),c=o.get(l);if(c){bA(t,n,c);return}var u=s?s(a,l,n+"",t,e,o):void 0,d=u===void 0;if(d){var h=Rd(l),f=!h&&Cy(l),g=!h&&!f&&tN(l);u=l,h||f||g?Rd(a)?u=a:i0e(a)?u=_z(a):f?(d=!1,u=Nz(l,!0)):g?(d=!1,u=Lz(l,!0)):u=[]:Qge(l)||vA(l)?(u=a,vA(a)?u=s0e(a):(!iu(a)||XP(a))&&(u=Mz(l))):d=!1}d&&(o.set(l,u),i(u,l,r,s,o),o.delete(l)),bA(t,n,u)}function $z(t,e,n,r,i){t!==e&&r0e(e,function(s,o){if(i||(i=new ea),iu(s))o0e(t,e,o,n,$z,r,i);else{var a=r?r(TA(t,o),s,o+"",t,e,i):void 0;a===void 0&&(a=s),bA(t,o,a)}},xv)}function oN(t,e){return Uz(t,e)}var _c=Pme(function(t,e,n){$z(t,e,n)}),Ae=(t=>(t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY",t))(Ae||{});class ua{constructor(e,n,r={}){this.attrName=e,this.keyName=n;const i=Ae.TYPE&Ae.ATTRIBUTE;this.scope=r.scope!=null?r.scope&Ae.LEVEL|i:Ae.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(e){return Array.from(e.attributes).map(n=>n.name)}add(e,n){return this.canAdd(e,n)?(e.setAttribute(this.keyName,n),!0):!1}canAdd(e,n){return this.whitelist==null?!0:typeof n=="string"?this.whitelist.indexOf(n.replace(/["']/g,""))>-1:this.whitelist.indexOf(n)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const n=e.getAttribute(this.keyName);return this.canAdd(e,n)&&n?n:""}}class Sf extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const qz=class SA{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,n=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(n){let r=null;try{r=e.parentNode}catch{return null}return this.find(r,n)}return null}create(e,n,r){const i=this.query(n);if(i==null)throw new Sf(`Unable to create ${n} blot`);const s=i,o=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:s.create(r),a=new s(e,o,r);return SA.blots.set(a.domNode,a),a}find(e,n=!1){return SA.find(e,n)}query(e,n=Ae.ANY){let r;return typeof e=="string"?r=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?r=this.types.text:typeof e=="number"?e&Ae.LEVEL&Ae.BLOCK?r=this.types.block:e&Ae.LEVEL&Ae.INLINE&&(r=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(i=>(r=this.classes[i],!!r)),r=r||this.tags[e.tagName]),r==null?null:"scope"in r&&n&Ae.LEVEL&r.scope&&n&Ae.TYPE&r.scope?r:null}register(...e){return e.map(n=>{const r="blotName"in n,i="attrName"in n;if(!r&&!i)throw new Sf("Invalid definition");if(r&&n.blotName==="abstract")throw new Sf("Cannot register abstract class");const s=r?n.blotName:i?n.attrName:void 0;return this.types[s]=n,i?typeof n.keyName=="string"&&(this.attributes[n.keyName]=n):r&&(n.className&&(this.classes[n.className]=n),n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map(o=>o.toUpperCase()):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach(o=>{(this.tags[o]==null||n.className==null)&&(this.tags[o]=n)}))),n})}};qz.blots=new WeakMap;let cp=qz;function cV(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter(n=>n.indexOf(`${e}-`)===0)}class a0e extends ua{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(n=>n.split("-").slice(0,-1).join("-"))}add(e,n){return this.canAdd(e,n)?(this.remove(e),e.classList.add(`${this.keyName}-${n}`),!0):!1}remove(e){cV(e,this.keyName).forEach(n=>{e.classList.remove(n)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const n=(cV(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,n)?n:""}}const Ro=a0e;function Eb(t){const e=t.split("-"),n=e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return e[0]+n}class l0e extends ua{static keys(e){return(e.getAttribute("style")||"").split(";").map(n=>n.split(":")[0].trim())}add(e,n){return this.canAdd(e,n)?(e.style[Eb(this.keyName)]=n,!0):!1}remove(e){e.style[Eb(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const n=e.style[Eb(this.keyName)];return this.canAdd(e,n)?n:""}}const su=l0e;class c0e{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,n){n?e.add(this.domNode,n)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=cp.find(this.domNode);if(e==null)return;const n=ua.keys(this.domNode),r=Ro.keys(this.domNode),i=su.keys(this.domNode);n.concat(r).concat(i).forEach(s=>{const o=e.scroll.query(s,Ae.ATTRIBUTE);o instanceof ua&&(this.attributes[o.attrName]=o)})}copy(e){Object.keys(this.attributes).forEach(n=>{const r=this.attributes[n].value(this.domNode);e.format(n,r)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(n=>{this.attributes[n].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,n)=>(e[n]=this.attributes[n].value(this.domNode),e),{})}}const Ax=c0e,zz=class{constructor(e,n){this.scroll=e,this.domNode=n,cp.blots.set(n,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new Sf("Blot definition missing tagName");let n,r;return Array.isArray(this.tagName)?(typeof e=="string"?(r=e.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof e=="number"&&(r=e),typeof r=="number"?n=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?n=document.createElement(r):n=document.createElement(this.tagName[0])):n=document.createElement(this.tagName),this.className&&n.classList.add(this.className),n}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),cp.blots.delete(this.domNode)}deleteAt(e,n){this.isolate(e,n).remove()}formatAt(e,n,r,i){const s=this.isolate(e,n);if(this.scroll.query(r,Ae.BLOT)!=null&&i)s.wrap(r,i);else if(this.scroll.query(r,Ae.ATTRIBUTE)!=null){const o=this.scroll.create(this.statics.scope);s.wrap(o),o.format(r,i)}}insertAt(e,n,r){const i=r==null?this.scroll.create("text",n):this.scroll.create(n,r),s=this.split(e);this.parent.insertBefore(i,s||void 0)}isolate(e,n){const r=this.split(e);if(r==null)throw new Error("Attempt to isolate at end");return r.split(n),r}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,n){const r=typeof e=="string"?this.scroll.create(e,n):e;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(e,n){return e===0?this:this.next}update(e,n){}wrap(e,n){const r=typeof e=="string"?this.scroll.create(e,n):e;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new Sf(`Cannot wrap ${e}`);return r.appendChild(this),r}};zz.blotName="abstract";let Wz=zz;const Hz=class extends Wz{static value(e){return!0}index(e,n){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(n,1):-1}position(e,n){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};Hz.scope=Ae.INLINE_BLOT;let u0e=Hz;const Jr=u0e;class d0e{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const n=e.slice(1);this.append(...n)}}at(e){const n=this.iterator();let r=n();for(;r&&e>0;)e-=1,r=n();return r}contains(e){const n=this.iterator();let r=n();for(;r;){if(r===e)return!0;r=n()}return!1}indexOf(e){const n=this.iterator();let r=n(),i=0;for(;r;){if(r===e)return i;i+=1,r=n()}return-1}insertBefore(e,n){e!=null&&(this.remove(e),e.next=n,n!=null?(e.prev=n.prev,n.prev!=null&&(n.prev.next=e),n.prev=e,n===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let n=0,r=this.head;for(;r!=null;){if(r===e)return n;n+=r.length(),r=r.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const n=e;return e!=null&&(e=e.next),n}}find(e,n=!1){const r=this.iterator();let i=r();for(;i;){const s=i.length();if(e<s||n&&e===s&&(i.next==null||i.next.length()!==0))return[i,e];e-=s,i=r()}return[null,0]}forEach(e){const n=this.iterator();let r=n();for(;r;)e(r),r=n()}forEachAt(e,n,r){if(n<=0)return;const[i,s]=this.find(e);let o=e-s;const a=this.iterator(i);let l=a();for(;l&&o<e+n;){const c=l.length();e>o?r(l,e-o,Math.min(n,o+c-e)):r(l,0,Math.min(c,e+n-o)),o+=c,l=a()}}map(e){return this.reduce((n,r)=>(n.push(e(r)),n),[])}reduce(e,n){const r=this.iterator();let i=r();for(;i;)n=e(n,i),i=r();return n}}function uV(t,e){const n=e.find(t);if(n)return n;try{return e.create(t)}catch{const r=e.create(Ae.INLINE);return Array.from(t.childNodes).forEach(i=>{r.domNode.appendChild(i)}),t.parentNode&&t.parentNode.replaceChild(r.domNode,t),r.attach(),r}}const Gz=class Dl extends Wz{constructor(e,n){super(e,n),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,Dl.uiClass&&this.uiNode.classList.add(Dl.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new d0e,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const n=uV(e,this.scroll);this.insertBefore(n,this.children.head||void 0)}catch(n){if(n instanceof Sf)return;throw n}})}deleteAt(e,n){if(e===0&&n===this.length())return this.remove();this.children.forEachAt(e,n,(r,i,s)=>{r.deleteAt(i,s)})}descendant(e,n=0){const[r,i]=this.children.find(n);return e.blotName==null&&e(r)||e.blotName!=null&&r instanceof e?[r,i]:r instanceof Dl?r.descendant(e,i):[null,-1]}descendants(e,n=0,r=Number.MAX_VALUE){let i=[],s=r;return this.children.forEachAt(n,r,(o,a,l)=>{(e.blotName==null&&e(o)||e.blotName!=null&&o instanceof e)&&i.push(o),o instanceof Dl&&(i=i.concat(o.descendants(e,a,s))),s-=l}),i}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(n=>{e||this.statics.allowedChildren.some(r=>n instanceof r)||(n.statics.scope===Ae.BLOCK_BLOT?(n.next!=null&&this.splitAfter(n),n.prev!=null&&this.splitAfter(n.prev),n.parent.unwrap(),e=!0):n instanceof Dl?n.unwrap():n.remove())})}formatAt(e,n,r,i){this.children.forEachAt(e,n,(s,o,a)=>{s.formatAt(o,a,r,i)})}insertAt(e,n,r){const[i,s]=this.children.find(e);if(i)i.insertAt(s,n,r);else{const o=r==null?this.scroll.create("text",n):this.scroll.create(n,r);this.appendChild(o)}}insertBefore(e,n){e.parent!=null&&e.parent.children.remove(e);let r=null;this.children.insertBefore(e,n||null),e.parent=this,n!=null&&(r=n.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(e.domNode,r),e.attach()}length(){return this.children.reduce((e,n)=>e+n.length(),0)}moveChildren(e,n){this.children.forEach(r=>{e.insertBefore(r,n)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const n=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(n)}else this.remove()}path(e,n=!1){const[r,i]=this.children.find(e,n),s=[[this,e]];return r instanceof Dl?s.concat(r.path(i,n)):(r!=null&&s.push([r,i]),s)}removeChild(e){this.children.remove(e)}replaceWith(e,n){const r=typeof e=="string"?this.scroll.create(e,n):e;return r instanceof Dl&&this.moveChildren(r),super.replaceWith(r)}split(e,n=!1){if(!n){if(e===0)return this;if(e===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(e,this.length(),(i,s,o)=>{const a=i.split(s,n);a!=null&&r.appendChild(a)}),r}splitAfter(e){const n=this.clone();for(;e.next!=null;)n.appendChild(e.next);return this.parent&&this.parent.insertBefore(n,this.next||void 0),n}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,n){const r=[],i=[];e.forEach(s=>{s.target===this.domNode&&s.type==="childList"&&(r.push(...s.addedNodes),i.push(...s.removedNodes))}),i.forEach(s=>{if(s.parentNode!=null&&s.tagName!=="IFRAME"&&document.body.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const o=this.scroll.find(s);o!=null&&(o.domNode.parentNode==null||o.domNode.parentNode===this.domNode)&&o.detach()}),r.filter(s=>s.parentNode===this.domNode&&s!==this.uiNode).sort((s,o)=>s===o?0:s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(s=>{let o=null;s.nextSibling!=null&&(o=this.scroll.find(s.nextSibling));const a=uV(s,this.scroll);(a.next!==o||a.next==null)&&(a.parent!=null&&a.parent.removeChild(this),this.insertBefore(a,o||void 0))}),this.enforceAllowedChildren()}};Gz.uiClass="";let h0e=Gz;const Eo=h0e;function f0e(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}const Rh=class Ph extends Eo{static create(e){return super.create(e)}static formats(e,n){const r=n.query(Ph.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,n){super(e,n),this.attributes=new Ax(this.domNode)}format(e,n){if(e===this.statics.blotName&&!n)this.children.forEach(r=>{r instanceof Ph||(r=r.wrap(Ph.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(e,Ae.INLINE);if(r==null)return;r instanceof ua?this.attributes.attribute(r,n):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n)}}formats(){const e=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(e[this.statics.blotName]=n),e}formatAt(e,n,r,i){this.formats()[r]!=null||this.scroll.query(r,Ae.ATTRIBUTE)?this.isolate(e,n).format(r,i):super.formatAt(e,n,r,i)}optimize(e){super.optimize(e);const n=this.formats();if(Object.keys(n).length===0)return this.unwrap();const r=this.next;r instanceof Ph&&r.prev===this&&f0e(n,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(e,n){const r=super.replaceWith(e,n);return this.attributes.copy(r),r}update(e,n){super.update(e,n),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(e,n){const r=super.wrap(e,n);return r instanceof Ph&&this.attributes.move(r),r}};Rh.allowedChildren=[Rh,Jr],Rh.blotName="inline",Rh.scope=Ae.INLINE_BLOT,Rh.tagName="SPAN";let p0e=Rh;const aN=p0e,Nh=class AA extends Eo{static create(e){return super.create(e)}static formats(e,n){const r=n.query(AA.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,n){super(e,n),this.attributes=new Ax(this.domNode)}format(e,n){const r=this.scroll.query(e,Ae.BLOCK);r!=null&&(r instanceof ua?this.attributes.attribute(r,n):e===this.statics.blotName&&!n?this.replaceWith(AA.blotName):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n))}formats(){const e=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(e[this.statics.blotName]=n),e}formatAt(e,n,r,i){this.scroll.query(r,Ae.BLOCK)!=null?this.format(r,i):super.formatAt(e,n,r,i)}insertAt(e,n,r){if(r==null||this.scroll.query(n,Ae.INLINE)!=null)super.insertAt(e,n,r);else{const i=this.split(e);if(i!=null){const s=this.scroll.create(n,r);i.parent.insertBefore(s,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,n){const r=super.replaceWith(e,n);return this.attributes.copy(r),r}update(e,n){super.update(e,n),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};Nh.blotName="block",Nh.scope=Ae.BLOCK_BLOT,Nh.tagName="P",Nh.allowedChildren=[aN,Nh,Jr];let m0e=Nh;const Ny=m0e,IA=class extends Eo{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,n){super.deleteAt(e,n),this.enforceAllowedChildren()}formatAt(e,n,r,i){super.formatAt(e,n,r,i),this.enforceAllowedChildren()}insertAt(e,n,r){super.insertAt(e,n,r),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};IA.blotName="container",IA.scope=Ae.BLOCK_BLOT;let g0e=IA;const Ix=g0e;class y0e extends Jr{static formats(e,n){}format(e,n){super.formatAt(0,this.length(),e,n)}formatAt(e,n,r,i){e===0&&n===this.length()?this.format(r,i):super.formatAt(e,n,r,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const bs=y0e,v0e={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},_0e=100,kh=class extends Eo{constructor(e,n){super(null,n),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,v0e),this.attach()}create(e,n){return this.registry.create(this,e,n)}find(e,n=!1){const r=this.registry.find(e,n);return r?r.scroll===this?r:n?this.find(r.scroll.domNode.parentNode,!0):null:null}query(e,n=Ae.ANY){return this.registry.query(e,n)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,n){this.update(),e===0&&n===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(e,n)}formatAt(e,n,r,i){this.update(),super.formatAt(e,n,r,i)}insertAt(e,n,r){this.update(),super.insertAt(e,n,r)}optimize(e=[],n={}){super.optimize(n);const r=n.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)e.push(i.pop());const s=(l,c=!0)=>{l==null||l===this||l.domNode.parentNode!=null&&(r.has(l.domNode)||r.set(l.domNode,[]),c&&s(l.parent))},o=l=>{r.has(l.domNode)&&(l instanceof Eo&&l.children.forEach(o),r.delete(l.domNode),l.optimize(n))};let a=e;for(let l=0;a.length>0;l+=1){if(l>=_0e)throw new Error("[Parchment] Maximum optimize iterations reached");for(a.forEach(c=>{const u=this.find(c.target,!0);u!=null&&(u.domNode===c.target&&(c.type==="childList"?(s(this.find(c.previousSibling,!1)),Array.from(c.addedNodes).forEach(d=>{const h=this.find(d,!1);s(h,!1),h instanceof Eo&&h.children.forEach(f=>{s(f,!1)})})):c.type==="attributes"&&s(u.prev)),s(u))}),this.children.forEach(o),a=Array.from(this.observer.takeRecords()),i=a.slice();i.length>0;)e.push(i.pop())}}update(e,n={}){e=e||this.observer.takeRecords();const r=new WeakMap;e.map(i=>{const s=this.find(i.target,!0);return s==null?null:r.has(s.domNode)?(r.get(s.domNode).push(i),null):(r.set(s.domNode,[i]),s)}).forEach(i=>{i!=null&&i!==this&&r.has(i.domNode)&&i.update(r.get(i.domNode)||[],n)}),n.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),n),this.optimize(e,n)}};kh.blotName="scroll",kh.defaultChild=Ny,kh.allowedChildren=[Ny,Ix],kh.scope=Ae.BLOCK_BLOT,kh.tagName="DIV";let w0e=kh;const lN=w0e,CA=class Kz extends Jr{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,n){super(e,n),this.text=this.statics.value(this.domNode)}deleteAt(e,n){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+n)}index(e,n){return this.domNode===e?n:-1}insertAt(e,n,r){r==null?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,n,r)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof Kz&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,n=!1){return[this.domNode,e]}split(e,n=!1){if(!n){if(e===0)return this;if(e===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(e,n){e.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};CA.blotName="text",CA.scope=Ae.INLINE_BLOT;let x0e=CA;const Jw=x0e,E0e=Object.freeze(Object.defineProperty({__proto__:null,Attributor:ua,AttributorStore:Ax,BlockBlot:Ny,ClassAttributor:Ro,ContainerBlot:Ix,EmbedBlot:bs,InlineBlot:aN,LeafBlot:Jr,ParentBlot:Eo,Registry:cp,Scope:Ae,ScrollBlot:lN,StyleAttributor:su,TextBlot:Jw},Symbol.toStringTag,{value:"Module"}));var RA={exports:{}},ds=-1,xi=1,sr=0;function ky(t,e,n,r,i){if(t===e)return t?[[sr,t]]:[];if(n!=null){var s=N0e(t,e,n);if(s)return s}var o=cN(t,e),a=t.substring(0,o);t=t.substring(o),e=e.substring(o),o=Cx(t,e);var l=t.substring(t.length-o);t=t.substring(0,t.length-o),e=e.substring(0,e.length-o);var c=b0e(t,e);return a&&c.unshift([sr,a]),l&&c.push([sr,l]),uN(c,i),r&&A0e(c),c}function b0e(t,e){var n;if(!t)return[[xi,e]];if(!e)return[[ds,t]];var r=t.length>e.length?t:e,i=t.length>e.length?e:t,s=r.indexOf(i);if(s!==-1)return n=[[xi,r.substring(0,s)],[sr,i],[xi,r.substring(s+i.length)]],t.length>e.length&&(n[0][0]=n[2][0]=ds),n;if(i.length===1)return[[ds,t],[xi,e]];var o=S0e(t,e);if(o){var a=o[0],l=o[1],c=o[2],u=o[3],d=o[4],h=ky(a,c),f=ky(l,u);return h.concat([[sr,d]],f)}return T0e(t,e)}function T0e(t,e){for(var n=t.length,r=e.length,i=Math.ceil((n+r)/2),s=i,o=2*i,a=new Array(o),l=new Array(o),c=0;c<o;c++)a[c]=-1,l[c]=-1;a[s+1]=0,l[s+1]=0;for(var u=n-r,d=u%2!==0,h=0,f=0,g=0,m=0,v=0;v<i;v++){for(var y=-v+h;y<=v-f;y+=2){var w=s+y,E;y===-v||y!==v&&a[w-1]<a[w+1]?E=a[w+1]:E=a[w-1]+1;for(var S=E-y;E<n&&S<r&&t.charAt(E)===e.charAt(S);)E++,S++;if(a[w]=E,E>n)f+=2;else if(S>r)h+=2;else if(d){var C=s+u-y;if(C>=0&&C<o&&l[C]!==-1){var N=n-l[C];if(E>=N)return dV(t,e,E,S)}}}for(var T=-v+g;T<=v-m;T+=2){var C=s+T,N;T===-v||T!==v&&l[C-1]<l[C+1]?N=l[C+1]:N=l[C-1]+1;for(var A=N-T;N<n&&A<r&&t.charAt(n-N-1)===e.charAt(r-A-1);)N++,A++;if(l[C]=N,N>n)m+=2;else if(A>r)g+=2;else if(!d){var w=s+u-T;if(w>=0&&w<o&&a[w]!==-1){var E=a[w],S=s+E-w;if(N=n-N,E>=N)return dV(t,e,E,S)}}}}return[[ds,t],[xi,e]]}function dV(t,e,n,r){var i=t.substring(0,n),s=e.substring(0,r),o=t.substring(n),a=e.substring(r),l=ky(i,s),c=ky(o,a);return l.concat(c)}function cN(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,s=0;n<i;)t.substring(s,i)==e.substring(s,i)?(n=i,s=n):r=i,i=Math.floor((r-n)/2+n);return Yz(t.charCodeAt(i-1))&&i--,i}function hV(t,e){var n=t.length,r=e.length;if(n==0||r==0)return 0;n>r?t=t.substring(n-r):n<r&&(e=e.substring(0,n));var i=Math.min(n,r);if(t==e)return i;for(var s=0,o=1;;){var a=t.substring(i-o),l=e.indexOf(a);if(l==-1)return s;o+=l,(l==0||t.substring(i-o)==e.substring(0,o))&&(s=o,o++)}}function Cx(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,s=0;n<i;)t.substring(t.length-i,t.length-s)==e.substring(e.length-i,e.length-s)?(n=i,s=n):r=i,i=Math.floor((r-n)/2+n);return Qz(t.charCodeAt(t.length-i))&&i--,i}function S0e(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||r.length*2<n.length)return null;function i(f,g,m){for(var v=f.substring(m,m+Math.floor(f.length/4)),y=-1,w="",E,S,C,N;(y=g.indexOf(v,y+1))!==-1;){var T=cN(f.substring(m),g.substring(y)),A=Cx(f.substring(0,m),g.substring(0,y));w.length<A+T&&(w=g.substring(y-A,y)+g.substring(y,y+T),E=f.substring(0,m-A),S=f.substring(m+T),C=g.substring(0,y-A),N=g.substring(y+T))}return w.length*2>=f.length?[E,S,C,N,w]:null}var s=i(n,r,Math.ceil(n.length/4)),o=i(n,r,Math.ceil(n.length/2)),a;if(!s&&!o)return null;o?s?a=s[4].length>o[4].length?s:o:a=o:a=s;var l,c,u,d;t.length>e.length?(l=a[0],c=a[1],u=a[2],d=a[3]):(u=a[0],d=a[1],l=a[2],c=a[3]);var h=a[4];return[l,c,u,d,h]}function A0e(t){for(var e=!1,n=[],r=0,i=null,s=0,o=0,a=0,l=0,c=0;s<t.length;)t[s][0]==sr?(n[r++]=s,o=l,a=c,l=0,c=0,i=t[s][1]):(t[s][0]==xi?l+=t[s][1].length:c+=t[s][1].length,i&&i.length<=Math.max(o,a)&&i.length<=Math.max(l,c)&&(t.splice(n[r-1],0,[ds,i]),t[n[r-1]+1][0]=xi,r--,r--,s=r>0?n[r-1]:-1,o=0,a=0,l=0,c=0,i=null,e=!0)),s++;for(e&&uN(t),R0e(t),s=1;s<t.length;){if(t[s-1][0]==ds&&t[s][0]==xi){var u=t[s-1][1],d=t[s][1],h=hV(u,d),f=hV(d,u);h>=f?(h>=u.length/2||h>=d.length/2)&&(t.splice(s,0,[sr,d.substring(0,h)]),t[s-1][1]=u.substring(0,u.length-h),t[s+1][1]=d.substring(h),s++):(f>=u.length/2||f>=d.length/2)&&(t.splice(s,0,[sr,u.substring(0,f)]),t[s-1][0]=xi,t[s-1][1]=d.substring(0,d.length-f),t[s+1][0]=ds,t[s+1][1]=u.substring(f),s++),s++}s++}}var fV=/[^a-zA-Z0-9]/,pV=/\s/,mV=/[\r\n]/,I0e=/\n\r?\n$/,C0e=/^\r?\n\r?\n/;function R0e(t){function e(f,g){if(!f||!g)return 6;var m=f.charAt(f.length-1),v=g.charAt(0),y=m.match(fV),w=v.match(fV),E=y&&m.match(pV),S=w&&v.match(pV),C=E&&m.match(mV),N=S&&v.match(mV),T=C&&f.match(I0e),A=N&&g.match(C0e);return T||A?5:C||N?4:y&&!E&&S?3:E||S?2:y||w?1:0}for(var n=1;n<t.length-1;){if(t[n-1][0]==sr&&t[n+1][0]==sr){var r=t[n-1][1],i=t[n][1],s=t[n+1][1],o=Cx(r,i);if(o){var a=i.substring(i.length-o);r=r.substring(0,r.length-o),i=a+i.substring(0,i.length-o),s=a+s}for(var l=r,c=i,u=s,d=e(r,i)+e(i,s);i.charAt(0)===s.charAt(0);){r+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);var h=e(r,i)+e(i,s);h>=d&&(d=h,l=r,c=i,u=s)}t[n-1][1]!=l&&(l?t[n-1][1]=l:(t.splice(n-1,1),n--),t[n][1]=c,u?t[n+1][1]=u:(t.splice(n+1,1),n--))}n++}}function uN(t,e){t.push([sr,""]);for(var n=0,r=0,i=0,s="",o="",a;n<t.length;){if(n<t.length-1&&!t[n][1]){t.splice(n,1);continue}switch(t[n][0]){case xi:i++,o+=t[n][1],n++;break;case ds:r++,s+=t[n][1],n++;break;case sr:var l=n-i-r-1;if(e){if(l>=0&&Jz(t[l][1])){var c=t[l][1].slice(-1);if(t[l][1]=t[l][1].slice(0,-1),s=c+s,o=c+o,!t[l][1]){t.splice(l,1),n--;var u=l-1;t[u]&&t[u][0]===xi&&(i++,o=t[u][1]+o,u--),t[u]&&t[u][0]===ds&&(r++,s=t[u][1]+s,u--),l=u}}if(Xz(t[n][1])){var c=t[n][1].charAt(0);t[n][1]=t[n][1].slice(1),s+=c,o+=c}}if(n<t.length-1&&!t[n][1]){t.splice(n,1);break}if(s.length>0||o.length>0){s.length>0&&o.length>0&&(a=cN(o,s),a!==0&&(l>=0?t[l][1]+=o.substring(0,a):(t.splice(0,0,[sr,o.substring(0,a)]),n++),o=o.substring(a),s=s.substring(a)),a=Cx(o,s),a!==0&&(t[n][1]=o.substring(o.length-a)+t[n][1],o=o.substring(0,o.length-a),s=s.substring(0,s.length-a)));var d=i+r;s.length===0&&o.length===0?(t.splice(n-d,d),n=n-d):s.length===0?(t.splice(n-d,d,[xi,o]),n=n-d+1):o.length===0?(t.splice(n-d,d,[ds,s]),n=n-d+1):(t.splice(n-d,d,[ds,s],[xi,o]),n=n-d+2)}n!==0&&t[n-1][0]===sr?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,r=0,s="",o="";break}}t[t.length-1][1]===""&&t.pop();var h=!1;for(n=1;n<t.length-1;)t[n-1][0]===sr&&t[n+1][0]===sr&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),h=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),h=!0)),n++;h&&uN(t,e)}function Yz(t){return t>=55296&&t<=56319}function Qz(t){return t>=56320&&t<=57343}function Xz(t){return Qz(t.charCodeAt(0))}function Jz(t){return Yz(t.charCodeAt(t.length-1))}function P0e(t){for(var e=[],n=0;n<t.length;n++)t[n][1].length>0&&e.push(t[n]);return e}function bb(t,e,n,r){return Jz(t)||Xz(r)?null:P0e([[sr,t],[ds,e],[xi,n],[sr,r]])}function N0e(t,e,n){var r=typeof n=="number"?{index:n,length:0}:n.oldRange,i=typeof n=="number"?null:n.newRange,s=t.length,o=e.length;if(r.length===0&&(i===null||i.length===0)){var a=r.index,l=t.slice(0,a),c=t.slice(a),u=i?i.index:null;e:{var d=a+o-s;if(u!==null&&u!==d||d<0||d>o)break e;var h=e.slice(0,d),f=e.slice(d);if(f!==c)break e;var g=Math.min(a,d),m=l.slice(0,g),v=h.slice(0,g);if(m!==v)break e;var y=l.slice(g),w=h.slice(g);return bb(m,y,w,c)}e:{if(u!==null&&u!==a)break e;var E=a,h=e.slice(0,E),f=e.slice(E);if(h!==l)break e;var S=Math.min(s-E,o-E),C=c.slice(c.length-S),N=f.slice(f.length-S);if(C!==N)break e;var y=c.slice(0,c.length-S),w=f.slice(0,f.length-S);return bb(l,y,w,C)}}if(r.length>0&&i&&i.length===0)e:{var m=t.slice(0,r.index),C=t.slice(r.index+r.length),g=m.length,S=C.length;if(o<g+S)break e;var v=e.slice(0,g),N=e.slice(o-S);if(m!==v||C!==N)break e;var y=t.slice(g,s-S),w=e.slice(g,o-S);return bb(m,y,w,C)}return null}function Rx(t,e,n,r){return ky(t,e,n,r,!0)}Rx.INSERT=xi;Rx.DELETE=ds;Rx.EQUAL=sr;var k0e=Rx,Zw={exports:{}};Zw.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,s="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",u="[object Function]",d="[object GeneratorFunction]",h="[object Map]",f="[object Number]",g="[object Object]",m="[object Promise]",v="[object RegExp]",y="[object Set]",w="[object String]",E="[object Symbol]",S="[object WeakMap]",C="[object ArrayBuffer]",N="[object DataView]",T="[object Float32Array]",A="[object Float64Array]",P="[object Int8Array]",k="[object Int16Array]",M="[object Int32Array]",O="[object Uint8Array]",D="[object Uint8ClampedArray]",U="[object Uint16Array]",J="[object Uint32Array]",Q=/[\\^$.*+?()[\]{}|]/g,H=/\w*$/,B=/^\[object .+?Constructor\]$/,W=/^(?:0|[1-9]\d*)$/,j={};j[s]=j[o]=j[C]=j[N]=j[a]=j[l]=j[T]=j[A]=j[P]=j[k]=j[M]=j[h]=j[f]=j[g]=j[v]=j[y]=j[w]=j[E]=j[O]=j[D]=j[U]=j[J]=!0,j[c]=j[u]=j[S]=!1;var ne=typeof Hl=="object"&&Hl&&Hl.Object===Object&&Hl,ue=typeof self=="object"&&self&&self.Object===Object&&self,he=ne||ue||Function("return this")(),Ee=e&&!e.nodeType&&e,me=Ee&&!0&&t&&!t.nodeType&&t,Be=me&&me.exports===Ee;function re(I,L){return I.set(L[0],L[1]),I}function fe(I,L){return I.add(L),I}function Le(I,L){for(var F=-1,Y=I?I.length:0;++F<Y&&L(I[F],F,I)!==!1;);return I}function Re(I,L){for(var F=-1,Y=L.length,$e=I.length;++F<Y;)I[$e+F]=L[F];return I}function le(I,L,F,Y){for(var $e=-1,Ie=I?I.length:0;++$e<Ie;)F=L(F,I[$e],$e,I);return F}function Z(I,L){for(var F=-1,Y=Array(I);++F<I;)Y[F]=L(F);return Y}function se(I,L){return I==null?void 0:I[L]}function we(I){var L=!1;if(I!=null&&typeof I.toString!="function")try{L=!!(I+"")}catch{}return L}function Ue(I){var L=-1,F=Array(I.size);return I.forEach(function(Y,$e){F[++L]=[$e,Y]}),F}function Ge(I,L){return function(F){return I(L(F))}}function z(I){var L=-1,F=Array(I.size);return I.forEach(function(Y){F[++L]=Y}),F}var St=Array.prototype,Et=Function.prototype,Nt=Object.prototype,Je=he["__core-js_shared__"],Fn=function(){var I=/[^.]+$/.exec(Je&&Je.keys&&Je.keys.IE_PROTO||"");return I?"Symbol(src)_1."+I:""}(),Cn=Et.toString,Wt=Nt.hasOwnProperty,vt=Nt.toString,_t=RegExp("^"+Cn.call(Wt).replace(Q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),je=Be?he.Buffer:void 0,Ht=he.Symbol,Gt=he.Uint8Array,mt=Ge(Object.getPrototypeOf,Object),Lr=Object.create,ot=Nt.propertyIsEnumerable,Mr=St.splice,Bn=Object.getOwnPropertySymbols,Jn=je?je.isBuffer:void 0,si=Ge(Object.keys,Object),Zn=Er(he,"DataView"),Rn=Er(he,"Map"),Oe=Er(he,"Promise"),er=Er(he,"Set"),Mt=Er(he,"WeakMap"),Vt=Er(Object,"create"),sn=hr(Zn),Kt=hr(Rn),ur=hr(Oe),wn=hr(er),Ri=hr(Mt),Pe=Ht?Ht.prototype:void 0,Ne=Pe?Pe.valueOf:void 0;function ke(I){var L=-1,F=I?I.length:0;for(this.clear();++L<F;){var Y=I[L];this.set(Y[0],Y[1])}}function ae(){this.__data__=Vt?Vt(null):{}}function De(I){return this.has(I)&&delete this.__data__[I]}function be(I){var L=this.__data__;if(Vt){var F=L[I];return F===r?void 0:F}return Wt.call(L,I)?L[I]:void 0}function Me(I){var L=this.__data__;return Vt?L[I]!==void 0:Wt.call(L,I)}function jt(I,L){var F=this.__data__;return F[I]=Vt&&L===void 0?r:L,this}ke.prototype.clear=ae,ke.prototype.delete=De,ke.prototype.get=be,ke.prototype.has=Me,ke.prototype.set=jt;function Se(I){var L=-1,F=I?I.length:0;for(this.clear();++L<F;){var Y=I[L];this.set(Y[0],Y[1])}}function kt(){this.__data__=[]}function xn(I){var L=this.__data__,F=jr(L,I);if(F<0)return!1;var Y=L.length-1;return F==Y?L.pop():Mr.call(L,F,1),!0}function wt(I){var L=this.__data__,F=jr(L,I);return F<0?void 0:L[F][1]}function xt(I){return jr(this.__data__,I)>-1}function at(I,L){var F=this.__data__,Y=jr(F,I);return Y<0?F.push([I,L]):F[Y][1]=L,this}Se.prototype.clear=kt,Se.prototype.delete=xn,Se.prototype.get=wt,Se.prototype.has=xt,Se.prototype.set=at;function ht(I){var L=-1,F=I?I.length:0;for(this.clear();++L<F;){var Y=I[L];this.set(Y[0],Y[1])}}function tt(){this.__data__={hash:new ke,map:new(Rn||Se),string:new ke}}function Un(I){return Ts(this,I).delete(I)}function xr(I){return Ts(this,I).get(I)}function Yt(I){return Ts(this,I).has(I)}function Qt(I,L){return Ts(this,I).set(I,L),this}ht.prototype.clear=tt,ht.prototype.delete=Un,ht.prototype.get=xr,ht.prototype.has=Yt,ht.prototype.set=Qt;function ut(I){this.__data__=new Se(I)}function Pi(){this.__data__=new Se}function ko(I){return this.__data__.delete(I)}function Xt(I){return this.__data__.get(I)}function Ft(I){return this.__data__.has(I)}function dr(I,L){var F=this.__data__;if(F instanceof Se){var Y=F.__data__;if(!Rn||Y.length<n-1)return Y.push([I,L]),this;F=this.__data__=new ht(Y)}return F.set(I,L),this}ut.prototype.clear=Pi,ut.prototype.delete=ko,ut.prototype.get=Xt,ut.prototype.has=Ft,ut.prototype.set=dr;function Vr(I,L){var F=mu(I)||Qi(I)?Z(I.length,String):[],Y=F.length,$e=!!Y;for(var Ie in I)Wt.call(I,Ie)&&!($e&&(Ie=="length"||Fp(Ie,Y)))&&F.push(Ie);return F}function oi(I,L,F){var Y=I[L];(!(Wt.call(I,L)&&pu(Y,F))||F===void 0&&!(L in I))&&(I[L]=F)}function jr(I,L){for(var F=I.length;F--;)if(pu(I[F][0],L))return F;return-1}function dn(I,L){return I&&Oo(L,xl(L),I)}function Ni(I,L,F,Y,$e,Ie,lt){var nt;if(Y&&(nt=Ie?Y(I,$e,Ie,lt):Y(I)),nt!==void 0)return nt;if(!ci(I))return I;var Jt=mu(I);if(Jt){if(nt=th(I),!L)return _l(I,nt)}else{var ft=to(I),Bt=ft==u||ft==d;if(Xi(I))return ya(I,L);if(ft==g||ft==s||Bt&&!Ie){if(we(I))return Ie?I:{};if(nt=Ss(Bt?{}:I),!L)return eh(I,dn(nt,I))}else{if(!j[ft])return Ie?I:{};nt=jp(I,ft,Ni,L)}}lt||(lt=new ut);var br=lt.get(I);if(br)return br;if(lt.set(I,nt),!Jt)var Pn=F?At(I):xl(I);return Le(Pn||I,function(En,$n){Pn&&($n=En,En=I[$n]),oi(nt,$n,Ni(En,L,F,Y,$n,I,lt))}),nt}function Zs(I){return ci(I)?Lr(I):{}}function ai(I,L,F){var Y=L(I);return mu(I)?Y:Re(Y,F(I))}function lu(I){return vt.call(I)}function cu(I){if(!ci(I)||_a(I))return!1;var L=gu(I)||we(I)?_t:B;return L.test(hr(I))}function Zd(I){if(!Yi(I))return si(I);var L=[];for(var F in Object(I))Wt.call(I,F)&&F!="constructor"&&L.push(F);return L}function ya(I,L){if(L)return I.slice();var F=new I.constructor(I.length);return I.copy(F),F}function uu(I){var L=new I.constructor(I.byteLength);return new Gt(L).set(new Gt(I)),L}function va(I,L){var F=L?uu(I.buffer):I.buffer;return new I.constructor(F,I.byteOffset,I.byteLength)}function du(I,L,F){var Y=L?F(Ue(I),!0):Ue(I);return le(Y,re,new I.constructor)}function hu(I){var L=new I.constructor(I.source,H.exec(I));return L.lastIndex=I.lastIndex,L}function Vp(I,L,F){var Y=L?F(z(I),!0):z(I);return le(Y,fe,new I.constructor)}function eo(I){return Ne?Object(Ne.call(I)):{}}function Ki(I,L){var F=L?uu(I.buffer):I.buffer;return new I.constructor(F,I.byteOffset,I.length)}function _l(I,L){var F=-1,Y=I.length;for(L||(L=Array(Y));++F<Y;)L[F]=I[F];return L}function Oo(I,L,F,Y){F||(F={});for(var $e=-1,Ie=L.length;++$e<Ie;){var lt=L[$e],nt=void 0;oi(F,lt,nt===void 0?I[lt]:nt)}return F}function eh(I,L){return Oo(I,li(I),L)}function At(I){return ai(I,xl,li)}function Ts(I,L){var F=I.__data__;return Bp(L)?F[typeof L=="string"?"string":"hash"]:F.map}function Er(I,L){var F=se(I,L);return cu(F)?F:void 0}var li=Bn?Ge(Bn,Object):xa,to=lu;(Zn&&to(new Zn(new ArrayBuffer(1)))!=N||Rn&&to(new Rn)!=h||Oe&&to(Oe.resolve())!=m||er&&to(new er)!=y||Mt&&to(new Mt)!=S)&&(to=function(I){var L=vt.call(I),F=L==g?I.constructor:void 0,Y=F?hr(F):void 0;if(Y)switch(Y){case sn:return N;case Kt:return h;case ur:return m;case wn:return y;case Ri:return S}return L});function th(I){var L=I.length,F=I.constructor(L);return L&&typeof I[0]=="string"&&Wt.call(I,"index")&&(F.index=I.index,F.input=I.input),F}function Ss(I){return typeof I.constructor=="function"&&!Yi(I)?Zs(mt(I)):{}}function jp(I,L,F,Y){var $e=I.constructor;switch(L){case C:return uu(I);case a:case l:return new $e(+I);case N:return va(I,Y);case T:case A:case P:case k:case M:case O:case D:case U:case J:return Ki(I,Y);case h:return du(I,Y,F);case f:case w:return new $e(I);case v:return hu(I);case y:return Vp(I,Y,F);case E:return eo(I)}}function Fp(I,L){return L=L??i,!!L&&(typeof I=="number"||W.test(I))&&I>-1&&I%1==0&&I<L}function Bp(I){var L=typeof I;return L=="string"||L=="number"||L=="symbol"||L=="boolean"?I!=="__proto__":I===null}function _a(I){return!!Fn&&Fn in I}function Yi(I){var L=I&&I.constructor,F=typeof L=="function"&&L.prototype||Nt;return I===F}function hr(I){if(I!=null){try{return Cn.call(I)}catch{}try{return I+""}catch{}}return""}function fu(I){return Ni(I,!0,!0)}function pu(I,L){return I===L||I!==I&&L!==L}function Qi(I){return Up(I)&&Wt.call(I,"callee")&&(!ot.call(I,"callee")||vt.call(I)==s)}var mu=Array.isArray;function wl(I){return I!=null&&nh(I.length)&&!gu(I)}function Up(I){return wa(I)&&wl(I)}var Xi=Jn||Ea;function gu(I){var L=ci(I)?vt.call(I):"";return L==u||L==d}function nh(I){return typeof I=="number"&&I>-1&&I%1==0&&I<=i}function ci(I){var L=typeof I;return!!I&&(L=="object"||L=="function")}function wa(I){return!!I&&typeof I=="object"}function xl(I){return wl(I)?Vr(I):Zd(I)}function xa(){return[]}function Ea(){return!1}t.exports=fu})(Zw,Zw.exports);var Zz=Zw.exports,e1={exports:{}};e1.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",d="[object Date]",h="[object Error]",f="[object Function]",g="[object GeneratorFunction]",m="[object Map]",v="[object Number]",y="[object Null]",w="[object Object]",E="[object Promise]",S="[object Proxy]",C="[object RegExp]",N="[object Set]",T="[object String]",A="[object Symbol]",P="[object Undefined]",k="[object WeakMap]",M="[object ArrayBuffer]",O="[object DataView]",D="[object Float32Array]",U="[object Float64Array]",J="[object Int8Array]",Q="[object Int16Array]",H="[object Int32Array]",B="[object Uint8Array]",W="[object Uint8ClampedArray]",j="[object Uint16Array]",ne="[object Uint32Array]",ue=/[\\^$.*+?()[\]{}|]/g,he=/^\[object .+?Constructor\]$/,Ee=/^(?:0|[1-9]\d*)$/,me={};me[D]=me[U]=me[J]=me[Q]=me[H]=me[B]=me[W]=me[j]=me[ne]=!0,me[a]=me[l]=me[M]=me[u]=me[O]=me[d]=me[h]=me[f]=me[m]=me[v]=me[w]=me[C]=me[N]=me[T]=me[k]=!1;var Be=typeof Hl=="object"&&Hl&&Hl.Object===Object&&Hl,re=typeof self=="object"&&self&&self.Object===Object&&self,fe=Be||re||Function("return this")(),Le=e&&!e.nodeType&&e,Re=Le&&!0&&t&&!t.nodeType&&t,le=Re&&Re.exports===Le,Z=le&&Be.process,se=function(){try{return Z&&Z.binding&&Z.binding("util")}catch{}}(),we=se&&se.isTypedArray;function Ue(I,L){for(var F=-1,Y=I==null?0:I.length,$e=0,Ie=[];++F<Y;){var lt=I[F];L(lt,F,I)&&(Ie[$e++]=lt)}return Ie}function Ge(I,L){for(var F=-1,Y=L.length,$e=I.length;++F<Y;)I[$e+F]=L[F];return I}function z(I,L){for(var F=-1,Y=I==null?0:I.length;++F<Y;)if(L(I[F],F,I))return!0;return!1}function St(I,L){for(var F=-1,Y=Array(I);++F<I;)Y[F]=L(F);return Y}function Et(I){return function(L){return I(L)}}function Nt(I,L){return I.has(L)}function Je(I,L){return I==null?void 0:I[L]}function Fn(I){var L=-1,F=Array(I.size);return I.forEach(function(Y,$e){F[++L]=[$e,Y]}),F}function Cn(I,L){return function(F){return I(L(F))}}function Wt(I){var L=-1,F=Array(I.size);return I.forEach(function(Y){F[++L]=Y}),F}var vt=Array.prototype,_t=Function.prototype,je=Object.prototype,Ht=fe["__core-js_shared__"],Gt=_t.toString,mt=je.hasOwnProperty,Lr=function(){var I=/[^.]+$/.exec(Ht&&Ht.keys&&Ht.keys.IE_PROTO||"");return I?"Symbol(src)_1."+I:""}(),ot=je.toString,Mr=RegExp("^"+Gt.call(mt).replace(ue,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bn=le?fe.Buffer:void 0,Jn=fe.Symbol,si=fe.Uint8Array,Zn=je.propertyIsEnumerable,Rn=vt.splice,Oe=Jn?Jn.toStringTag:void 0,er=Object.getOwnPropertySymbols,Mt=Bn?Bn.isBuffer:void 0,Vt=Cn(Object.keys,Object),sn=li(fe,"DataView"),Kt=li(fe,"Map"),ur=li(fe,"Promise"),wn=li(fe,"Set"),Ri=li(fe,"WeakMap"),Pe=li(Object,"create"),Ne=hr(sn),ke=hr(Kt),ae=hr(ur),De=hr(wn),be=hr(Ri),Me=Jn?Jn.prototype:void 0,jt=Me?Me.valueOf:void 0;function Se(I){var L=-1,F=I==null?0:I.length;for(this.clear();++L<F;){var Y=I[L];this.set(Y[0],Y[1])}}function kt(){this.__data__=Pe?Pe(null):{},this.size=0}function xn(I){var L=this.has(I)&&delete this.__data__[I];return this.size-=L?1:0,L}function wt(I){var L=this.__data__;if(Pe){var F=L[I];return F===r?void 0:F}return mt.call(L,I)?L[I]:void 0}function xt(I){var L=this.__data__;return Pe?L[I]!==void 0:mt.call(L,I)}function at(I,L){var F=this.__data__;return this.size+=this.has(I)?0:1,F[I]=Pe&&L===void 0?r:L,this}Se.prototype.clear=kt,Se.prototype.delete=xn,Se.prototype.get=wt,Se.prototype.has=xt,Se.prototype.set=at;function ht(I){var L=-1,F=I==null?0:I.length;for(this.clear();++L<F;){var Y=I[L];this.set(Y[0],Y[1])}}function tt(){this.__data__=[],this.size=0}function Un(I){var L=this.__data__,F=ya(L,I);if(F<0)return!1;var Y=L.length-1;return F==Y?L.pop():Rn.call(L,F,1),--this.size,!0}function xr(I){var L=this.__data__,F=ya(L,I);return F<0?void 0:L[F][1]}function Yt(I){return ya(this.__data__,I)>-1}function Qt(I,L){var F=this.__data__,Y=ya(F,I);return Y<0?(++this.size,F.push([I,L])):F[Y][1]=L,this}ht.prototype.clear=tt,ht.prototype.delete=Un,ht.prototype.get=xr,ht.prototype.has=Yt,ht.prototype.set=Qt;function ut(I){var L=-1,F=I==null?0:I.length;for(this.clear();++L<F;){var Y=I[L];this.set(Y[0],Y[1])}}function Pi(){this.size=0,this.__data__={hash:new Se,map:new(Kt||ht),string:new Se}}function ko(I){var L=Er(this,I).delete(I);return this.size-=L?1:0,L}function Xt(I){return Er(this,I).get(I)}function Ft(I){return Er(this,I).has(I)}function dr(I,L){var F=Er(this,I),Y=F.size;return F.set(I,L),this.size+=F.size==Y?0:1,this}ut.prototype.clear=Pi,ut.prototype.delete=ko,ut.prototype.get=Xt,ut.prototype.has=Ft,ut.prototype.set=dr;function Vr(I){var L=-1,F=I==null?0:I.length;for(this.__data__=new ut;++L<F;)this.add(I[L])}function oi(I){return this.__data__.set(I,r),this}function jr(I){return this.__data__.has(I)}Vr.prototype.add=Vr.prototype.push=oi,Vr.prototype.has=jr;function dn(I){var L=this.__data__=new ht(I);this.size=L.size}function Ni(){this.__data__=new ht,this.size=0}function Zs(I){var L=this.__data__,F=L.delete(I);return this.size=L.size,F}function ai(I){return this.__data__.get(I)}function lu(I){return this.__data__.has(I)}function cu(I,L){var F=this.__data__;if(F instanceof ht){var Y=F.__data__;if(!Kt||Y.length<n-1)return Y.push([I,L]),this.size=++F.size,this;F=this.__data__=new ut(Y)}return F.set(I,L),this.size=F.size,this}dn.prototype.clear=Ni,dn.prototype.delete=Zs,dn.prototype.get=ai,dn.prototype.has=lu,dn.prototype.set=cu;function Zd(I,L){var F=Qi(I),Y=!F&&pu(I),$e=!F&&!Y&&wl(I),Ie=!F&&!Y&&!$e&&wa(I),lt=F||Y||$e||Ie,nt=lt?St(I.length,String):[],Jt=nt.length;for(var ft in I)mt.call(I,ft)&&!(lt&&(ft=="length"||$e&&(ft=="offset"||ft=="parent")||Ie&&(ft=="buffer"||ft=="byteLength"||ft=="byteOffset")||jp(ft,Jt)))&&nt.push(ft);return nt}function ya(I,L){for(var F=I.length;F--;)if(fu(I[F][0],L))return F;return-1}function uu(I,L,F){var Y=L(I);return Qi(I)?Y:Ge(Y,F(I))}function va(I){return I==null?I===void 0?P:y:Oe&&Oe in Object(I)?to(I):Yi(I)}function du(I){return ci(I)&&va(I)==a}function hu(I,L,F,Y,$e){return I===L?!0:I==null||L==null||!ci(I)&&!ci(L)?I!==I&&L!==L:Vp(I,L,F,Y,hu,$e)}function Vp(I,L,F,Y,$e,Ie){var lt=Qi(I),nt=Qi(L),Jt=lt?l:Ss(I),ft=nt?l:Ss(L);Jt=Jt==a?w:Jt,ft=ft==a?w:ft;var Bt=Jt==w,br=ft==w,Pn=Jt==ft;if(Pn&&wl(I)){if(!wl(L))return!1;lt=!0,Bt=!1}if(Pn&&!Bt)return Ie||(Ie=new dn),lt||wa(I)?Oo(I,L,F,Y,$e,Ie):eh(I,L,Jt,F,Y,$e,Ie);if(!(F&i)){var En=Bt&&mt.call(I,"__wrapped__"),$n=br&&mt.call(L,"__wrapped__");if(En||$n){var As=En?I.value():I,ki=$n?L.value():L;return Ie||(Ie=new dn),$e(As,ki,F,Y,Ie)}}return Pn?(Ie||(Ie=new dn),At(I,L,F,Y,$e,Ie)):!1}function eo(I){if(!nh(I)||Bp(I))return!1;var L=Xi(I)?Mr:he;return L.test(hr(I))}function Ki(I){return ci(I)&&gu(I.length)&&!!me[va(I)]}function _l(I){if(!_a(I))return Vt(I);var L=[];for(var F in Object(I))mt.call(I,F)&&F!="constructor"&&L.push(F);return L}function Oo(I,L,F,Y,$e,Ie){var lt=F&i,nt=I.length,Jt=L.length;if(nt!=Jt&&!(lt&&Jt>nt))return!1;var ft=Ie.get(I);if(ft&&Ie.get(L))return ft==L;var Bt=-1,br=!0,Pn=F&s?new Vr:void 0;for(Ie.set(I,L),Ie.set(L,I);++Bt<nt;){var En=I[Bt],$n=L[Bt];if(Y)var As=lt?Y($n,En,Bt,L,I,Ie):Y(En,$n,Bt,I,L,Ie);if(As!==void 0){if(As)continue;br=!1;break}if(Pn){if(!z(L,function(ki,Do){if(!Nt(Pn,Do)&&(En===ki||$e(En,ki,F,Y,Ie)))return Pn.push(Do)})){br=!1;break}}else if(!(En===$n||$e(En,$n,F,Y,Ie))){br=!1;break}}return Ie.delete(I),Ie.delete(L),br}function eh(I,L,F,Y,$e,Ie,lt){switch(F){case O:if(I.byteLength!=L.byteLength||I.byteOffset!=L.byteOffset)return!1;I=I.buffer,L=L.buffer;case M:return!(I.byteLength!=L.byteLength||!Ie(new si(I),new si(L)));case u:case d:case v:return fu(+I,+L);case h:return I.name==L.name&&I.message==L.message;case C:case T:return I==L+"";case m:var nt=Fn;case N:var Jt=Y&i;if(nt||(nt=Wt),I.size!=L.size&&!Jt)return!1;var ft=lt.get(I);if(ft)return ft==L;Y|=s,lt.set(I,L);var Bt=Oo(nt(I),nt(L),Y,$e,Ie,lt);return lt.delete(I),Bt;case A:if(jt)return jt.call(I)==jt.call(L)}return!1}function At(I,L,F,Y,$e,Ie){var lt=F&i,nt=Ts(I),Jt=nt.length,ft=Ts(L),Bt=ft.length;if(Jt!=Bt&&!lt)return!1;for(var br=Jt;br--;){var Pn=nt[br];if(!(lt?Pn in L:mt.call(L,Pn)))return!1}var En=Ie.get(I);if(En&&Ie.get(L))return En==L;var $n=!0;Ie.set(I,L),Ie.set(L,I);for(var As=lt;++br<Jt;){Pn=nt[br];var ki=I[Pn],Do=L[Pn];if(Y)var yu=lt?Y(Do,ki,Pn,L,I,Ie):Y(ki,Do,Pn,I,L,Ie);if(!(yu===void 0?ki===Do||$e(ki,Do,F,Y,Ie):yu)){$n=!1;break}As||(As=Pn=="constructor")}if($n&&!As){var rh=I.constructor,vu=L.constructor;rh!=vu&&"constructor"in I&&"constructor"in L&&!(typeof rh=="function"&&rh instanceof rh&&typeof vu=="function"&&vu instanceof vu)&&($n=!1)}return Ie.delete(I),Ie.delete(L),$n}function Ts(I){return uu(I,xl,th)}function Er(I,L){var F=I.__data__;return Fp(L)?F[typeof L=="string"?"string":"hash"]:F.map}function li(I,L){var F=Je(I,L);return eo(F)?F:void 0}function to(I){var L=mt.call(I,Oe),F=I[Oe];try{I[Oe]=void 0;var Y=!0}catch{}var $e=ot.call(I);return Y&&(L?I[Oe]=F:delete I[Oe]),$e}var th=er?function(I){return I==null?[]:(I=Object(I),Ue(er(I),function(L){return Zn.call(I,L)}))}:xa,Ss=va;(sn&&Ss(new sn(new ArrayBuffer(1)))!=O||Kt&&Ss(new Kt)!=m||ur&&Ss(ur.resolve())!=E||wn&&Ss(new wn)!=N||Ri&&Ss(new Ri)!=k)&&(Ss=function(I){var L=va(I),F=L==w?I.constructor:void 0,Y=F?hr(F):"";if(Y)switch(Y){case Ne:return O;case ke:return m;case ae:return E;case De:return N;case be:return k}return L});function jp(I,L){return L=L??o,!!L&&(typeof I=="number"||Ee.test(I))&&I>-1&&I%1==0&&I<L}function Fp(I){var L=typeof I;return L=="string"||L=="number"||L=="symbol"||L=="boolean"?I!=="__proto__":I===null}function Bp(I){return!!Lr&&Lr in I}function _a(I){var L=I&&I.constructor,F=typeof L=="function"&&L.prototype||je;return I===F}function Yi(I){return ot.call(I)}function hr(I){if(I!=null){try{return Gt.call(I)}catch{}try{return I+""}catch{}}return""}function fu(I,L){return I===L||I!==I&&L!==L}var pu=du(function(){return arguments}())?du:function(I){return ci(I)&&mt.call(I,"callee")&&!Zn.call(I,"callee")},Qi=Array.isArray;function mu(I){return I!=null&&gu(I.length)&&!Xi(I)}var wl=Mt||Ea;function Up(I,L){return hu(I,L)}function Xi(I){if(!nh(I))return!1;var L=va(I);return L==f||L==g||L==c||L==S}function gu(I){return typeof I=="number"&&I>-1&&I%1==0&&I<=o}function nh(I){var L=typeof I;return I!=null&&(L=="object"||L=="function")}function ci(I){return I!=null&&typeof I=="object"}var wa=we?Et(we):Ki;function xl(I){return mu(I)?Zd(I):_l(I)}function xa(){return[]}function Ea(){return!1}t.exports=Up})(e1,e1.exports);var e8=e1.exports,dN={};Object.defineProperty(dN,"__esModule",{value:!0});const O0e=Zz,D0e=e8;var PA;(function(t){function e(s={},o={},a=!1){typeof s!="object"&&(s={}),typeof o!="object"&&(o={});let l=O0e(o);a||(l=Object.keys(l).reduce((c,u)=>(l[u]!=null&&(c[u]=l[u]),c),{}));for(const c in s)s[c]!==void 0&&o[c]===void 0&&(l[c]=s[c]);return Object.keys(l).length>0?l:void 0}t.compose=e;function n(s={},o={}){typeof s!="object"&&(s={}),typeof o!="object"&&(o={});const a=Object.keys(s).concat(Object.keys(o)).reduce((l,c)=>(D0e(s[c],o[c])||(l[c]=o[c]===void 0?null:o[c]),l),{});return Object.keys(a).length>0?a:void 0}t.diff=n;function r(s={},o={}){s=s||{};const a=Object.keys(o).reduce((l,c)=>(o[c]!==s[c]&&s[c]!==void 0&&(l[c]=o[c]),l),{});return Object.keys(s).reduce((l,c)=>(s[c]!==o[c]&&o[c]===void 0&&(l[c]=null),l),a)}t.invert=r;function i(s,o,a=!1){if(typeof s!="object")return o;if(typeof o!="object")return;if(!a)return o;const l=Object.keys(o).reduce((c,u)=>(s[u]===void 0&&(c[u]=o[u]),c),{});return Object.keys(l).length>0?l:void 0}t.transform=i})(PA||(PA={}));dN.default=PA;var Px={};Object.defineProperty(Px,"__esModule",{value:!0});var NA;(function(t){function e(n){return typeof n.delete=="number"?n.delete:typeof n.retain=="number"?n.retain:typeof n.retain=="object"&&n.retain!==null?1:typeof n.insert=="string"?n.insert.length:1}t.length=e})(NA||(NA={}));Px.default=NA;var hN={};Object.defineProperty(hN,"__esModule",{value:!0});const gV=Px;class L0e{constructor(e){this.ops=e,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(e){e||(e=1/0);const n=this.ops[this.index];if(n){const r=this.offset,i=gV.default.length(n);if(e>=i-r?(e=i-r,this.index+=1,this.offset=0):this.offset+=e,typeof n.delete=="number")return{delete:e};{const s={};return n.attributes&&(s.attributes=n.attributes),typeof n.retain=="number"?s.retain=e:typeof n.retain=="object"&&n.retain!==null?s.retain=n.retain:typeof n.insert=="string"?s.insert=n.insert.substr(r,e):s.insert=n.insert,s}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?gV.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const e=this.ops[this.index];return e?typeof e.delete=="number"?"delete":typeof e.retain=="number"||typeof e.retain=="object"&&e.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const e=this.offset,n=this.index,r=this.next(),i=this.ops.slice(this.index);return this.offset=e,this.index=n,[r].concat(i)}}else return[]}}hN.default=L0e;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const n=k0e,r=Zz,i=e8,s=dN;e.AttributeMap=s.default;const o=Px;e.Op=o.default;const a=hN;e.OpIterator=a.default;const l="\0",c=(d,h)=>{if(typeof d!="object"||d===null)throw new Error(`cannot retain a ${typeof d}`);if(typeof h!="object"||h===null)throw new Error(`cannot retain a ${typeof h}`);const f=Object.keys(d)[0];if(!f||f!==Object.keys(h)[0])throw new Error(`embed types not matched: ${f} != ${Object.keys(h)[0]}`);return[f,d[f],h[f]]};class u{constructor(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]}static registerEmbed(h,f){this.handlers[h]=f}static unregisterEmbed(h){delete this.handlers[h]}static getHandler(h){const f=this.handlers[h];if(!f)throw new Error(`no handlers for embed type "${h}"`);return f}insert(h,f){const g={};return typeof h=="string"&&h.length===0?this:(g.insert=h,f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(g.attributes=f),this.push(g))}delete(h){return h<=0?this:this.push({delete:h})}retain(h,f){if(typeof h=="number"&&h<=0)return this;const g={retain:h};return f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(g.attributes=f),this.push(g)}push(h){let f=this.ops.length,g=this.ops[f-1];if(h=r(h),typeof g=="object"){if(typeof h.delete=="number"&&typeof g.delete=="number")return this.ops[f-1]={delete:g.delete+h.delete},this;if(typeof g.delete=="number"&&h.insert!=null&&(f-=1,g=this.ops[f-1],typeof g!="object"))return this.ops.unshift(h),this;if(i(h.attributes,g.attributes)){if(typeof h.insert=="string"&&typeof g.insert=="string")return this.ops[f-1]={insert:g.insert+h.insert},typeof h.attributes=="object"&&(this.ops[f-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof g.retain=="number")return this.ops[f-1]={retain:g.retain+h.retain},typeof h.attributes=="object"&&(this.ops[f-1].attributes=h.attributes),this}}return f===this.ops.length?this.ops.push(h):this.ops.splice(f,0,h),this}chop(){const h=this.ops[this.ops.length-1];return h&&typeof h.retain=="number"&&!h.attributes&&this.ops.pop(),this}filter(h){return this.ops.filter(h)}forEach(h){this.ops.forEach(h)}map(h){return this.ops.map(h)}partition(h){const f=[],g=[];return this.forEach(m=>{(h(m)?f:g).push(m)}),[f,g]}reduce(h,f){return this.ops.reduce(h,f)}changeLength(){return this.reduce((h,f)=>f.insert?h+o.default.length(f):f.delete?h-f.delete:h,0)}length(){return this.reduce((h,f)=>h+o.default.length(f),0)}slice(h=0,f=1/0){const g=[],m=new a.default(this.ops);let v=0;for(;v<f&&m.hasNext();){let y;v<h?y=m.next(h-v):(y=m.next(f-v),g.push(y)),v+=o.default.length(y)}return new u(g)}compose(h){const f=new a.default(this.ops),g=new a.default(h.ops),m=[],v=g.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){let w=v.retain;for(;f.peekType()==="insert"&&f.peekLength()<=w;)w-=f.peekLength(),m.push(f.next());v.retain-w>0&&g.next(v.retain-w)}const y=new u(m);for(;f.hasNext()||g.hasNext();)if(g.peekType()==="insert")y.push(g.next());else if(f.peekType()==="delete")y.push(f.next());else{const w=Math.min(f.peekLength(),g.peekLength()),E=f.next(w),S=g.next(w);if(S.retain){const C={};if(typeof E.retain=="number")C.retain=typeof S.retain=="number"?w:S.retain;else if(typeof S.retain=="number")E.retain==null?C.insert=E.insert:C.retain=E.retain;else{const T=E.retain==null?"insert":"retain",[A,P,k]=c(E[T],S.retain),M=u.getHandler(A);C[T]={[A]:M.compose(P,k,T==="retain")}}const N=s.default.compose(E.attributes,S.attributes,typeof E.retain=="number");if(N&&(C.attributes=N),y.push(C),!g.hasNext()&&i(y.ops[y.ops.length-1],C)){const T=new u(f.rest());return y.concat(T).chop()}}else typeof S.delete=="number"&&(typeof E.retain=="number"||typeof E.retain=="object"&&E.retain!==null)&&y.push(S)}return y.chop()}concat(h){const f=new u(this.ops.slice());return h.ops.length>0&&(f.push(h.ops[0]),f.ops=f.ops.concat(h.ops.slice(1))),f}diff(h,f){if(this.ops===h.ops)return new u;const g=[this,h].map(E=>E.map(S=>{if(S.insert!=null)return typeof S.insert=="string"?S.insert:l;const C=E===h?"on":"with";throw new Error("diff() called "+C+" non-document")}).join("")),m=new u,v=n(g[0],g[1],f,!0),y=new a.default(this.ops),w=new a.default(h.ops);return v.forEach(E=>{let S=E[1].length;for(;S>0;){let C=0;switch(E[0]){case n.INSERT:C=Math.min(w.peekLength(),S),m.push(w.next(C));break;case n.DELETE:C=Math.min(S,y.peekLength()),y.next(C),m.delete(C);break;case n.EQUAL:C=Math.min(y.peekLength(),w.peekLength(),S);const N=y.next(C),T=w.next(C);i(N.insert,T.insert)?m.retain(C,s.default.diff(N.attributes,T.attributes)):m.push(T).delete(C);break}S-=C}}),m.chop()}eachLine(h,f=`
`){const g=new a.default(this.ops);let m=new u,v=0;for(;g.hasNext();){if(g.peekType()!=="insert")return;const y=g.peek(),w=o.default.length(y)-g.peekLength(),E=typeof y.insert=="string"?y.insert.indexOf(f,w)-w:-1;if(E<0)m.push(g.next());else if(E>0)m.push(g.next(E));else{if(h(m,g.next(1).attributes||{},v)===!1)return;v+=1,m=new u}}m.length()>0&&h(m,{},v)}invert(h){const f=new u;return this.reduce((g,m)=>{if(m.insert)f.delete(o.default.length(m));else{if(typeof m.retain=="number"&&m.attributes==null)return f.retain(m.retain),g+m.retain;if(m.delete||typeof m.retain=="number"){const v=m.delete||m.retain;return h.slice(g,g+v).forEach(w=>{m.delete?f.push(w):m.retain&&m.attributes&&f.retain(o.default.length(w),s.default.invert(m.attributes,w.attributes))}),g+v}else if(typeof m.retain=="object"&&m.retain!==null){const v=h.slice(g,g+1),y=new a.default(v.ops).next(),[w,E,S]=c(m.retain,y.insert),C=u.getHandler(w);return f.retain({[w]:C.invert(E,S)},s.default.invert(m.attributes,y.attributes)),g+1}}return g},0),f.chop()}transform(h,f=!1){if(f=!!f,typeof h=="number")return this.transformPosition(h,f);const g=h,m=new a.default(this.ops),v=new a.default(g.ops),y=new u;for(;m.hasNext()||v.hasNext();)if(m.peekType()==="insert"&&(f||v.peekType()!=="insert"))y.retain(o.default.length(m.next()));else if(v.peekType()==="insert")y.push(v.next());else{const w=Math.min(m.peekLength(),v.peekLength()),E=m.next(w),S=v.next(w);if(E.delete)continue;if(S.delete)y.push(S);else{const C=E.retain,N=S.retain;let T=typeof N=="object"&&N!==null?N:w;if(typeof C=="object"&&C!==null&&typeof N=="object"&&N!==null){const A=Object.keys(C)[0];if(A===Object.keys(N)[0]){const P=u.getHandler(A);P&&(T={[A]:P.transform(C[A],N[A],f)})}}y.retain(T,s.default.transform(E.attributes,S.attributes,f))}}return y.chop()}transformPosition(h,f=!1){f=!!f;const g=new a.default(this.ops);let m=0;for(;g.hasNext()&&m<=h;){const v=g.peekLength(),y=g.peekType();if(g.next(),y==="delete"){h-=Math.min(v,h-m);continue}else y==="insert"&&(m<h||!f)&&(h+=v);m+=v}return h}}u.Op=o.default,u.OpIterator=a.default,u.AttributeMap=s.default,u.handlers={},e.default=u,t.exports=u,t.exports.default=u})(RA,RA.exports);var zs=RA.exports;const Te=By(zs);class Po extends bs{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Po.blotName="break";Po.tagName="BR";let So=class extends Jw{};const M0e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Nx(t){return t.replace(/[&<>"']/g,e=>M0e[e])}const Vo=class Vo extends aN{static compare(e,n){const r=Vo.order.indexOf(e),i=Vo.order.indexOf(n);return r>=0||i>=0?r-i:e===n?0:e<n?-1:1}formatAt(e,n,r,i){if(Vo.compare(this.statics.blotName,r)<0&&this.scroll.query(r,Ae.BLOT)){const s=this.isolate(e,n);i&&s.wrap(r,i)}else super.formatAt(e,n,r,i)}optimize(e){if(super.optimize(e),this.parent instanceof Vo&&Vo.compare(this.statics.blotName,this.parent.statics.blotName)>0){const n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}};pe(Vo,"allowedChildren",[Vo,Po,bs,So]),pe(Vo,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let da=Vo;const yV=1;class kr extends Ny{constructor(){super(...arguments);pe(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=t8(this)),this.cache.delta}deleteAt(n,r){super.deleteAt(n,r),this.cache={}}formatAt(n,r,i,s){r<=0||(this.scroll.query(i,Ae.BLOCK)?n+r===this.length()&&this.format(i,s):super.formatAt(n,Math.min(r,this.length()-n-1),i,s),this.cache={})}insertAt(n,r,i){if(i!=null){super.insertAt(n,r,i),this.cache={};return}if(r.length===0)return;const s=r.split(`
`),o=s.shift();o.length>0&&(n<this.length()-1||this.children.tail==null?super.insertAt(Math.min(n,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});let a=this;s.reduce((l,c)=>(a=a.split(l,!0),a.insertAt(0,c),c.length),n+o.length)}insertBefore(n,r){const{head:i}=this.children;super.insertBefore(n,r),i instanceof Po&&i.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+yV),this.cache.length}moveChildren(n,r){super.moveChildren(n,r),this.cache={}}optimize(n){super.optimize(n),this.cache={}}path(n){return super.path(n,!0)}removeChild(n){super.removeChild(n),this.cache={}}split(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r&&(n===0||n>=this.length()-yV)){const s=this.clone();return n===0?(this.parent.insertBefore(s,this),this):(this.parent.insertBefore(s,this.next),s)}const i=super.split(n,r);return this.cache={},i}}kr.blotName="block";kr.tagName="P";kr.defaultChild=Po;kr.allowedChildren=[Po,da,bs,So];class Vs extends bs{attach(){super.attach(),this.attributes=new Ax(this.domNode)}delta(){return new Te().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,n){const r=this.scroll.query(e,Ae.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,n)}formatAt(e,n,r,i){this.format(r,i)}insertAt(e,n,r){if(r!=null){super.insertAt(e,n,r);return}const i=n.split(`
`),s=i.pop(),o=i.map(l=>{const c=this.scroll.create(kr.blotName);return c.insertAt(0,l),c}),a=this.split(e);o.forEach(l=>{this.parent.insertBefore(l,a)}),s&&this.parent.insertBefore(this.scroll.create("text",s),a)}}Vs.scope=Ae.BLOCK_BLOT;function t8(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.descendants(Jr).reduce((n,r)=>r.length()===0?n:n.insert(r.value(),Ls(r,{},e)),new Te).insert(`
`,Ls(t))}function Ls(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return t==null||("formats"in t&&typeof t.formats=="function"&&(e={...e,...t.formats()},n&&delete e["code-token"]),t.parent==null||t.parent.statics.blotName==="scroll"||t.parent.statics.scope!==t.statics.scope)?e:Ls(t.parent,e,n)}const Ps=class Ps extends bs{static value(){}constructor(e,n,r){super(e,n),this.selection=r,this.textNode=document.createTextNode(Ps.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,n){if(this.savedLength!==0){super.format(e,n);return}let r=this,i=0;for(;r!=null&&r.statics.scope!==Ae.BLOCK_BLOT;)i+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=Ps.CONTENTS.length,r.optimize(),r.formatAt(i,Ps.CONTENTS.length,e,n),this.savedLength=0)}index(e,n){return e===this.textNode?0:super.index(e,n)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const n=this.prev instanceof So?this.prev:null,r=n?n.length():0,i=this.next instanceof So?this.next:null,s=i?i.text:"",{textNode:o}=this,a=o.data.split(Ps.CONTENTS).join("");o.data=Ps.CONTENTS;let l;if(n)l=n,(a||i)&&(n.insertAt(n.length(),a+s),i&&i.remove());else if(i)l=i,i.insertAt(0,a);else{const c=document.createTextNode(a);l=this.scroll.create(c),this.parent.insertBefore(l,this)}if(this.remove(),e){const c=(h,f)=>n&&h===n.domNode?f:h===o?r+f-1:i&&h===i.domNode?r+a.length+f:null,u=c(e.start.node,e.start.offset),d=c(e.end.node,e.end.offset);if(u!==null&&d!==null)return{startNode:l.domNode,startOffset:u,endNode:l.domNode,endOffset:d}}return null}update(e,n){if(e.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(n.range=r)}}optimize(e){super.optimize(e);let{parent:n}=this;for(;n;){if(n.domNode.tagName==="A"){this.savedLength=Ps.CONTENTS.length,n.isolate(this.offset(n),this.length()).unwrap(),this.savedLength=0;break}n=n.parent}}value(){return""}};pe(Ps,"blotName","cursor"),pe(Ps,"className","ql-cursor"),pe(Ps,"tagName","span"),pe(Ps,"CONTENTS","\uFEFF");let up=Ps;var n8={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new i(u,d||l,h),g=n?n+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],f]:l._events[g].push(f):(l._events[g]=f,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,g=new Array(f);h<f;h++)g[h]=d[h].fn;return g},a.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(c,u,d,h,f,g){var m=n?n+c:c;if(!this._events[m])return!1;var v=this._events[m],y=arguments.length,w,E;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,d),!0;case 4:return v.fn.call(v.context,u,d,h),!0;case 5:return v.fn.call(v.context,u,d,h,f),!0;case 6:return v.fn.call(v.context,u,d,h,f,g),!0}for(E=1,w=new Array(y-1);E<y;E++)w[E-1]=arguments[E];v.fn.apply(v.context,w)}else{var S=v.length,C;for(E=0;E<S;E++)switch(v[E].once&&this.removeListener(c,v[E].fn,void 0,!0),y){case 1:v[E].fn.call(v[E].context);break;case 2:v[E].fn.call(v[E].context,u);break;case 3:v[E].fn.call(v[E].context,u,d);break;case 4:v[E].fn.call(v[E].context,u,d,h);break;default:if(!w)for(C=1,w=new Array(y-1);C<y;C++)w[C-1]=arguments[C];v[E].fn.apply(v[E].context,w)}}return!0},a.prototype.on=function(c,u,d){return s(this,c,u,d,!1)},a.prototype.once=function(c,u,d){return s(this,c,u,d,!0)},a.prototype.removeListener=function(c,u,d,h){var f=n?n+c:c;if(!this._events[f])return this;if(!u)return o(this,f),this;var g=this._events[f];if(g.fn)g.fn===u&&(!h||g.once)&&(!d||g.context===d)&&o(this,f);else{for(var m=0,v=[],y=g.length;m<y;m++)(g[m].fn!==u||h&&!g[m].once||d&&g[m].context!==d)&&v.push(g[m]);v.length?this._events[f]=v.length===1?v[0]:v:o(this,f)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(n8);var V0e=n8.exports;const j0e=By(V0e),kA=new WeakMap,OA=["error","warn","log","info"];let DA="warn";function r8(t){if(DA&&OA.indexOf(t)<=OA.indexOf(DA)){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];console[t](...n)}}function yl(t){return OA.reduce((e,n)=>(e[n]=r8.bind(console,n,t),e),{})}yl.level=t=>{DA=t};r8.level=yl.level;const Tb=yl("quill:events"),F0e=["selectionchange","mousedown","mouseup","click"];F0e.forEach(t=>{document.addEventListener(t,function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(i=>{const s=kA.get(i);s&&s.emitter&&s.emitter.handleDOM(...n)})})});class _e extends j0e{constructor(){super(),this.domListeners={},this.on("error",Tb.error)}emit(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Tb.log.call(Tb,...n),super.emit(...n)}handleDOM(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(this.domListeners[e.type]||[]).forEach(s=>{let{node:o,handler:a}=s;(e.target===o||o.contains(e.target))&&a(e,...r)})}listenDOM(e,n,r){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:n,handler:r})}}pe(_e,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),pe(_e,"sources",{API:"api",SILENT:"silent",USER:"user"});const Sb=yl("quill:selection");class Nd{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=n}}class B0e{constructor(e,n){this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Nd(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,_e.sources.USER),1)}),this.emitter.on(_e.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(_e.events.SCROLL_UPDATE,(i,s)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const o=s.some(a=>a.type==="characterData"||a.type==="childList"||a.type==="attributes"&&a.target===this.root);this.update(o?_e.sources.SILENT:i)}catch{}})}),this.emitter.on(_e.events.SCROLL_OPTIMIZE,(r,i)=>{if(i.range){const{startNode:s,startOffset:o,endNode:a,endOffset:l}=i.range;this.setNativeRange(s,o,a,l),this.update(_e.sources.SILENT)}}),this.update(_e.sources.SILENT)}handleComposition(){this.emitter.on(_e.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(_e.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(_e.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,n){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(e,Ae.BLOCK))){if(r.start.node!==this.cursor.textNode){const i=this.scroll.find(r.start.node,!1);if(i==null)return;if(i instanceof Jr){const s=i.split(r.start.offset);i.parent.insertBefore(this.cursor,s)}else i.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,n),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();e=Math.min(e,r-1),n=Math.min(e+n,r-1)-e;let i,[s,o]=this.scroll.leaf(e);if(s==null)return null;if(n>0&&o===s.length()){const[u]=this.scroll.leaf(e+1);if(u){const[d]=this.scroll.line(e),[h]=this.scroll.line(e+1);d===h&&(s=u,o=0)}}[i,o]=s.position(o,!0);const a=document.createRange();if(n>0)return a.setStart(i,o),[s,o]=this.scroll.leaf(e+n),s==null?null:([i,o]=s.position(o,!0),a.setEnd(i,o),a.getBoundingClientRect());let l="left",c;if(i instanceof Text){if(!i.data.length)return null;o<i.data.length?(a.setStart(i,o),a.setEnd(i,o+1)):(a.setStart(i,o-1),a.setEnd(i,o),l="right"),c=a.getBoundingClientRect()}else{if(!(s.domNode instanceof Element))return null;c=s.domNode.getBoundingClientRect(),o>0&&(l="right")}return{bottom:c.top+c.height,height:c.height,left:c[l],right:c[l],top:c.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const n=e.getRangeAt(0);if(n==null)return null;const r=this.normalizeNative(n);return Sb.info("getNativeRange",r),r}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const n=this.getNativeRange();return n==null?[null,null]:[this.normalizedToRange(n),n]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&Ab(this.root,document.activeElement)}normalizedToRange(e){const n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);const r=n.map(o=>{const[a,l]=o,c=this.scroll.find(a,!0),u=c.offset(this.scroll);return l===0?u:c instanceof Jr?u+c.index(a,l):u+c.length()}),i=Math.min(Math.max(...r),this.scroll.length()-1),s=Math.min(i,...r);return new Nd(s,i-s)}normalizeNative(e){if(!Ab(this.root,e.startContainer)||!e.collapsed&&!Ab(this.root,e.endContainer))return null;const n={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[n.start,n.end].forEach(r=>{let{node:i,offset:s}=r;for(;!(i instanceof Text)&&i.childNodes.length>0;)if(i.childNodes.length>s)i=i.childNodes[s],s=0;else if(i.childNodes.length===s)i=i.lastChild,i instanceof Text?s=i.data.length:i.childNodes.length>0?s=i.childNodes.length:s=i.childNodes.length+1;else break;r.node=i,r.offset=s}),n}rangeToNative(e){const n=this.scroll.length(),r=(i,s)=>{i=Math.min(n-1,i);const[o,a]=this.scroll.leaf(i);return o?o.position(a,s):[null,-1]};return[...r(e.index,!1),...r(e.index+e.length,!0)]}setNativeRange(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Sb.info("setNativeRange",e,n,r,i),e!=null&&(this.root.parentNode==null||e.parentNode==null||r.parentNode==null))return;const o=document.getSelection();if(o!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:a}=this.getNativeRange()||{};if(a==null||s||e!==a.startContainer||n!==a.startOffset||r!==a.endContainer||i!==a.endOffset){e instanceof Element&&e.tagName==="BR"&&(n=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),r instanceof Element&&r.tagName==="BR"&&(i=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const l=document.createRange();l.setStart(e,n),l.setEnd(r,i),o.removeAllRanges(),o.addRange(l)}}else o.removeAllRanges(),this.root.blur()}setRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_e.sources.API;if(typeof n=="string"&&(r=n,n=!1),Sb.info("setRange",e),e!=null){const i=this.rangeToNative(e);this.setNativeRange(...i,n)}else this.setNativeRange(null);this.update(r)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_e.sources.USER;const n=this.lastRange,[r,i]=this.getRange();if(this.lastRange=r,this.lastNative=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!oN(n,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const o=this.cursor.restore();o&&this.setNativeRange(o.startNode,o.startOffset,o.endNode,o.endOffset)}const s=[_e.events.SELECTION_CHANGE,Tf(this.lastRange),Tf(n),e];this.emitter.emit(_e.events.EDITOR_CHANGE,...s),e!==_e.sources.SILENT&&this.emitter.emit(...s)}}}function Ab(t,e){try{e.parentNode}catch{return!1}return t.contains(e)}const U0e=/^[ -~]*$/;let $0e=class{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let n=this.scroll.length();this.scroll.batchStart();const r=vV(e),i=new Te;return z0e(r.ops.slice()).reduce((o,a)=>{const l=zs.Op.length(a);let c=a.attributes||{},u=!1,d=!1;if(a.insert!=null){if(i.retain(l),typeof a.insert=="string"){const g=a.insert;d=!g.endsWith(`
`)&&(n<=o||!!this.scroll.descendant(Vs,o)[0]),this.scroll.insertAt(o,g);const[m,v]=this.scroll.line(o);let y=_c({},Ls(m));if(m instanceof kr){const[w]=m.descendant(Jr,v);w&&(y=_c(y,Ls(w)))}c=zs.AttributeMap.diff(y,c)||{}}else if(typeof a.insert=="object"){const g=Object.keys(a.insert)[0];if(g==null)return o;const m=this.scroll.query(g,Ae.INLINE)!=null;if(m)(n<=o||this.scroll.descendant(Vs,o)[0])&&(d=!0);else if(o>0){const[v,y]=this.scroll.descendant(Jr,o-1);v instanceof So?v.value()[y]!==`
`&&(u=!0):v instanceof bs&&v.statics.scope===Ae.INLINE_BLOT&&(u=!0)}if(this.scroll.insertAt(o,g,a.insert[g]),m){const[v]=this.scroll.descendant(Jr,o);if(v){const y=_c({},Ls(v));c=zs.AttributeMap.diff(y,c)||{}}}}n+=l}else if(i.push(a),a.retain!==null&&typeof a.retain=="object"){const g=Object.keys(a.retain)[0];if(g==null)return o;this.scroll.updateEmbedAt(o,g,a.retain[g])}Object.keys(c).forEach(g=>{this.scroll.formatAt(o,l,g,c[g])});const h=u?1:0,f=d?1:0;return n+=h+f,i.retain(h),i.delete(f),o+l+h+f},0),i.reduce((o,a)=>typeof a.delete=="number"?(this.scroll.deleteAt(o,a.delete),o):o+zs.Op.length(a),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(e,n){return this.scroll.deleteAt(e,n),this.update(new Te().retain(e).delete(n))}formatLine(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(s=>{this.scroll.lines(e,Math.max(n,1)).forEach(o=>{o.format(s,r[s])})}),this.scroll.optimize();const i=new Te().retain(e).retain(n,Tf(r));return this.update(i)}formatText(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(s=>{this.scroll.formatAt(e,n,s,r[s])});const i=new Te().retain(e).retain(n,Tf(r));return this.update(i)}getContents(e,n){return this.delta.slice(e,e+n)}getDelta(){return this.scroll.lines().reduce((e,n)=>e.concat(n.delta()),new Te)}getFormat(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],i=[];n===0?this.scroll.path(e).forEach(a=>{const[l]=a;l instanceof kr?r.push(l):l instanceof Jr&&i.push(l)}):(r=this.scroll.lines(e,n),i=this.scroll.descendants(Jr,e,n));const[s,o]=[r,i].map(a=>{const l=a.shift();if(l==null)return{};let c=Ls(l);for(;Object.keys(c).length>0;){const u=a.shift();if(u==null)return c;c=q0e(Ls(u),c)}return c});return{...s,...o}}getHTML(e,n){const[r,i]=this.scroll.line(e);if(r){const s=r.length();return r.length()>=i+n&&!(i===0&&n===s)?Oy(r,i,n,!0):Oy(this.scroll,e,n,!0)}return""}getText(e,n){return this.getContents(e,n).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(e,n){const r=vV(n),i=new Te().retain(e).concat(r);return this.scroll.insertContents(e,r),this.update(i)}insertEmbed(e,n,r){return this.scroll.insertAt(e,n,r),this.update(new Te().retain(e).insert({[n]:r}))}insertText(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n=n.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,n),Object.keys(r).forEach(i=>{this.scroll.formatAt(e,n.length,i,r[i])}),this.update(new Te().retain(e).insert(n,Tf(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if((e==null?void 0:e.statics.blotName)!==kr.blotName)return!1;const n=e;return n.children.length>1?!1:n.children.head instanceof Po}removeFormat(e,n){const r=this.getText(e,n),[i,s]=this.scroll.line(e+n);let o=0,a=new Te;i!=null&&(o=i.length()-s,a=i.delta().slice(s,s+o-1).insert(`
`));const c=this.getContents(e,n+o).diff(new Te().insert(r).concat(a)),u=new Te().retain(e).concat(c);return this.applyDelta(u)}update(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const i=this.delta;if(n.length===1&&n[0].type==="characterData"&&n[0].target.data.match(U0e)&&this.scroll.find(n[0].target)){const s=this.scroll.find(n[0].target),o=Ls(s),a=s.offset(this.scroll),l=n[0].oldValue.replace(up.CONTENTS,""),c=new Te().insert(l),u=new Te().insert(s.value()),d=r&&{oldRange:_V(r.oldRange,-a),newRange:_V(r.newRange,-a)};e=new Te().retain(a).concat(c.diff(u,d)).reduce((f,g)=>g.insert?f.insert(g.insert,o):f.push(g),new Te),this.delta=i.compose(e)}else this.delta=this.getDelta(),(!e||!oN(i.compose(e),this.delta))&&(e=i.diff(this.delta,r));return e}};function Oh(t,e,n){if(t.length===0){const[f]=Ib(n.pop());return e<=0?`</li></${f}>`:`</li></${f}>${Oh([],e-1,n)}`}const[{child:r,offset:i,length:s,indent:o,type:a},...l]=t,[c,u]=Ib(a);if(o>e)return n.push(a),o===e+1?`<${c}><li${u}>${Oy(r,i,s)}${Oh(l,o,n)}`:`<${c}><li>${Oh(t,e+1,n)}`;const d=n[n.length-1];if(o===e&&a===d)return`</li><li${u}>${Oy(r,i,s)}${Oh(l,o,n)}`;const[h]=Ib(n.pop());return`</li></${h}>${Oh(t,e-1,n)}`}function Oy(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in t&&typeof t.html=="function")return t.html(e,n);if(t instanceof So)return Nx(t.value().slice(e,e+n)).replaceAll(" ","&nbsp;");if(t instanceof Eo){if(t.statics.blotName==="list-container"){const c=[];return t.children.forEachAt(e,n,(u,d,h)=>{const f="formats"in u&&typeof u.formats=="function"?u.formats():{};c.push({child:u,offset:d,length:h,indent:f.indent||0,type:f.list})}),Oh(c,-1,[])}const i=[];if(t.children.forEachAt(e,n,(c,u,d)=>{i.push(Oy(c,u,d))}),r||t.statics.blotName==="list")return i.join("");const{outerHTML:s,innerHTML:o}=t.domNode,[a,l]=s.split(`>${o}<`);return a==="<table"?`<table style="border: 1px solid #000;">${i.join("")}<${l}`:`${a}>${i.join("")}<${l}`}return t.domNode instanceof Element?t.domNode.outerHTML:""}function q0e(t,e){return Object.keys(e).reduce((n,r)=>{if(t[r]==null)return n;const i=e[r];return i===t[r]?n[r]=i:Array.isArray(i)?i.indexOf(t[r])<0?n[r]=i.concat([t[r]]):n[r]=i:n[r]=[i,t[r]],n},{})}function Ib(t){const e=t==="ordered"?"ol":"ul";switch(t){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function vV(t){return t.reduce((e,n)=>{if(typeof n.insert=="string"){const r=n.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(r,n.attributes)}return e.push(n)},new Te)}function _V(t,e){let{index:n,length:r}=t;return new Nd(n+e,r)}function z0e(t){const e=[];return t.forEach(n=>{typeof n.insert=="string"?n.insert.split(`
`).forEach((i,s)=>{s&&e.push({insert:`
`,attributes:n.attributes}),i&&e.push({insert:i,attributes:n.attributes})}):e.push(n)}),e}class No{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=n}}pe(No,"DEFAULTS",{});const C0="\uFEFF";class fN extends bs{constructor(e,n){super(e,n),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(C0),this.rightGuard=document.createTextNode(C0),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,n)}restore(e){let n=null,r;const i=e.data.split(C0).join("");if(e===this.leftGuard)if(this.prev instanceof So){const s=this.prev.length();this.prev.insertAt(s,i),n={startNode:this.prev.domNode,startOffset:s+i.length}}else r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this),n={startNode:r,startOffset:i.length};else e===this.rightGuard&&(this.next instanceof So?(this.next.insertAt(0,i),n={startNode:this.next.domNode,startOffset:i.length}):(r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this.next),n={startNode:r,startOffset:i.length}));return e.data=C0,n}update(e,n){e.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const i=this.restore(r.target);i&&(n.range=i)}})}}class W0e{constructor(e,n){pe(this,"isComposing",!1);this.scroll=e,this.emitter=n,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const n=e.target instanceof Node?this.scroll.find(e.target,!0):null;n&&!(n instanceof fN)&&(this.emitter.emit(_e.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(_e.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(_e.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(_e.events.COMPOSITION_END,e),this.isComposing=!1}}const Tg=class Tg{constructor(e,n){pe(this,"modules",{});this.quill=e,this.options=n}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const n=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new n(this.quill,this.options.modules[e]||{}),this.modules[e]}};pe(Tg,"DEFAULTS",{modules:{}}),pe(Tg,"themes",{default:Tg});let dp=Tg;const H0e=t=>t.parentElement||t.getRootNode().host||null,G0e=t=>{const e=t.getBoundingClientRect(),n="offsetWidth"in t&&Math.abs(e.width)/t.offsetWidth||1,r="offsetHeight"in t&&Math.abs(e.height)/t.offsetHeight||1;return{top:e.top,right:e.left+t.clientWidth*n,bottom:e.top+t.clientHeight*r,left:e.left}},R0=t=>{const e=parseInt(t,10);return Number.isNaN(e)?0:e},wV=(t,e,n,r,i,s)=>t<n&&e>r?0:t<n?-(n-t+i):e>r?e-t>r-n?t+i-n:e-r+s:0,K0e=(t,e)=>{var s,o,a;const n=t.ownerDocument;let r=e,i=t;for(;i;){const l=i===n.body,c=l?{top:0,right:((s=window.visualViewport)==null?void 0:s.width)??n.documentElement.clientWidth,bottom:((o=window.visualViewport)==null?void 0:o.height)??n.documentElement.clientHeight,left:0}:G0e(i),u=getComputedStyle(i),d=wV(r.left,r.right,c.left,c.right,R0(u.scrollPaddingLeft),R0(u.scrollPaddingRight)),h=wV(r.top,r.bottom,c.top,c.bottom,R0(u.scrollPaddingTop),R0(u.scrollPaddingBottom));if(d||h)if(l)(a=n.defaultView)==null||a.scrollBy(d,h);else{const{scrollLeft:f,scrollTop:g}=i;h&&(i.scrollTop+=h),d&&(i.scrollLeft+=d);const m=i.scrollLeft-f,v=i.scrollTop-g;r={left:r.left-m,top:r.top-v,right:r.right-m,bottom:r.bottom-v}}i=l||u.position==="fixed"?null:H0e(i)}},Y0e=100,Q0e=["block","break","cursor","inline","scroll","text"],X0e=(t,e,n)=>{const r=new cp;return Q0e.forEach(i=>{const s=e.query(i);s&&r.register(s)}),t.forEach(i=>{let s=e.query(i);s||n.error(`Cannot register "${i}" specified in "formats" config. Are you sure it was registered?`);let o=0;for(;s;)if(r.register(s),s="blotName"in s?s.requiredContainer??null:null,o+=1,o>Y0e){n.error(`Cycle detected in registering blot requiredContainer: "${i}"`);break}}),r},Af=yl("quill"),P0=new cp;Eo.uiClass="ql-ui";const lo=class lo{static debug(e){e===!0&&(e="log"),yl.level(e)}static find(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return kA.get(e)||P0.find(e,n)}static import(e){return this.imports[e]==null&&Af.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],n=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in e?e.attrName:e.blotName;typeof r=="string"?this.register(`formats/${r}`,e,n):Object.keys(e).forEach(i=>{this.register(i,e[i],n)})}else{const e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!r&&Af.warn(`Overwriting ${e} with`,n),this.imports[e]=n,(e.startsWith("blots/")||e.startsWith("formats/"))&&n&&typeof n!="boolean"&&n.blotName!=="abstract"&&P0.register(n),typeof n.register=="function"&&n.register(P0)}}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=J0e(e,n),this.container=this.options.container,this.container==null){Af.error("Invalid Quill container",e);return}this.options.debug&&lo.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",kA.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new _e;const i=lN.blotName,s=this.options.registry.query(i);if(!s||!("blotName"in s))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new s(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new $0e(this.scroll),this.selection=new B0e(this.scroll,this.emitter),this.composition=new W0e(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(_e.events.EDITOR_CHANGE,o=>{o===_e.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(_e.events.SCROLL_UPDATE,(o,a)=>{const l=this.selection.lastRange,[c]=this.selection.getRange(),u=l&&c?{oldRange:l,newRange:c}:void 0;io.call(this,()=>this.editor.update(null,a,u),o)}),this.emitter.on(_e.events.SCROLL_EMBED_UPDATE,(o,a)=>{const l=this.selection.lastRange,[c]=this.selection.getRange(),u=l&&c?{oldRange:l,newRange:c}:void 0;io.call(this,()=>{const d=new Te().retain(o.offset(this)).retain({[o.statics.blotName]:a});return this.editor.update(d,[],u)},lo.sources.USER)}),r){const o=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(o)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const r=e;e=document.createElement("div"),e.classList.add(r)}return this.container.insertBefore(e,n),e}blur(){this.selection.setRange(null)}deleteText(e,n,r){return[e,n,,r]=Ta(e,n,r),io.call(this,()=>this.editor.deleteText(e,n),r,e,-1*n)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const n=e();return this.allowReadOnlyEdits=!1,n}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_e.sources.API;return io.call(this,()=>{const i=this.getSelection(!0);let s=new Te;if(i==null)return s;if(this.scroll.query(e,Ae.BLOCK))s=this.editor.formatLine(i.index,i.length,{[e]:n});else{if(i.length===0)return this.selection.format(e,n),s;s=this.editor.formatText(i.index,i.length,{[e]:n})}return this.setSelection(i,_e.sources.SILENT),s},r)}formatLine(e,n,r,i,s){let o;return[e,n,o,s]=Ta(e,n,r,i,s),io.call(this,()=>this.editor.formatLine(e,n,o),s,e,0)}formatText(e,n,r,i,s){let o;return[e,n,o,s]=Ta(e,n,r,i,s),io.call(this,()=>this.editor.formatText(e,n,o),s,e,0)}getBounds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof e=="number"?r=this.selection.getBounds(e,n):r=this.selection.getBounds(e.index,e.length),!r)return null;const i=this.container.getBoundingClientRect();return{bottom:r.bottom-i.top,height:r.height,left:r.left-i.left,right:r.right-i.left,top:r.top-i.top,width:r.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,n]=Ta(e,n),this.editor.getContents(e,n)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,n):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,n)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(n=n??this.getLength()-e),[e,n]=Ta(e,n),this.editor.getHTML(e,n)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(n=n??this.getLength()-e),[e,n]=Ta(e,n),this.editor.getText(e,n)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:lo.sources.API;return io.call(this,()=>this.editor.insertEmbed(e,n,r),i,e)}insertText(e,n,r,i,s){let o;return[e,,o,s]=Ta(e,0,r,i,s),io.call(this,()=>this.editor.insertText(e,n,o),s,e,n.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,n,r){return[e,n,,r]=Ta(e,n,r),io.call(this,()=>this.editor.removeFormat(e,n),r,e)}scrollRectIntoView(e){K0e(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,n=e&&this.selection.getBounds(e.index,e.length);n&&this.scrollRectIntoView(n)}setContents(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_e.sources.API;return io.call(this,()=>{e=new Te(e);const r=this.getLength(),i=this.editor.deleteText(0,r),s=this.editor.insertContents(0,e),o=this.editor.deleteText(this.getLength()-1,1);return i.compose(s).compose(o)},n)}setSelection(e,n,r){e==null?this.selection.setRange(null,n||lo.sources.API):([e,n,,r]=Ta(e,n,r),this.selection.setRange(new Nd(Math.max(0,e),n),r),r!==_e.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_e.sources.API;const r=new Te().insert(e);return this.setContents(r,n)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_e.sources.USER;const n=this.scroll.update(e);return this.selection.update(e),n}updateContents(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_e.sources.API;return io.call(this,()=>(e=new Te(e),this.editor.applyDelta(e)),n,!0)}};pe(lo,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:P0,theme:"default"}),pe(lo,"events",_e.events),pe(lo,"sources",_e.sources),pe(lo,"version","2.0.3"),pe(lo,"imports",{delta:Te,parchment:E0e,"core/module":No,"core/theme":dp});let X=lo;function xV(t){return typeof t=="string"?document.querySelector(t):t}function Cb(t){return Object.entries(t??{}).reduce((e,n)=>{let[r,i]=n;return{...e,[r]:i===!0?{}:i}},{})}function EV(t){return Object.fromEntries(Object.entries(t).filter(e=>e[1]!==void 0))}function J0e(t,e){const n=xV(t);if(!n)throw new Error("Invalid Quill container");const i=!e.theme||e.theme===X.DEFAULTS.theme?dp:X.import(`themes/${e.theme}`);if(!i)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:s,...o}=X.DEFAULTS,{modules:a,...l}=i.DEFAULTS;let c=Cb(e.modules);c!=null&&c.toolbar&&c.toolbar.constructor!==Object&&(c={...c,toolbar:{container:c.toolbar}});const u=_c({},Cb(s),Cb(a),c),d={...o,...EV(l),...EV(e)};let h=e.registry;return h?e.formats&&Af.warn('Ignoring "formats" option because "registry" is specified'):h=e.formats?X0e(e.formats,d.registry,Af):d.registry,{...d,registry:h,container:n,theme:i,modules:Object.entries(u).reduce((f,g)=>{let[m,v]=g;if(!v)return f;const y=X.import(`modules/${m}`);return y==null?(Af.error(`Cannot load ${m} module. Are you sure you registered it?`),f):{...f,[m]:_c({},y.DEFAULTS||{},v)}},{}),bounds:xV(d.bounds)}}function io(t,e,n,r){if(!this.isEnabled()&&e===_e.sources.USER&&!this.allowReadOnlyEdits)return new Te;let i=n==null?null:this.getSelection();const s=this.editor.delta,o=t();if(i!=null&&(n===!0&&(n=i.index),r==null?i=bV(i,o,e):r!==0&&(i=bV(i,n,r,e)),this.setSelection(i,_e.sources.SILENT)),o.length()>0){const a=[_e.events.TEXT_CHANGE,o,s,e];this.emitter.emit(_e.events.EDITOR_CHANGE,...a),e!==_e.sources.SILENT&&this.emitter.emit(...a)}return o}function Ta(t,e,n,r,i){let s={};return typeof t.index=="number"&&typeof t.length=="number"?typeof e!="number"?(i=r,r=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):typeof e!="number"&&(i=r,r=n,n=e,e=0),typeof n=="object"?(s=n,i=r):typeof n=="string"&&(r!=null?s[n]=r:i=n),i=i||_e.sources.API,[t,e,s,i]}function bV(t,e,n,r){const i=typeof n=="number"?n:0;if(t==null)return null;let s,o;return e&&typeof e.transformPosition=="function"?[s,o]=[t.index,t.index+t.length].map(a=>e.transformPosition(a,r!==_e.sources.USER)):[s,o]=[t.index,t.index+t.length].map(a=>a<e||a===e&&r===_e.sources.USER?a:i>=0?a+i:Math.max(e,a+i)),new Nd(s,o-s)}class Qd extends Ix{}function TV(t){return t instanceof kr||t instanceof Vs}function SV(t){return typeof t.updateContent=="function"}class Dh extends lN{constructor(e,n,r){let{emitter:i}=r;super(e,n),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",s=>this.handleDragStart(s))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(_e.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(_e.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,n){this.emitter.emit(_e.events.SCROLL_EMBED_UPDATE,e,n)}deleteAt(e,n){const[r,i]=this.line(e),[s]=this.line(e+n);if(super.deleteAt(e,n),s!=null&&r!==s&&i>0){if(r instanceof Vs||s instanceof Vs){this.optimize();return}const o=s.children.head instanceof Po?null:s.children.head;r.moveChildren(s,o),r.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,n,r,i){super.formatAt(e,n,r,i),this.optimize()}insertAt(e,n,r){if(e>=this.length())if(r==null||this.scroll.query(n,Ae.BLOCK)==null){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),r==null&&n.endsWith(`
`)?i.insertAt(0,n.slice(0,-1),r):i.insertAt(0,n,r)}else{const i=this.scroll.create(n,r);this.appendChild(i)}else super.insertAt(e,n,r);this.optimize()}insertBefore(e,n){if(e.statics.scope===Ae.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(e),super.insertBefore(r,n)}else super.insertBefore(e,n)}insertContents(e,n){const r=this.deltaToRenderBlocks(n.concat(new Te().insert(`
`))),i=r.pop();if(i==null)return;this.batchStart();const s=r.shift();if(s){const l=s.type==="block"&&(s.delta.length()===0||!this.descendant(Vs,e)[0]&&e<this.length()),c=s.type==="block"?s.delta:new Te().insert({[s.key]:s.value});Rb(this,e,c);const u=s.type==="block"?1:0,d=e+c.length()+u;l&&this.insertAt(d-1,`
`);const h=Ls(this.line(e)[0]),f=zs.AttributeMap.diff(h,s.attributes)||{};Object.keys(f).forEach(g=>{this.formatAt(d-1,1,g,f[g])}),e=d}let[o,a]=this.children.find(e);if(r.length&&(o&&(o=o.split(a),a=0),r.forEach(l=>{if(l.type==="block"){const c=this.createBlock(l.attributes,o||void 0);Rb(c,0,l.delta)}else{const c=this.create(l.key,l.value);this.insertBefore(c,o||void 0),Object.keys(l.attributes).forEach(u=>{c.format(u,l.attributes[u])})}})),i.type==="block"&&i.delta.length()){const l=o?o.offset(o.scroll)+a:this.length();Rb(this,l,i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const n=this.path(e).pop();if(!n)return[null,-1];const[r,i]=n;return r instanceof Jr?[r,i]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(TV,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(i,s,o)=>{let a=[],l=o;return i.children.forEachAt(s,o,(c,u,d)=>{TV(c)?a.push(c):c instanceof Ix&&(a=a.concat(r(c,u,l))),l-=d}),a};return r(this,e,n)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,n),e.length>0&&this.emitter.emit(_e.events.SCROLL_OPTIMIZE,e,n))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let n=_e.sources.USER;typeof e=="string"&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(r=>{let{target:i}=r;const s=this.find(i,!0);return s&&!SV(s)}),e.length>0&&this.emitter.emit(_e.events.SCROLL_BEFORE_UPDATE,n,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(_e.events.SCROLL_UPDATE,n,e)}updateEmbedAt(e,n,r){const[i]=this.descendant(s=>s instanceof Vs,e);i&&i.statics.blotName===n&&SV(i)&&i.updateContent(r)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const n=[];let r=new Te;return e.forEach(i=>{const s=i==null?void 0:i.insert;if(s)if(typeof s=="string"){const o=s.split(`
`);o.slice(0,-1).forEach(l=>{r.insert(l,i.attributes),n.push({type:"block",delta:r,attributes:i.attributes??{}}),r=new Te});const a=o[o.length-1];a&&r.insert(a,i.attributes)}else{const o=Object.keys(s)[0];if(!o)return;this.query(o,Ae.INLINE)?r.push(i):(r.length()&&n.push({type:"block",delta:r,attributes:{}}),r=new Te,n.push({type:"blockEmbed",key:o,value:s[o],attributes:i.attributes??{}}))}}),r.length()&&n.push({type:"block",delta:r,attributes:{}}),n}createBlock(e,n){let r;const i={};Object.entries(e).forEach(a=>{let[l,c]=a;this.query(l,Ae.BLOCK&Ae.BLOT)!=null?r=l:i[l]=c});const s=this.create(r||this.statics.defaultChild.blotName,r?e[r]:void 0);this.insertBefore(s,n||void 0);const o=s.length();return Object.entries(i).forEach(a=>{let[l,c]=a;s.formatAt(0,o,l,c)}),s}}pe(Dh,"blotName","scroll"),pe(Dh,"className","ql-editor"),pe(Dh,"tagName","DIV"),pe(Dh,"defaultChild",kr),pe(Dh,"allowedChildren",[kr,Vs,Qd]);function Rb(t,e,n){n.reduce((r,i)=>{const s=zs.Op.length(i);let o=i.attributes||{};if(i.insert!=null){if(typeof i.insert=="string"){const a=i.insert;t.insertAt(r,a);const[l]=t.descendant(Jr,r),c=Ls(l);o=zs.AttributeMap.diff(c,o)||{}}else if(typeof i.insert=="object"){const a=Object.keys(i.insert)[0];if(a==null)return r;if(t.insertAt(r,a,i.insert[a]),t.scroll.query(a,Ae.INLINE)!=null){const[c]=t.descendant(Jr,r),u=Ls(c);o=zs.AttributeMap.diff(u,o)||{}}}}return Object.keys(o).forEach(a=>{t.formatAt(r,s,a,o[a])}),r+s},e)}const pN={scope:Ae.BLOCK,whitelist:["right","center","justify"]},Z0e=new ua("align","align",pN),i8=new Ro("align","ql-align",pN),s8=new su("align","text-align",pN);class o8 extends su{value(e){let n=super.value(e);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${n.split(",").map(i=>`00${parseInt(i,10).toString(16)}`.slice(-2)).join("")}`):n}}const e_e=new Ro("color","ql-color",{scope:Ae.INLINE}),mN=new o8("color","color",{scope:Ae.INLINE}),t_e=new Ro("background","ql-bg",{scope:Ae.INLINE}),gN=new o8("background","background-color",{scope:Ae.INLINE});class Xd extends Qd{static create(e){const n=super.create(e);return n.setAttribute("spellcheck","false"),n}code(e,n){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(e,e+n)}html(e,n){return`<pre>
${Nx(this.code(e,n))}
</pre>`}}class ni extends kr{static register(){X.register(Xd)}}pe(ni,"TAB","  ");class yN extends da{}yN.blotName="code";yN.tagName="CODE";ni.blotName="code-block";ni.className="ql-code-block";ni.tagName="DIV";Xd.blotName="code-block-container";Xd.className="ql-code-block-container";Xd.tagName="DIV";Xd.allowedChildren=[ni];ni.allowedChildren=[So,Po,up];ni.requiredContainer=Xd;const vN={scope:Ae.BLOCK,whitelist:["rtl"]},a8=new ua("direction","dir",vN),l8=new Ro("direction","ql-direction",vN),c8=new su("direction","direction",vN),u8={scope:Ae.INLINE,whitelist:["serif","monospace"]},d8=new Ro("font","ql-font",u8);class n_e extends su{value(e){return super.value(e).replace(/["']/g,"")}}const h8=new n_e("font","font-family",u8),f8=new Ro("size","ql-size",{scope:Ae.INLINE,whitelist:["small","large","huge"]}),p8=new su("size","font-size",{scope:Ae.INLINE,whitelist:["10px","18px","32px"]}),r_e=yl("quill:keyboard"),i_e=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class kx extends No{static match(e,n){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!n[r]!==e[r]&&n[r]!==null)?!1:n.key===e.key||n.key===e.which}constructor(e,n){super(e,n),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=o_e(e);if(i==null){r_e.warn("Attempted to add invalid keyboard binding",i);return}typeof n=="function"&&(n={handler:n}),typeof r=="function"&&(r={handler:r}),(Array.isArray(i.key)?i.key:[i.key]).forEach(o=>{const a={...i,key:o,...n,...r};this.bindings[a.key]=this.bindings[a.key]||[],this.bindings[a.key].push(a)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const i=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(y=>kx.match(e,y));if(i.length===0)return;const s=X.find(e.target,!0);if(s&&s.scroll!==this.quill.scroll)return;const o=this.quill.getSelection();if(o==null||!this.quill.hasFocus())return;const[a,l]=this.quill.getLine(o.index),[c,u]=this.quill.getLeaf(o.index),[d,h]=o.length===0?[c,u]:this.quill.getLeaf(o.index+o.length),f=c instanceof Jw?c.value().slice(0,u):"",g=d instanceof Jw?d.value().slice(h):"",m={collapsed:o.length===0,empty:o.length===0&&a.length()<=1,format:this.quill.getFormat(o),line:a,offset:l,prefix:f,suffix:g,event:e};i.some(y=>{if(y.collapsed!=null&&y.collapsed!==m.collapsed||y.empty!=null&&y.empty!==m.empty||y.offset!=null&&y.offset!==m.offset)return!1;if(Array.isArray(y.format)){if(y.format.every(w=>m.format[w]==null))return!1}else if(typeof y.format=="object"&&!Object.keys(y.format).every(w=>y.format[w]===!0?m.format[w]!=null:y.format[w]===!1?m.format[w]==null:oN(y.format[w],m.format[w])))return!1;return y.prefix!=null&&!y.prefix.test(m.prefix)||y.suffix!=null&&!y.suffix.test(m.suffix)?!1:y.handler.call(this,o,m,y)!==!0})&&e.preventDefault()})}handleBackspace(e,n){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(n.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let i={};const[s]=this.quill.getLine(e.index);let o=new Te().retain(e.index-r).delete(r);if(n.offset===0){const[a]=this.quill.getLine(e.index-1);if(a&&!(a.statics.blotName==="block"&&a.length()<=1)){const c=s.formats(),u=this.quill.getFormat(e.index-1,1);if(i=zs.AttributeMap.diff(c,u)||{},Object.keys(i).length>0){const d=new Te().retain(e.index+s.length()-2).retain(1,i);o=o.compose(d)}}}this.quill.updateContents(o,X.sources.USER),this.quill.focus()}handleDelete(e,n){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(n.suffix)?2:1;if(e.index>=this.quill.getLength()-r)return;let i={};const[s]=this.quill.getLine(e.index);let o=new Te().retain(e.index).delete(r);if(n.offset>=s.length()-1){const[a]=this.quill.getLine(e.index+1);if(a){const l=s.formats(),c=this.quill.getFormat(e.index,1);i=zs.AttributeMap.diff(l,c)||{},Object.keys(i).length>0&&(o=o.retain(a.length()-1).retain(1,i))}}this.quill.updateContents(o,X.sources.USER),this.quill.focus()}handleDeleteRange(e){_N({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,n){const r=Object.keys(n.format).reduce((s,o)=>(this.quill.scroll.query(o,Ae.BLOCK)&&!Array.isArray(n.format[o])&&(s[o]=n.format[o]),s),{}),i=new Te().retain(e.index).delete(e.length).insert(`
`,r);this.quill.updateContents(i,X.sources.USER),this.quill.setSelection(e.index+1,X.sources.SILENT),this.quill.focus()}}const s_e={bindings:{bold:Pb("bold"),italic:Pb("italic"),underline:Pb("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",X.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",X.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(t,e){e.format.indent!=null?this.quill.format("indent","-1",X.sources.USER):e.format.list!=null&&this.quill.format("list",!1,X.sources.USER)}},"indent code-block":AV(!0),"outdent code-block":AV(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(t){this.quill.deleteText(t.index-1,1,X.sources.USER)}},tab:{key:"Tab",handler(t,e){if(e.format.table)return!0;this.quill.history.cutoff();const n=new Te().retain(t.index).delete(t.length).insert("	");return this.quill.updateContents(n,X.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,X.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,X.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(t,e){const n={list:!1};e.format.indent&&(n.indent=!1),this.quill.formatLine(t.index,t.length,n,X.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(t){const[e,n]=this.quill.getLine(t.index),r={...e.formats(),list:"checked"},i=new Te().retain(t.index).insert(`
`,r).retain(e.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,X.sources.USER),this.quill.setSelection(t.index+1,X.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(t,e){const[n,r]=this.quill.getLine(t.index),i=new Te().retain(t.index).insert(`
`,e.format).retain(n.length()-r-1).retain(1,{header:null});this.quill.updateContents(i,X.sources.USER),this.quill.setSelection(t.index+1,X.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(t){const e=this.quill.getModule("table");if(e){const[n,r,i,s]=e.getTable(t),o=a_e(n,r,i,s);if(o==null)return;let a=n.offset();if(o<0){const l=new Te().retain(a).insert(`
`);this.quill.updateContents(l,X.sources.USER),this.quill.setSelection(t.index+1,t.length,X.sources.SILENT)}else if(o>0){a+=n.length();const l=new Te().retain(a).insert(`
`);this.quill.updateContents(l,X.sources.USER),this.quill.setSelection(a,X.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(t,e){const{event:n,line:r}=e,i=r.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(i-1,X.sources.USER):this.quill.setSelection(i+r.length(),X.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(t,e){if(this.quill.scroll.query("list")==null)return!0;const{length:n}=e.prefix,[r,i]=this.quill.getLine(t.index);if(i>n)return!0;let s;switch(e.prefix.trim()){case"[]":case"[ ]":s="unchecked";break;case"[x]":s="checked";break;case"-":case"*":s="bullet";break;default:s="ordered"}this.quill.insertText(t.index," ",X.sources.USER),this.quill.history.cutoff();const o=new Te().retain(t.index-i).delete(n+1).retain(r.length()-2-i).retain(1,{list:s});return this.quill.updateContents(o,X.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,X.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(t){const[e,n]=this.quill.getLine(t.index);let r=2,i=e;for(;i!=null&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,r-=1,r<=0){const s=new Te().retain(t.index+e.length()-n-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(s,X.sources.USER),this.quill.setSelection(t.index-1,X.sources.SILENT),!1}return!0}},"embed left":N0("ArrowLeft",!1),"embed left shift":N0("ArrowLeft",!0),"embed right":N0("ArrowRight",!1),"embed right shift":N0("ArrowRight",!0),"table down":IV(!1),"table up":IV(!0)}};kx.DEFAULTS=s_e;function AV(t){return{key:"Tab",shiftKey:!t,format:{"code-block":!0},handler(e,n){let{event:r}=n;const i=this.quill.scroll.query("code-block"),{TAB:s}=i;if(e.length===0&&!r.shiftKey){this.quill.insertText(e.index,s,X.sources.USER),this.quill.setSelection(e.index+s.length,X.sources.SILENT);return}const o=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:a,length:l}=e;o.forEach((c,u)=>{t?(c.insertAt(0,s),u===0?a+=s.length:l+=s.length):c.domNode.textContent.startsWith(s)&&(c.deleteAt(0,s.length),u===0?a-=s.length:l-=s.length)}),this.quill.update(X.sources.USER),this.quill.setSelection(a,l,X.sources.SILENT)}}}function N0(t,e){return{key:t,shiftKey:e,altKey:null,[t==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:i}=r;t==="ArrowRight"&&(i+=r.length+1);const[s]=this.quill.getLeaf(i);return s instanceof bs?(t==="ArrowLeft"?e?this.quill.setSelection(r.index-1,r.length+1,X.sources.USER):this.quill.setSelection(r.index-1,X.sources.USER):e?this.quill.setSelection(r.index,r.length+1,X.sources.USER):this.quill.setSelection(r.index+r.length+1,X.sources.USER),!1):!0}}}function Pb(t){return{key:t[0],shortKey:!0,handler(e,n){this.quill.format(t,!n.format[t],X.sources.USER)}}}function IV(t){return{key:t?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,n){const r=t?"prev":"next",i=n.line,s=i.parent[r];if(s!=null){if(s.statics.blotName==="table-row"){let o=s.children.head,a=i;for(;a.prev!=null;)a=a.prev,o=o.next;const l=o.offset(this.quill.scroll)+Math.min(n.offset,o.length()-1);this.quill.setSelection(l,0,X.sources.USER)}}else{const o=i.table()[r];o!=null&&(t?this.quill.setSelection(o.offset(this.quill.scroll)+o.length()-1,0,X.sources.USER):this.quill.setSelection(o.offset(this.quill.scroll),0,X.sources.USER))}return!1}}}function o_e(t){if(typeof t=="string"||typeof t=="number")t={key:t};else if(typeof t=="object")t=Tf(t);else return null;return t.shortKey&&(t[i_e]=t.shortKey,delete t.shortKey),t}function _N(t){let{quill:e,range:n}=t;const r=e.getLines(n);let i={};if(r.length>1){const s=r[0].formats(),o=r[r.length-1].formats();i=zs.AttributeMap.diff(o,s)||{}}e.deleteText(n,X.sources.USER),Object.keys(i).length>0&&e.formatLine(n.index,1,i,X.sources.USER),e.setSelection(n.index,X.sources.SILENT)}function a_e(t,e,n,r){return e.prev==null&&e.next==null?n.prev==null&&n.next==null?r===0?-1:1:n.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const l_e=/font-weight:\s*normal/,c_e=["P","OL","UL"],CV=t=>t&&c_e.includes(t.tagName),u_e=t=>{Array.from(t.querySelectorAll("br")).filter(e=>CV(e.previousElementSibling)&&CV(e.nextElementSibling)).forEach(e=>{var n;(n=e.parentNode)==null||n.removeChild(e)})},d_e=t=>{Array.from(t.querySelectorAll('b[style*="font-weight"]')).filter(e=>{var n;return(n=e.getAttribute("style"))==null?void 0:n.match(l_e)}).forEach(e=>{var r;const n=t.createDocumentFragment();n.append(...e.childNodes),(r=e.parentNode)==null||r.replaceChild(n,e)})};function h_e(t){t.querySelector('[id^="docs-internal-guid-"]')&&(d_e(t),u_e(t))}const f_e=/\bmso-list:[^;]*ignore/i,p_e=/\bmso-list:[^;]*\bl(\d+)/i,m_e=/\bmso-list:[^;]*\blevel(\d+)/i,g_e=(t,e)=>{const n=t.getAttribute("style"),r=n==null?void 0:n.match(p_e);if(!r)return null;const i=Number(r[1]),s=n==null?void 0:n.match(m_e),o=s?Number(s[1]):1,a=new RegExp(`@list l${i}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),l=e.match(a),c=l&&l[1]==="bullet"?"bullet":"ordered";return{id:i,indent:o,type:c,element:t}},y_e=t=>{var o,a;const e=Array.from(t.querySelectorAll("[style*=mso-list]")),n=[],r=[];e.forEach(l=>{(l.getAttribute("style")||"").match(f_e)?n.push(l):r.push(l)}),n.forEach(l=>{var c;return(c=l.parentNode)==null?void 0:c.removeChild(l)});const i=t.documentElement.innerHTML,s=r.map(l=>g_e(l,i)).filter(l=>l);for(;s.length;){const l=[];let c=s.shift();for(;c;)l.push(c),c=s.length&&((o=s[0])==null?void 0:o.element)===c.element.nextElementSibling&&s[0].id===c.id?s.shift():null;const u=document.createElement("ul");l.forEach(f=>{const g=document.createElement("li");g.setAttribute("data-list",f.type),f.indent>1&&g.setAttribute("class",`ql-indent-${f.indent-1}`),g.innerHTML=f.element.innerHTML,u.appendChild(g)});const d=(a=l[0])==null?void 0:a.element,{parentNode:h}=d??{};d&&(h==null||h.replaceChild(u,d)),l.slice(1).forEach(f=>{let{element:g}=f;h==null||h.removeChild(g)})}};function v_e(t){t.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&y_e(t)}const __e=[v_e,h_e],w_e=t=>{t.documentElement&&__e.forEach(e=>{e(t)})},x_e=yl("quill:clipboard"),E_e=[[Node.TEXT_NODE,D_e],[Node.TEXT_NODE,PV],["br",I_e],[Node.ELEMENT_NODE,PV],[Node.ELEMENT_NODE,A_e],[Node.ELEMENT_NODE,S_e],[Node.ELEMENT_NODE,k_e],["li",P_e],["ol, ul",N_e],["pre",C_e],["tr",O_e],["b",Nb("bold")],["i",Nb("italic")],["strike",Nb("strike")],["style",R_e]],b_e=[Z0e,a8].reduce((t,e)=>(t[e.keyName]=e,t),{}),RV=[s8,gN,mN,c8,h8,p8].reduce((t,e)=>(t[e.keyName]=e,t),{});class m8 extends No{constructor(e,n){super(e,n),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],E_e.concat(this.options.matchers??[]).forEach(r=>{let[i,s]=r;this.addMatcher(i,s)})}addMatcher(e,n){this.matchers.push([e,n])}convert(e){let{html:n,text:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i[ni.blotName])return new Te().insert(r||"",{[ni.blotName]:i[ni.blotName]});if(!n)return new Te().insert(r||"",i);const s=this.convertHTML(n);return Ev(s,`
`)&&(s.ops[s.ops.length-1].attributes==null||i.table)?s.compose(new Te().retain(s.length()-1).delete(1)):s}normalizeHTML(e){w_e(e)}convertHTML(e){const n=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(n);const r=n.body,i=new WeakMap,[s,o]=this.prepareMatching(r,i);return wN(this.quill.scroll,r,s,o,i)}dangerouslyPasteHTML(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:X.sources.API;if(typeof e=="string"){const i=this.convert({html:e,text:""});this.quill.setContents(i,n),this.quill.setSelection(0,X.sources.SILENT)}else{const i=this.convert({html:n,text:""});this.quill.updateContents(new Te().retain(e).concat(i),r),this.quill.setSelection(e+i.length(),X.sources.SILENT)}}onCaptureCopy(e){var o,a;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:i,text:s}=this.onCopy(r,n);(o=e.clipboardData)==null||o.setData("text/plain",s),(a=e.clipboardData)==null||a.setData("text/html",i),n&&_N({range:r,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(n=>n[0]!=="#").join(`
`)}onCapturePaste(e){var o,a,l,c,u;if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const n=this.quill.getSelection(!0);if(n==null)return;const r=(o=e.clipboardData)==null?void 0:o.getData("text/html");let i=(a=e.clipboardData)==null?void 0:a.getData("text/plain");if(!r&&!i){const d=(l=e.clipboardData)==null?void 0:l.getData("text/uri-list");d&&(i=this.normalizeURIList(d))}const s=Array.from(((c=e.clipboardData)==null?void 0:c.files)||[]);if(!r&&s.length>0){this.quill.uploader.upload(n,s);return}if(r&&s.length>0){const d=new DOMParser().parseFromString(r,"text/html");if(d.body.childElementCount===1&&((u=d.body.firstElementChild)==null?void 0:u.tagName)==="IMG"){this.quill.uploader.upload(n,s);return}}this.onPaste(n,{html:r,text:i})}onCopy(e){const n=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:n}}onPaste(e,n){let{text:r,html:i}=n;const s=this.quill.getFormat(e.index),o=this.convert({text:r,html:i},s);x_e.log("onPaste",o,{text:r,html:i});const a=new Te().retain(e.index).delete(e.length).concat(o);this.quill.updateContents(a,X.sources.USER),this.quill.setSelection(a.length()-e.length,X.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,n){const r=[],i=[];return this.matchers.forEach(s=>{const[o,a]=s;switch(o){case Node.TEXT_NODE:i.push(a);break;case Node.ELEMENT_NODE:r.push(a);break;default:Array.from(e.querySelectorAll(o)).forEach(l=>{if(n.has(l)){const c=n.get(l);c==null||c.push(a)}else n.set(l,[a])});break}}),[r,i]}}pe(m8,"DEFAULTS",{matchers:[]});function Jd(t,e,n,r){return r.query(e)?t.reduce((i,s)=>{if(!s.insert)return i;if(s.attributes&&s.attributes[e])return i.push(s);const o=n?{[e]:n}:{};return i.insert(s.insert,{...o,...s.attributes})},new Te):t}function Ev(t,e){let n="";for(let r=t.ops.length-1;r>=0&&n.length<e.length;--r){const i=t.ops[r];if(typeof i.insert!="string")break;n=i.insert+n}return n.slice(-1*e.length)===e}function nc(t,e){if(!(t instanceof Element))return!1;const n=e.query(t);return n&&n.prototype instanceof bs?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(t.tagName.toLowerCase())}function T_e(t,e){return t.previousElementSibling&&t.nextElementSibling&&!nc(t.previousElementSibling,e)&&!nc(t.nextElementSibling,e)}const k0=new WeakMap;function g8(t){return t==null?!1:(k0.has(t)||(t.tagName==="PRE"?k0.set(t,!0):k0.set(t,g8(t.parentNode))),k0.get(t))}function wN(t,e,n,r,i){return e.nodeType===e.TEXT_NODE?r.reduce((s,o)=>o(e,s,t),new Te):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((s,o)=>{let a=wN(t,o,n,r,i);return o.nodeType===e.ELEMENT_NODE&&(a=n.reduce((l,c)=>c(o,l,t),a),a=(i.get(o)||[]).reduce((l,c)=>c(o,l,t),a)),s.concat(a)},new Te):new Te}function Nb(t){return(e,n,r)=>Jd(n,t,!0,r)}function S_e(t,e,n){const r=ua.keys(t),i=Ro.keys(t),s=su.keys(t),o={};return r.concat(i).concat(s).forEach(a=>{let l=n.query(a,Ae.ATTRIBUTE);l!=null&&(o[l.attrName]=l.value(t),o[l.attrName])||(l=b_e[a],l!=null&&(l.attrName===a||l.keyName===a)&&(o[l.attrName]=l.value(t)||void 0),l=RV[a],l!=null&&(l.attrName===a||l.keyName===a)&&(l=RV[a],o[l.attrName]=l.value(t)||void 0))}),Object.entries(o).reduce((a,l)=>{let[c,u]=l;return Jd(a,c,u,n)},e)}function A_e(t,e,n){const r=n.query(t);if(r==null)return e;if(r.prototype instanceof bs){const i={},s=r.value(t);if(s!=null)return i[r.blotName]=s,new Te().insert(i,r.formats(t,n))}else if(r.prototype instanceof Ny&&!Ev(e,`
`)&&e.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return Jd(e,r.blotName,r.formats(t,n),n);return e}function I_e(t,e){return Ev(e,`
`)||e.insert(`
`),e}function C_e(t,e,n){const r=n.query("code-block"),i=r&&"formats"in r&&typeof r.formats=="function"?r.formats(t,n):!0;return Jd(e,"code-block",i,n)}function R_e(){return new Te}function P_e(t,e,n){const r=n.query(t);if(r==null||r.blotName!=="list"||!Ev(e,`
`))return e;let i=-1,s=t.parentNode;for(;s!=null;)["OL","UL"].includes(s.tagName)&&(i+=1),s=s.parentNode;return i<=0?e:e.reduce((o,a)=>a.insert?a.attributes&&typeof a.attributes.indent=="number"?o.push(a):o.insert(a.insert,{indent:i,...a.attributes||{}}):o,new Te)}function N_e(t,e,n){const r=t;let i=r.tagName==="OL"?"ordered":"bullet";const s=r.getAttribute("data-checked");return s&&(i=s==="true"?"checked":"unchecked"),Jd(e,"list",i,n)}function PV(t,e,n){if(!Ev(e,`
`)){if(nc(t,n)&&(t.childNodes.length>0||t instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&t.nextSibling){let r=t.nextSibling;for(;r!=null;){if(nc(r,n))return e.insert(`
`);const i=n.query(r);if(i&&i.prototype instanceof Vs)return e.insert(`
`);r=r.firstChild}}}return e}function k_e(t,e,n){var s;const r={},i=t.style||{};return i.fontStyle==="italic"&&(r.italic=!0),i.textDecoration==="underline"&&(r.underline=!0),i.textDecoration==="line-through"&&(r.strike=!0),((s=i.fontWeight)!=null&&s.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(r.bold=!0),e=Object.entries(r).reduce((o,a)=>{let[l,c]=a;return Jd(o,l,c,n)},e),parseFloat(i.textIndent||0)>0?new Te().insert("	").concat(e):e}function O_e(t,e,n){var i,s;const r=((i=t.parentElement)==null?void 0:i.tagName)==="TABLE"?t.parentElement:(s=t.parentElement)==null?void 0:s.parentElement;if(r!=null){const a=Array.from(r.querySelectorAll("tr")).indexOf(t)+1;return Jd(e,"table",a,n)}return e}function D_e(t,e,n){var i;let r=t.data;if(((i=t.parentElement)==null?void 0:i.tagName)==="O:P")return e.insert(r.trim());if(!g8(t)){if(r.trim().length===0&&r.includes(`
`)&&!T_e(t,n))return e;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(t.previousSibling==null&&t.parentElement!=null&&nc(t.parentElement,n)||t.previousSibling instanceof Element&&nc(t.previousSibling,n))&&(r=r.replace(/^ /,"")),(t.nextSibling==null&&t.parentElement!=null&&nc(t.parentElement,n)||t.nextSibling instanceof Element&&nc(t.nextSibling,n))&&(r=r.replace(/ $/,"")),r=r.replaceAll(""," ")}return e.insert(r)}class y8 extends No{constructor(n,r){super(n,r);pe(this,"lastRecorded",0);pe(this,"ignoreChange",!1);pe(this,"stack",{undo:[],redo:[]});pe(this,"currentRange",null);this.quill.on(X.events.EDITOR_CHANGE,(i,s,o,a)=>{i===X.events.SELECTION_CHANGE?s&&a!==X.sources.SILENT&&(this.currentRange=s):i===X.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||a===X.sources.USER?this.record(s,o):this.transform(s)),this.currentRange=LA(this.currentRange,s))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",i=>{i.inputType==="historyUndo"?(this.undo(),i.preventDefault()):i.inputType==="historyRedo"&&(this.redo(),i.preventDefault())})}change(n,r){if(this.stack[n].length===0)return;const i=this.stack[n].pop();if(!i)return;const s=this.quill.getContents(),o=i.delta.invert(s);this.stack[r].push({delta:o,range:LA(i.range,o)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i.delta,X.sources.USER),this.ignoreChange=!1,this.restoreSelection(i)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(n,r){if(n.ops.length===0)return;this.stack.redo=[];let i=n.invert(r),s=this.currentRange;const o=Date.now();if(this.lastRecorded+this.options.delay>o&&this.stack.undo.length>0){const a=this.stack.undo.pop();a&&(i=i.compose(a.delta),s=a.range)}else this.lastRecorded=o;i.length()!==0&&(this.stack.undo.push({delta:i,range:s}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(n){NV(this.stack.undo,n),NV(this.stack.redo,n)}undo(){this.change("undo","redo")}restoreSelection(n){if(n.range)this.quill.setSelection(n.range,X.sources.USER);else{const r=M_e(this.quill.scroll,n.delta);this.quill.setSelection(r,X.sources.USER)}}}pe(y8,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function NV(t,e){let n=e;for(let r=t.length-1;r>=0;r-=1){const i=t[r];t[r]={delta:n.transform(i.delta,!0),range:i.range&&LA(i.range,n)},n=i.delta.transform(n),t[r].delta.length()===0&&t.splice(r,1)}}function L_e(t,e){const n=e.ops[e.ops.length-1];return n==null?!1:n.insert!=null?typeof n.insert=="string"&&n.insert.endsWith(`
`):n.attributes!=null?Object.keys(n.attributes).some(r=>t.query(r,Ae.BLOCK)!=null):!1}function M_e(t,e){const n=e.reduce((i,s)=>i+(s.delete||0),0);let r=e.length()-n;return L_e(t,e)&&(r-=1),r}function LA(t,e){if(!t)return t;const n=e.transformPosition(t.index),r=e.transformPosition(t.index+t.length);return{index:n,length:r-n}}class v8 extends No{constructor(e,n){super(e,n),e.root.addEventListener("drop",r=>{var o;r.preventDefault();let i=null;if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const a=document.caretPositionFromPoint(r.clientX,r.clientY);i=document.createRange(),i.setStart(a.offsetNode,a.offset),i.setEnd(a.offsetNode,a.offset)}const s=i&&e.selection.normalizeNative(i);if(s){const a=e.selection.normalizedToRange(s);(o=r.dataTransfer)!=null&&o.files&&this.upload(a,r.dataTransfer.files)}})}upload(e,n){const r=[];Array.from(n).forEach(i=>{var s;i&&((s=this.options.mimetypes)!=null&&s.includes(i.type))&&r.push(i)}),r.length>0&&this.options.handler.call(this,e,r)}}v8.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(t,e){if(!this.quill.scroll.query("image"))return;const n=e.map(r=>new Promise(i=>{const s=new FileReader;s.onload=()=>{i(s.result)},s.readAsDataURL(r)}));Promise.all(n).then(r=>{const i=r.reduce((s,o)=>s.insert({image:o}),new Te().retain(t.index).delete(t.length));this.quill.updateContents(i,_e.sources.USER),this.quill.setSelection(t.index+r.length,_e.sources.SILENT)})}};const V_e=["insertText","insertReplacementText"];class j_e extends No{constructor(e,n){super(e,n),e.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||e.on(X.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){_N({range:e,quill:this.quill})}replaceText(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(n){const r=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new Te().retain(e.index).insert(n,r),X.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+n.length,0,X.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!V_e.includes(e.inputType))return;const n=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!n||n.collapsed===!0)return;const r=F_e(e);if(r==null)return;const i=this.quill.selection.normalizeNative(n),s=i?this.quill.selection.normalizedToRange(i):null;s&&this.replaceText(s,r)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function F_e(t){var e;return typeof t.data=="string"?t.data:(e=t.dataTransfer)!=null&&e.types.includes("text/plain")?t.dataTransfer.getData("text/plain"):null}const B_e=/Mac/i.test(navigator.platform),U_e=100,$_e=t=>!!(t.key==="ArrowLeft"||t.key==="ArrowRight"||t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="Home"||B_e&&t.key==="a"&&t.ctrlKey===!0);class q_e extends No{constructor(n,r){super(n,r);pe(this,"isListening",!1);pe(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(n,r){let{line:i,event:s}=r;if(!(i instanceof Eo)||!i.uiNode)return!0;const o=getComputedStyle(i.domNode).direction==="rtl";return o&&s.key!=="ArrowRight"||!o&&s.key!=="ArrowLeft"?!0:(this.quill.setSelection(n.index-1,n.length+(s.shiftKey?1:0),X.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",n=>{!n.defaultPrevented&&$_e(n)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+U_e,this.isListening)return;this.isListening=!0;const n=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",n,{once:!0})}handleSelectionChange(){const n=document.getSelection();if(!n)return;const r=n.getRangeAt(0);if(r.collapsed!==!0||r.startOffset!==0)return;const i=this.quill.scroll.find(r.startContainer);if(!(i instanceof Eo)||!i.uiNode)return;const s=document.createRange();s.setStartAfter(i.uiNode),s.setEndAfter(i.uiNode),n.removeAllRanges(),n.addRange(s)}}X.register({"blots/block":kr,"blots/block/embed":Vs,"blots/break":Po,"blots/container":Qd,"blots/cursor":up,"blots/embed":fN,"blots/inline":da,"blots/scroll":Dh,"blots/text":So,"modules/clipboard":m8,"modules/history":y8,"modules/keyboard":kx,"modules/uploader":v8,"modules/input":j_e,"modules/uiNode":q_e});class z_e extends Ro{add(e,n){let r=0;if(n==="+1"||n==="-1"){const i=this.value(e)||0;r=n==="+1"?i+1:i-1}else typeof n=="number"&&(r=n);return r===0?(this.remove(e),!0):super.add(e,r.toString())}canAdd(e,n){return super.canAdd(e,n)||super.canAdd(e,parseInt(n,10))}value(e){return parseInt(super.value(e),10)||void 0}}const W_e=new z_e("indent","ql-indent",{scope:Ae.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class MA extends kr{}pe(MA,"blotName","blockquote"),pe(MA,"tagName","blockquote");class VA extends kr{static formats(e){return this.tagName.indexOf(e.tagName)+1}}pe(VA,"blotName","header"),pe(VA,"tagName",["H1","H2","H3","H4","H5","H6"]);class bv extends Qd{}bv.blotName="list-container";bv.tagName="OL";class Tv extends kr{static create(e){const n=super.create();return n.setAttribute("data-list",e),n}static formats(e){return e.getAttribute("data-list")||void 0}static register(){X.register(bv)}constructor(e,n){super(e,n);const r=n.ownerDocument.createElement("span"),i=s=>{if(!e.isEnabled())return;const o=this.statics.formats(n,e);o==="checked"?(this.format("list","unchecked"),s.preventDefault()):o==="unchecked"&&(this.format("list","checked"),s.preventDefault())};r.addEventListener("mousedown",i),r.addEventListener("touchstart",i),this.attachUI(r)}format(e,n){e===this.statics.blotName&&n?this.domNode.setAttribute("data-list",n):super.format(e,n)}}Tv.blotName="list";Tv.tagName="LI";bv.allowedChildren=[Tv];Tv.requiredContainer=bv;class Dy extends da{static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}pe(Dy,"blotName","bold"),pe(Dy,"tagName",["STRONG","B"]);class jA extends Dy{}pe(jA,"blotName","italic"),pe(jA,"tagName",["EM","I"]);class rc extends da{static create(e){const n=super.create(e);return n.setAttribute("href",this.sanitize(e)),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}static formats(e){return e.getAttribute("href")}static sanitize(e){return _8(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,n){e!==this.statics.blotName||!n?super.format(e,n):this.domNode.setAttribute("href",this.constructor.sanitize(n))}}pe(rc,"blotName","link"),pe(rc,"tagName","A"),pe(rc,"SANITIZED_URL","about:blank"),pe(rc,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function _8(t,e){const n=document.createElement("a");n.href=t;const r=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(r)>-1}class FA extends da{static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}pe(FA,"blotName","script"),pe(FA,"tagName",["SUB","SUP"]);class BA extends Dy{}pe(BA,"blotName","strike"),pe(BA,"tagName",["S","STRIKE"]);class UA extends da{}pe(UA,"blotName","underline"),pe(UA,"tagName","U");class I_ extends fN{static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const n=super.create(e);return typeof e=="string"&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}pe(I_,"blotName","formula"),pe(I_,"className","ql-formula"),pe(I_,"tagName","SPAN");const kV=["alt","height","width"];var M0;let H_e=(M0=class extends bs{static create(e){const n=super.create(e);return typeof e=="string"&&n.setAttribute("src",this.sanitize(e)),n}static formats(e){return kV.reduce((n,r)=>(e.hasAttribute(r)&&(n[r]=e.getAttribute(r)),n),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return _8(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,n){kV.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):super.format(e,n)}},pe(M0,"blotName","image"),pe(M0,"tagName","IMG"),M0);const OV=["height","width"];class C_ extends Vs{static create(e){const n=super.create(e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen","true"),n.setAttribute("src",this.sanitize(e)),n}static formats(e){return OV.reduce((n,r)=>(e.hasAttribute(r)&&(n[r]=e.getAttribute(r)),n),{})}static sanitize(e){return rc.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,n){OV.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):super.format(e,n)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}pe(C_,"blotName","video"),pe(C_,"className","ql-video"),pe(C_,"tagName","IFRAME");const Om=new Ro("code-token","hljs",{scope:Ae.INLINE});class il extends da{static formats(e,n){for(;e!=null&&e!==n.domNode;){if(e.classList&&e.classList.contains(ni.className))return super.formats(e,n);e=e.parentNode}}constructor(e,n,r){super(e,n,r),Om.add(this.domNode,r)}format(e,n){e!==il.blotName?super.format(e,n):n?Om.add(this.domNode,n):(Om.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Om.value(this.domNode)||this.unwrap()}}il.blotName="code-token";il.className="ql-token";class Ms extends ni{static create(e){const n=super.create(e);return typeof e=="string"&&n.setAttribute("data-language",e),n}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,n){e===this.statics.blotName&&n?this.domNode.setAttribute("data-language",n):super.format(e,n)}replaceWith(e,n){return this.formatAt(0,this.length(),il.blotName,!1),super.replaceWith(e,n)}}class Eg extends Xd{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,n){e===Ms.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(e,n)}))}formatAt(e,n,r,i){r===Ms.blotName&&(this.forceNext=!0),super.formatAt(e,n,r,i)}highlight(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const i=`${Array.from(this.domNode.childNodes).filter(o=>o!==this.uiNode).map(o=>o.textContent).join(`
`)}
`,s=Ms.formats(this.children.head.domNode);if(n||this.forceNext||this.cachedText!==i){if(i.trim().length>0||this.cachedText==null){const o=this.children.reduce((l,c)=>l.concat(t8(c,!1)),new Te),a=e(i,s);o.diff(a).reduce((l,c)=>{let{retain:u,attributes:d}=c;return u?(d&&Object.keys(d).forEach(h=>{[Ms.blotName,il.blotName].includes(h)&&this.formatAt(l,u,h,d[h])}),l+u):l},0)}this.cachedText=i,this.forceNext=!1}}html(e,n){const[r]=this.children.find(e);return`<pre data-language="${r?Ms.formats(r.domNode):"plain"}">
${Nx(this.code(e,n))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const n=Ms.formats(this.children.head.domNode);n!==this.uiNode.value&&(this.uiNode.value=n)}}}Eg.allowedChildren=[Ms];Ms.requiredContainer=Eg;Ms.allowedChildren=[il,up,So,Po];const G_e=(t,e,n)=>{if(typeof t.versionString=="string"){const r=t.versionString.split(".")[0];if(parseInt(r,10)>=11)return t.highlight(n,{language:e}).value}return t.highlight(e,n).value};class w8 extends No{static register(){X.register(il,!0),X.register(Ms,!0),X.register(Eg,!0)}constructor(e,n){if(super(e,n),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,i)=>{let{key:s}=i;return r[s]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(X.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof Eg))return;const n=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:i,label:s}=r;const o=n.ownerDocument.createElement("option");o.textContent=s,o.setAttribute("value",i),n.appendChild(o)}),n.addEventListener("change",()=>{e.format(Ms.blotName,n.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(n),e.children.head&&(n.value=Ms.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(X.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(X.sources.USER);const r=this.quill.getSelection();(e==null?this.quill.scroll.descendants(Eg):[e]).forEach(s=>{s.highlight(this.highlightBlot,n)}),this.quill.update(X.sources.SILENT),r!=null&&this.quill.setSelection(r,X.sources.SILENT)}highlightBlot(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(n=this.languages[n]?n:"plain",n==="plain")return Nx(e).split(`
`).reduce((i,s,o)=>(o!==0&&i.insert(`
`,{[ni.blotName]:n}),i.insert(s)),new Te);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(ni.className),r.innerHTML=G_e(this.options.hljs,n,e),wN(this.quill.scroll,r,[(i,s)=>{const o=Om.value(i);return o?s.compose(new Te().retain(s.length(),{[il.blotName]:o})):s}],[(i,s)=>i.data.split(`
`).reduce((o,a,l)=>(l!==0&&o.insert(`
`,{[ni.blotName]:n}),o.insert(a)),s)],new WeakMap)}}w8.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const Sg=class Sg extends kr{static create(e){const n=super.create();return e?n.setAttribute("data-row",e):n.setAttribute("data-row",xN()),n}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,n){e===Sg.blotName&&n?this.domNode.setAttribute("data-row",n):super.format(e,n)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};pe(Sg,"blotName","table"),pe(Sg,"tagName","TD");let po=Sg;class sl extends Qd{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),n=this.children.tail.formats(),r=this.next.children.head.formats(),i=this.next.children.tail.formats();return e.table===n.table&&e.table===r.table&&e.table===i.table}return!1}optimize(e){super.optimize(e),this.children.forEach(n=>{if(n.next==null)return;const r=n.formats(),i=n.next.formats();if(r.table!==i.table){const s=this.splitAfter(n);s&&s.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}pe(sl,"blotName","table-row"),pe(sl,"tagName","TR");class ta extends Qd{}pe(ta,"blotName","table-body"),pe(ta,"tagName","TBODY");class hp extends Qd{balanceCells(){const e=this.descendants(sl),n=e.reduce((r,i)=>Math.max(i.children.length,r),0);e.forEach(r=>{new Array(n-r.children.length).fill(0).forEach(()=>{let i;r.children.head!=null&&(i=po.formats(r.children.head.domNode));const s=this.scroll.create(po.blotName,i);r.appendChild(s),s.optimize()})})}cells(e){return this.rows().map(n=>n.children.at(e))}deleteColumn(e){const[n]=this.descendant(ta);n==null||n.children.head==null||n.children.forEach(r=>{const i=r.children.at(e);i!=null&&i.remove()})}insertColumn(e){const[n]=this.descendant(ta);n==null||n.children.head==null||n.children.forEach(r=>{const i=r.children.at(e),s=po.formats(r.children.head.domNode),o=this.scroll.create(po.blotName,s);r.insertBefore(o,i)})}insertRow(e){const[n]=this.descendant(ta);if(n==null||n.children.head==null)return;const r=xN(),i=this.scroll.create(sl.blotName);n.children.head.children.forEach(()=>{const o=this.scroll.create(po.blotName,r);i.appendChild(o)});const s=n.children.at(e);n.insertBefore(i,s)}rows(){const e=this.children.head;return e==null?[]:e.children.map(n=>n)}}pe(hp,"blotName","table-container"),pe(hp,"tagName","TABLE");hp.allowedChildren=[ta];ta.requiredContainer=hp;ta.allowedChildren=[sl];sl.requiredContainer=ta;sl.allowedChildren=[po];po.requiredContainer=sl;function xN(){return`row-${Math.random().toString(36).slice(2,6)}`}class K_e extends No{static register(){X.register(po),X.register(sl),X.register(ta),X.register(hp)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(hp).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,n]=this.getTable();n!=null&&(e.deleteColumn(n.cellOffset()),this.quill.update(X.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(X.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const n=e.offset();e.remove(),this.quill.update(X.sources.USER),this.quill.setSelection(n,X.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[n,r]=this.quill.getLine(e.index);if(n==null||n.statics.blotName!==po.blotName)return[null,null,null,-1];const i=n.parent;return[i.parent.parent,i,n,r]}insertColumn(e){const n=this.quill.getSelection();if(!n)return;const[r,i,s]=this.getTable(n);if(s==null)return;const o=s.cellOffset();r.insertColumn(o+e),this.quill.update(X.sources.USER);let a=i.rowOffset();e===0&&(a+=1),this.quill.setSelection(n.index+a,n.length,X.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const n=this.quill.getSelection();if(!n)return;const[r,i,s]=this.getTable(n);if(s==null)return;const o=i.rowOffset();r.insertRow(o+e),this.quill.update(X.sources.USER),e>0?this.quill.setSelection(n,X.sources.SILENT):this.quill.setSelection(n.index+i.children.length,n.length,X.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,n){const r=this.quill.getSelection();if(r==null)return;const i=new Array(e).fill(0).reduce(s=>{const o=new Array(n).fill(`
`).join("");return s.insert(o,{table:xN()})},new Te().retain(r.index));this.quill.updateContents(i,X.sources.USER),this.quill.setSelection(r.index,X.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(X.events.SCROLL_OPTIMIZE,e=>{e.some(n=>["TD","TR","TBODY","TABLE"].includes(n.target.tagName)?(this.quill.once(X.events.TEXT_CHANGE,(r,i,s)=>{s===X.sources.USER&&this.balanceTables()}),!0):!1)})}}const DV=yl("quill:toolbar");class EN extends No{constructor(e,n){var r,i;if(super(e,n),Array.isArray(this.options.container)){const s=document.createElement("div");s.setAttribute("role","toolbar"),Y_e(s,this.options.container),(i=(r=e.container)==null?void 0:r.parentNode)==null||i.insertBefore(s,e.container),this.container=s}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){DV.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(s=>{var a;const o=(a=this.options.handlers)==null?void 0:a[s];o&&this.addHandler(s,o)}),Array.from(this.container.querySelectorAll("button, select")).forEach(s=>{this.attach(s)}),this.quill.on(X.events.EDITOR_CHANGE,()=>{const[s]=this.quill.selection.getRange();this.update(s)})}addHandler(e,n){this.handlers[e]=n}attach(e){let n=Array.from(e.classList).find(i=>i.indexOf("ql-")===0);if(!n)return;if(n=n.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[n]==null&&this.quill.scroll.query(n)==null){DV.warn("ignoring attaching to nonexistent format",n,e);return}const r=e.tagName==="SELECT"?"change":"click";e.addEventListener(r,i=>{let s;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const a=e.options[e.selectedIndex];a.hasAttribute("selected")?s=!1:s=a.value||!1}else e.classList.contains("ql-active")?s=!1:s=e.value||!e.hasAttribute("value"),i.preventDefault();this.quill.focus();const[o]=this.quill.selection.getRange();if(this.handlers[n]!=null)this.handlers[n].call(this,s);else if(this.quill.scroll.query(n).prototype instanceof bs){if(s=prompt(`Enter ${n}`),!s)return;this.quill.updateContents(new Te().retain(o.index).delete(o.length).insert({[n]:s}),X.sources.USER)}else this.quill.format(n,s,X.sources.USER);this.update(o)}),this.controls.push([n,e])}update(e){const n=e==null?{}:this.quill.getFormat(e);this.controls.forEach(r=>{const[i,s]=r;if(s.tagName==="SELECT"){let o=null;if(e==null)o=null;else if(n[i]==null)o=s.querySelector("option[selected]");else if(!Array.isArray(n[i])){let a=n[i];typeof a=="string"&&(a=a.replace(/"/g,'\\"')),o=s.querySelector(`option[value="${a}"]`)}o==null?(s.value="",s.selectedIndex=-1):o.selected=!0}else if(e==null)s.classList.remove("ql-active"),s.setAttribute("aria-pressed","false");else if(s.hasAttribute("value")){const o=n[i],a=o===s.getAttribute("value")||o!=null&&o.toString()===s.getAttribute("value")||o==null&&!s.getAttribute("value");s.classList.toggle("ql-active",a),s.setAttribute("aria-pressed",a.toString())}else{const o=n[i]!=null;s.classList.toggle("ql-active",o),s.setAttribute("aria-pressed",o.toString())}})}}EN.DEFAULTS={};function LV(t,e,n){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${e}`),r.setAttribute("aria-pressed","false"),n!=null?(r.value=n,r.setAttribute("aria-label",`${e}: ${n}`)):r.setAttribute("aria-label",e),t.appendChild(r)}function Y_e(t,e){Array.isArray(e[0])||(e=[e]),e.forEach(n=>{const r=document.createElement("span");r.classList.add("ql-formats"),n.forEach(i=>{if(typeof i=="string")LV(r,i);else{const s=Object.keys(i)[0],o=i[s];Array.isArray(o)?Q_e(r,s,o):LV(r,s,o)}}),t.appendChild(r)})}function Q_e(t,e,n){const r=document.createElement("select");r.classList.add(`ql-${e}`),n.forEach(i=>{const s=document.createElement("option");i!==!1?s.setAttribute("value",String(i)):s.setAttribute("selected","selected"),r.appendChild(s)}),t.appendChild(r)}EN.DEFAULTS={container:null,handlers:{clean(){const t=this.quill.getSelection();if(t!=null)if(t.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(n=>{this.quill.scroll.query(n,Ae.INLINE)!=null&&this.quill.format(n,!1,X.sources.USER)})}else this.quill.removeFormat(t.index,t.length,X.sources.USER)},direction(t){const{align:e}=this.quill.getFormat();t==="rtl"&&e==null?this.quill.format("align","right",X.sources.USER):!t&&e==="right"&&this.quill.format("align",!1,X.sources.USER),this.quill.format("direction",t,X.sources.USER)},indent(t){const e=this.quill.getSelection(),n=this.quill.getFormat(e),r=parseInt(n.indent||0,10);if(t==="+1"||t==="-1"){let i=t==="+1"?1:-1;n.direction==="rtl"&&(i*=-1),this.quill.format("indent",r+i,X.sources.USER)}},link(t){t===!0&&(t=prompt("Enter link URL:")),this.quill.format("link",t,X.sources.USER)},list(t){const e=this.quill.getSelection(),n=this.quill.getFormat(e);t==="check"?n.list==="checked"||n.list==="unchecked"?this.quill.format("list",!1,X.sources.USER):this.quill.format("list","unchecked",X.sources.USER):this.quill.format("list",t,X.sources.USER)}}};const X_e='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',J_e='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',Z_e='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',ewe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',twe='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',nwe='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',rwe='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',iwe='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',MV='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',swe='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',owe='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',awe='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',lwe='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',cwe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',uwe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',dwe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',hwe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',fwe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',pwe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',mwe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',gwe='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',ywe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',vwe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',_we='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',wwe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',xwe='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',Ewe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',bwe='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',Twe='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',Swe='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',Awe='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',Iwe='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',Cwe='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Ly={align:{"":X_e,center:J_e,right:Z_e,justify:ewe},background:twe,blockquote:nwe,bold:rwe,clean:iwe,code:MV,"code-block":MV,color:swe,direction:{"":owe,rtl:awe},formula:lwe,header:{1:cwe,2:uwe,3:dwe,4:hwe,5:fwe,6:pwe},italic:mwe,image:gwe,indent:{"+1":ywe,"-1":vwe},link:_we,list:{bullet:wwe,check:xwe,ordered:Ewe},script:{sub:bwe,super:Twe},strike:Swe,table:Awe,underline:Iwe,video:Cwe},Rwe='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let VV=0;function jV(t,e){t.setAttribute(e,`${t.getAttribute(e)!=="true"}`)}class Ox{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",n=>{switch(n.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),n.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),jV(this.label,"aria-expanded"),jV(this.options,"aria-hidden")}buildItem(e){const n=document.createElement("span");n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item");const r=e.getAttribute("value");return r&&n.setAttribute("data-value",r),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",()=>{this.selectItem(n,!0)}),n.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.selectItem(n,!0),i.preventDefault();break;case"Escape":this.escape(),i.preventDefault();break}}),n}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=Rwe,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${VV}`,VV+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(n=>{const r=this.buildItem(n);e.appendChild(r),n.selected===!0&&this.selectItem(r)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");e!==r&&(r!=null&&r.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),n&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const n=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}class x8 extends Ox{constructor(e,n){super(e),this.label.innerHTML=n,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(e){const n=super.buildItem(e);return n.style.backgroundColor=e.getAttribute("value")||"",n}selectItem(e,n){super.selectItem(e,n);const r=this.label.querySelector(".ql-color-label"),i=e&&e.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=i:r.style.fill=i)}}class E8 extends Ox{constructor(e,n){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=n[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,n){super.selectItem(e,n);const r=e||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const Pwe=t=>{const{overflowY:e}=getComputedStyle(t,null);return e!=="visible"&&e!=="clip"};class b8{constructor(e,n){this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,Pwe(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const n=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${n}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),s=this.root.getBoundingClientRect();let o=0;if(s.right>i.right&&(o=i.right-s.right,this.root.style.left=`${n+o}px`),s.left<i.left&&(o=i.left-s.left,this.root.style.left=`${n+o}px`),s.bottom>i.bottom){const a=s.bottom-s.top,l=e.bottom-e.top+a;this.root.style.top=`${r-l}px`,this.root.classList.add("ql-flip")}return o}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const Nwe=[!1,"center","right","justify"],kwe=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Owe=[!1,"serif","monospace"],Dwe=["1","2","3",!1],Lwe=["small",!1,"large","huge"];class Sv extends dp{constructor(e,n){super(e,n);const r=i=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(i.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(s=>{s.container.contains(i.target)||s.close()})};e.emitter.listenDOM("click",document.body,r)}addModule(e){const n=super.addModule(e);return e==="toolbar"&&this.extendToolbar(n),n}buildButtons(e,n){Array.from(e).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(s=>{if(s.startsWith("ql-")&&(s=s.slice(3),n[s]!=null))if(s==="direction")r.innerHTML=n[s][""]+n[s].rtl;else if(typeof n[s]=="string")r.innerHTML=n[s];else{const o=r.value||"";o!=null&&n[s][o]&&(r.innerHTML=n[s][o])}})})}buildPickers(e,n){this.pickers=Array.from(e).map(i=>{if(i.classList.contains("ql-align")&&(i.querySelector("option")==null&&dm(i,Nwe),typeof n.align=="object"))return new E8(i,n.align);if(i.classList.contains("ql-background")||i.classList.contains("ql-color")){const s=i.classList.contains("ql-background")?"background":"color";return i.querySelector("option")==null&&dm(i,kwe,s==="background"?"#ffffff":"#000000"),new x8(i,n[s])}return i.querySelector("option")==null&&(i.classList.contains("ql-font")?dm(i,Owe):i.classList.contains("ql-header")?dm(i,Dwe):i.classList.contains("ql-size")&&dm(i,Lwe)),new Ox(i)});const r=()=>{this.pickers.forEach(i=>{i.update()})};this.quill.on(_e.events.EDITOR_CHANGE,r)}}Sv.DEFAULTS=_c({},dp.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let t=this.container.querySelector("input.ql-image[type=file]");t==null&&(t=document.createElement("input"),t.setAttribute("type","file"),t.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),t.classList.add("ql-image"),t.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,t.files),t.value=""}),this.container.appendChild(t)),t.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class T8 extends b8{constructor(e,n){super(e,n),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;n!=null?this.textbox.value=n:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:n}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,_e.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,_e.sources.USER)),this.quill.root.scrollTop=n;break}case"video":e=Mwe(e);case"formula":{if(!e)break;const n=this.quill.getSelection(!0);if(n!=null){const r=n.index+n.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),e,_e.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",_e.sources.USER),this.quill.setSelection(r+2,_e.sources.USER)}break}}this.textbox.value="",this.hide()}}function Mwe(t){let e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:t}function dm(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(r=>{const i=document.createElement("option");r===n?i.setAttribute("selected","selected"):i.setAttribute("value",String(r)),t.appendChild(i)})}const Vwe=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class S8 extends T8{constructor(e,n){super(e,n),this.quill.on(_e.events.EDITOR_CHANGE,(r,i,s,o)=>{if(r===_e.events.SELECTION_CHANGE)if(i!=null&&i.length>0&&o===_e.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const a=this.quill.getLines(i.index,i.length);if(a.length===1){const l=this.quill.getBounds(i);l!=null&&this.position(l)}else{const l=a[a.length-1],c=this.quill.getIndex(l),u=Math.min(l.length()-1,i.index+i.length-c),d=this.quill.getBounds(new Nd(c,u));d!=null&&this.position(d)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(_e.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const n=this.quill.getBounds(e);n!=null&&this.position(n)}},1)})}cancel(){this.show()}position(e){const n=super.position(e),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",n!==0&&(r.style.marginLeft=`${-1*n-r.offsetWidth/2}px`),n}}pe(S8,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class A8 extends Sv{constructor(e,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=Vwe),super(e,n),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new S8(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),Ly),this.buildPickers(e.container.querySelectorAll("select"),Ly))}}A8.DEFAULTS=_c({},Sv.DEFAULTS,{modules:{toolbar:{handlers:{link(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1,X.sources.USER)}}}}});const jwe=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class I8 extends T8{constructor(){super(...arguments);pe(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",n=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),n.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",n=>{if(this.linkRange!=null){const r=this.linkRange;this.restoreFocus(),this.quill.formatText(r,"link",!1,_e.sources.USER),delete this.linkRange}n.preventDefault(),this.hide()}),this.quill.on(_e.events.SELECTION_CHANGE,(n,r,i)=>{if(n!=null){if(n.length===0&&i===_e.sources.USER){const[s,o]=this.quill.scroll.descendant(rc,n.index);if(s!=null){this.linkRange=new Nd(n.index-o,s.length());const a=rc.formats(s.domNode);this.preview.textContent=a,this.preview.setAttribute("href",a),this.show();const l=this.quill.getBounds(this.linkRange);l!=null&&this.position(l);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}pe(I8,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class C8 extends Sv{constructor(e,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=jwe),super(e,n),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),Ly),this.buildPickers(e.container.querySelectorAll("select"),Ly),this.tooltip=new I8(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(n,r)=>{e.handlers.link.call(e,!r.format.link)}))}}C8.DEFAULTS=_c({},Sv.DEFAULTS,{modules:{toolbar:{handlers:{link(t){if(t){const e=this.quill.getSelection();if(e==null||e.length===0)return;let n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&n.indexOf("mailto:")!==0&&(n=`mailto:${n}`);const{tooltip:r}=this.quill.theme;r.edit("link",n)}else this.quill.format("link",!1,X.sources.USER)}}}}});X.register({"attributors/attribute/direction":a8,"attributors/class/align":i8,"attributors/class/background":t_e,"attributors/class/color":e_e,"attributors/class/direction":l8,"attributors/class/font":d8,"attributors/class/size":f8,"attributors/style/align":s8,"attributors/style/background":gN,"attributors/style/color":mN,"attributors/style/direction":c8,"attributors/style/font":h8,"attributors/style/size":p8},!0);X.register({"formats/align":i8,"formats/direction":l8,"formats/indent":W_e,"formats/background":gN,"formats/color":mN,"formats/font":d8,"formats/size":f8,"formats/blockquote":MA,"formats/code-block":ni,"formats/header":VA,"formats/list":Tv,"formats/bold":Dy,"formats/code":yN,"formats/italic":jA,"formats/link":rc,"formats/script":FA,"formats/strike":BA,"formats/underline":UA,"formats/formula":I_,"formats/image":H_e,"formats/video":C_,"modules/syntax":w8,"modules/table":K_e,"modules/toolbar":EN,"themes/bubble":A8,"themes/snow":C8,"ui/icons":Ly,"ui/picker":Ox,"ui/icon-picker":E8,"ui/color-picker":x8,"ui/tooltip":b8},!0);const Fwe=[[{font:["serif",""]}],[{size:["large","huge"]}],[{header:[1,2,3,!1]}],["bold","italic","underline"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],[{list:"ordered"},{list:"bullet"}],["image"]],Bwe=({issave:t,setdata:e,setIssave:n,setWord:r})=>{const[i,s]=x.useState();x.useEffect(()=>{if(!i||!t)return;const a=i.getContents();e(a.ops),n(!1)},[t]);const o=x.useCallback(a=>{if(a==null||!a)return;a.innerHTML="";const l=document.createElement("div");l.id="editor",a.appendChild(l);const c=new X("#editor",{modules:{toolbar:{container:Fwe,handlers:{image:function(){const u=document.createElement("input");u.setAttribute("type","file"),u.setAttribute("accept","image/*"),u.click(),u.onchange=async()=>{var h;const d=(h=u==null?void 0:u.files)==null?void 0:h[0];if(d){const f=new FormData;f.append("file",d);const g=await gx().UploadImg(f),m=this.quill.getSelection();m&&this.quill.insertEmbed(m.index,"image",g.url)}}}}}},theme:"snow"});s(c)},[]);return x.useEffect(()=>{const a=()=>{const l=i==null?void 0:i.getText();l!=null&&l.split(/\s+/)&&r((l==null?void 0:l.split(/\s+/).length)-1)};return i==null||i.on(X.events.TEXT_CHANGE,a),()=>{i==null||i.off(X.events.TEXT_CHANGE,a)}},[i]),_.jsx("div",{id:"container",ref:o,className:" w-full bg-white-4 flex-1 min-w-0 "})},Uwe=({children:t})=>_.jsx("div",{className:"  z-50 w-screen h-screen absolute top-0 left-0 flex items-center justify-center bg-black-1/40",children:t});var FV;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(FV||(FV={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BV;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(BV||(BV={}));var UV;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(UV||(UV={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=["user","model","function","system"];var qV;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(qV||(qV={}));var zV;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(zV||(zV={}));var WV;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(WV||(WV={}));var HV;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(HV||(HV={}));var bg;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER"})(bg||(bg={}));var GV;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(GV||(GV={}));var KV;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(KV||(KV={}));var YV;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(YV||(YV={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class _h extends Li{constructor(e,n){super(e),this.response=n}}class R8 extends Li{constructor(e,n,r,i){super(e),this.status=n,this.statusText=r,this.errorDetails=i}}class wc extends Li{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $we="https://generativelanguage.googleapis.com",qwe="v1beta",zwe="0.21.0",Wwe="genai-js";var kd;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(kd||(kd={}));class Hwe{constructor(e,n,r,i,s){this.model=e,this.task=n,this.apiKey=r,this.stream=i,this.requestOptions=s}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||qwe;let s=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||$we}/${r}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}}function Gwe(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${Wwe}/${zwe}`),e.join(" ")}async function Kwe(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",Gwe(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new wc(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,s]of r.entries()){if(i==="x-goog-api-key")throw new wc(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new wc(`Header name ${i} can only be set using the apiClient field`);n.append(i,s)}}return n}async function Ywe(t,e,n,r,i,s){const o=new Hwe(t,e,n,r,s);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},Zwe(s)),{method:"POST",headers:await Kwe(o),body:i})}}async function Av(t,e,n,r,i,s={},o=fetch){const{url:a,fetchOptions:l}=await Ywe(t,e,n,r,i,s);return Qwe(a,l,o)}async function Qwe(t,e,n=fetch){let r;try{r=await n(t,e)}catch(i){Xwe(i,t)}return r.ok||await Jwe(r,t),r}function Xwe(t,e){let n=t;throw t instanceof R8||t instanceof wc||(n=new Li(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function Jwe(t,e){let n="",r;try{const i=await t.json();n=i.error.message,i.error.details&&(n+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new R8(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function Zwe(t){const e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),R_(t.candidates[0]))throw new _h(`${jl(t)}`,t);return e1e(t)}else if(t.promptFeedback)throw new _h(`Text not available. ${jl(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),R_(t.candidates[0]))throw new _h(`${jl(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),QV(t)[0]}else if(t.promptFeedback)throw new _h(`Function call not available. ${jl(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),R_(t.candidates[0]))throw new _h(`${jl(t)}`,t);return QV(t)}else if(t.promptFeedback)throw new _h(`Function call not available. ${jl(t)}`,t)},t}function e1e(t){var e,n,r,i;const s=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.text&&s.push(o.text),o.executableCode&&s.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&s.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}function QV(t){var e,n,r,i;const s=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.functionCall&&s.push(o.functionCall);if(s.length>0)return s}const t1e=[bg.RECITATION,bg.SAFETY,bg.LANGUAGE];function R_(t){return!!t.finishReason&&t1e.includes(t.finishReason)}function jl(t){var e,n,r;let i="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)i+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(i+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const s=t.candidates[0];R_(s)&&(i+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(i+=`: ${s.finishMessage}`))}return i}function My(t){return this instanceof My?(this.v=t,this):new My(t)}function n1e(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(g,m){s.push([h,f,g,m])>1||a(h,f)})})}function a(h,f){try{l(r[h](f))}catch(g){d(s[0][3],g)}}function l(h){h.value instanceof My?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function r1e(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=o1e(e),[r,i]=n.tee();return{stream:s1e(r),response:i1e(i)}}async function i1e(t){const e=[],n=t.getReader();for(;;){const{done:r,value:i}=await n.read();if(r)return bN(a1e(e));e.push(i)}}function s1e(t){return n1e(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:i}=yield My(n.read());if(i)break;yield yield My(bN(r))}})}function o1e(t){const e=t.getReader();return new ReadableStream({start(r){let i="";return s();function s(){return e.read().then(({value:o,done:a})=>{if(a){if(i.trim()){r.error(new Li("Failed to parse stream"));return}r.close();return}i+=o;let l=i.match(XV),c;for(;l;){try{c=JSON.parse(l[1])}catch{r.error(new Li(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(c),i=i.substring(l[0].length),l=i.match(XV)}return s()})}}})}function a1e(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t){if(r.candidates)for(const i of r.candidates){const s=i.index;if(n.candidates||(n.candidates=[]),n.candidates[s]||(n.candidates[s]={index:i.index}),n.candidates[s].citationMetadata=i.citationMetadata,n.candidates[s].groundingMetadata=i.groundingMetadata,n.candidates[s].finishReason=i.finishReason,n.candidates[s].finishMessage=i.finishMessage,n.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){n.candidates[s].content||(n.candidates[s].content={role:i.content.role||"user",parts:[]});const o={};for(const a of i.content.parts)a.text&&(o.text=a.text),a.functionCall&&(o.functionCall=a.functionCall),a.executableCode&&(o.executableCode=a.executableCode),a.codeExecutionResult&&(o.codeExecutionResult=a.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),n.candidates[s].content.parts.push(o)}}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P8(t,e,n,r){const i=await Av(e,kd.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return r1e(i)}async function N8(t,e,n,r){const s=await(await Av(e,kd.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:bN(s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k8(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Vy(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return l1e(e)}function l1e(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const s of t)"functionResponse"in s?(n.parts.push(s),i=!0):(e.parts.push(s),r=!0);if(r&&i)throw new Li("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new Li("No content is provided for sending chat message.");return r?e:n}function c1e(t,e){var n;let r={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(n=e==null?void 0:e.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const i=t.generateContentRequest!=null;if(t.contents){if(i)throw new wc("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(i)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const s=Vy(t);r.contents=[s]}return{generateContentRequest:r}}function JV(t){let e;return t.contents?e=t:e={contents:[Vy(t)]},t.systemInstruction&&(e.systemInstruction=k8(t.systemInstruction)),e}function u1e(t){return typeof t=="string"||Array.isArray(t)?{content:Vy(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],d1e={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function h1e(t){let e=!1;for(const n of t){const{role:r,parts:i}=n;if(!e&&r!=="user")throw new Li(`First content should be with role 'user', got ${r}`);if(!$V.includes(r))throw new Li(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify($V)}`);if(!Array.isArray(i))throw new Li("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new Li("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const a of i)for(const l of ZV)l in a&&(s[l]+=1);const o=d1e[r];for(const a of ZV)if(!o.includes(a)&&s[a]>0)throw new Li(`Content with role '${r}' can't contain '${a}' part`);e=!0}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej="SILENT_ERROR";class f1e{constructor(e,n,r,i={}){this.model=n,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(h1e(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,i,s,o,a,l;await this._sendPromise;const c=Vy(e),u={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,c]},d=Object.assign(Object.assign({},this._requestOptions),n);let h;return this._sendPromise=this._sendPromise.then(()=>N8(this._apiKey,this.model,u,d)).then(f=>{var g;if(f.response.candidates&&f.response.candidates.length>0){this._history.push(c);const m=Object.assign({parts:[],role:"model"},(g=f.response.candidates)===null||g===void 0?void 0:g[0].content);this._history.push(m)}else{const m=jl(f.response);m&&console.warn(`sendMessage() was unsuccessful. ${m}. Inspect response object for details.`)}h=f}),await this._sendPromise,h}async sendMessageStream(e,n={}){var r,i,s,o,a,l;await this._sendPromise;const c=Vy(e),u={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,c]},d=Object.assign(Object.assign({},this._requestOptions),n),h=P8(this._apiKey,this.model,u,d);return this._sendPromise=this._sendPromise.then(()=>h).catch(f=>{throw new Error(ej)}).then(f=>f.response).then(f=>{if(f.candidates&&f.candidates.length>0){this._history.push(c);const g=Object.assign({},f.candidates[0].content);g.role||(g.role="model"),this._history.push(g)}else{const g=jl(f);g&&console.warn(`sendMessageStream() was unsuccessful. ${g}. Inspect response object for details.`)}}).catch(f=>{f.message!==ej&&console.error(f)}),h}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p1e(t,e,n,r){return(await Av(e,kd.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m1e(t,e,n,r){return(await Av(e,kd.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function g1e(t,e,n,r){const i=n.requests.map(o=>Object.assign(Object.assign({},o),{model:e}));return(await Av(e,kd.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=k8(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const i=JV(e),s=Object.assign(Object.assign({},this._requestOptions),n);return N8(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}async generateContentStream(e,n={}){var r;const i=JV(e),s=Object.assign(Object.assign({},this._requestOptions),n);return P8(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}startChat(e){var n;return new f1e(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=c1e(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),n);return p1e(this.apiKey,this.model,r,i)}async embedContent(e,n={}){const r=u1e(e),i=Object.assign(Object.assign({},this._requestOptions),n);return m1e(this.apiKey,this.model,r,i)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return g1e(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1e{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new Li("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new tj(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new wc("Cached content must contain a `name` field.");if(!e.model)throw new wc("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const o of i)if(n!=null&&n[o]&&e[o]&&(n==null?void 0:n[o])!==e[o]){if(o==="model"){const a=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,l=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(a===l)continue}throw new wc(`Different value for "${o}" specified in modelParams (${n[o]}) and cachedContent (${e[o]})`)}const s=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new tj(this.apiKey,s,r)}}const v1e=new y1e("AIzaSyBO3GPet4N0deLoXGLHsvsdQvS_AYye7zM"),_1e=v1e.getGenerativeModel({model:"gemini-1.5-flash"});async function w1e(t){try{return(await _1e.generateContent(t)).response.text()}catch(e){console.log(e)}}async function x1e(t){const e=[];for(let r=0;r<4;r++){const i=`${t} (Response ${r+1})`;e.push(w1e(i))}return await Promise.all(e)}function E1e({setData:t,selectedText:e,isopen:n,setIsopen:r}){const[i,s]=x.useState("short"),[o,a]=x.useState("next-scene"),[l,c]=x.useState("fantasy");async function u(){const d=`Generate a ${i} plot for this story: "${e}". Type: ${o}. Genre: ${l}.`,h=await x1e(d);h.every(f=>f!=null)&&(t(h),console.log(h)),r(!1)}return _.jsx(_.Fragment,{children:_.jsx(V9,{open:n,onOpenChange:r,children:_.jsxs(EP,{className:"w-full max-sm:max-w-lg p-5 sm:p-6",children:[_.jsx(F9,{children:_.jsx(U9,{children:"Generate Plot Suggestions"})}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"bg-white-3 rounded-md w-fit h-fit p-5 mt-6",children:[_.jsx("span",{className:"text-black-2",children:"Selected Text :"}),_.jsx("p",{children:e})]}),_.jsxs("div",{className:"border-t-2 flex flex-col sm:flex-row gap-4 sm:gap-10 items-center p-5",children:[_.jsxs("div",{className:"space-y-2 w-full",children:[_.jsx("label",{className:"block",children:"Length"}),_.jsxs("select",{value:i,className:"w-full border-2 border-black-2 p-2 rounded-md",onChange:d=>s(d.target.value),children:[_.jsx("option",{value:"short",children:"Short"}),_.jsx("option",{value:"medium",children:"Medium"}),_.jsx("option",{value:"long",children:"Long"})]})]}),_.jsxs("div",{className:"space-y-2 w-full",children:[_.jsx("label",{className:"block",children:"Type"}),_.jsxs("select",{className:"w-full border-2 border-black-2 p-2 rounded-md",value:o,onChange:d=>a(d.target.value),children:[_.jsx("option",{value:"next-scene",children:"Next Scene"}),_.jsx("option",{value:"dialogue",children:"Character Dialogue"}),_.jsx("option",{value:"twist",children:"Plot Twist"}),_.jsx("option",{value:"subplot",children:"Subplot"})]})]}),_.jsxs("div",{className:"space-y-2 w-full",children:[_.jsx("label",{className:"block",children:"Genre"}),_.jsxs("select",{className:"w-full border-2 border-black-2 p-2 rounded-md",value:l,onChange:d=>c(d.target.value),children:[_.jsx("option",{value:"fantasy",children:"Fantasy"}),_.jsx("option",{value:"adventure",children:"Adventure"}),_.jsx("option",{value:"romance",children:"Romance"}),_.jsx("option",{value:"mystery",children:"Mystery"}),_.jsx("option",{value:"sci-fi",children:"Sci-Fi"})]})]})]})]}),_.jsxs(B9,{className:"flex justify-end space-x-4",children:[_.jsx(jn,{onClick:()=>r(!1),children:"Cancel"}),_.jsx(jn,{variant:"outline",onClick:u,children:"Generate"})]})]})})})}const b1e=({selectedText:t,setSelectedText:e})=>{const n=x.useRef(null),[r,i]=x.useState(!1),[s,o]=x.useState([]),[a,l]=x.useState(!0);async function c(){var g;const f=(g=window.getSelection())==null?void 0:g.toString();if(!f){Si({title:"Select Text",description:"You need to select a text or a paragraph"});return}e(f),i(!0)}function u(){o([])}function d(){l(!a)}function h(){var g;const f=document.createElement("textarea");n&&(f.value=((g=n.current)==null?void 0:g.textContent)||"",document.body.appendChild(f),f.select(),f.setSelectionRange(0,99999),navigator.clipboard.writeText(f.value).then(()=>{Si({description:"Text copied to clipboard"})}).catch(()=>{Si({description:"Failed to copy text:"})}),document.body.removeChild(f))}return _.jsxs("div",{className:xd(" h-[500px] max-h-[500px] pb-2   bg-white-1 border border-[#ccc] flex flex-col gap-3 rounded-tl-[20px] rounded-tr-[20px]",{"w-[400px] max-lg:w-[320px] max-md:w-full":a,"w-fit":!a}),children:[_.jsxs("div",{className:"py-3  px-4  w-full flex flex-row justify-between  items-center ",children:[_.jsx(Xu.arrow,{direction:a?"left":"right",CloseOpen:d}),a?_.jsx("span",{className:"text-lg font-semibold text-black-2 ",children:"History"}):"",a?_.jsx("div",{className:" p-2 rounded-full cursor-pointer hover:border hover:bg-orange-2 hover:border-orange-1 transition-colors",onClick:u,children:_.jsx("img",{src:"/Story-Website/delete.svg",width:"20px"})}):""]}),a?_.jsx("div",{className:xd("px-2 flex-1  overflow-auto flex flex-col gap-4",{" justify-center items-center":a}),children:s.length>0?s.map((f,g)=>_.jsxs("div",{className:" bg-white-3 px-4 py-3 rounded-lg flex flex-col gap-3",children:[_.jsx("div",{className:" w-full flex flex-row justify-end",children:_.jsx("div",{className:" p-2 rounded-full w-fit hover:bg-orange-2 hover:border hover:border-orange-1  cursor-pointer transition-colors",onClick:h,children:_.jsx("img",{src:"/Story-Website/copy.svg",width:"20px"})})}),_.jsx("p",{ref:n,className:" text-black-2",children:f})]},g)):_.jsxs("div",{className:" flex flex-row gap-3 items-center",children:[_.jsx("img",{src:"/Story-Website/clock.svg",width:"40px"}),_.jsx("span",{className:" text-lg text-white-2 font-semibold",children:"Empty"})]})}):"",a?_.jsx("div",{className:" w-full px-2",children:_.jsx(jn,{className:" rounded-none  w-full bg-orange-1 text-white-1 border border-orange-1 hover:bg-orange-2 hover:text-black-2 ",onClick:c,children:"Generate"})}):"",_.jsx(yv,{}),_.jsx(E1e,{setData:o,selectedText:t,isopen:r,setIsopen:i})]})};function T1e({setTitle:t}){const e=x.useRef(null),n=()=>{const r=e.current;r&&(r.style.height="auto",r.style.height=`${r.scrollHeight}px`)};return _.jsx("textarea",{ref:e,onInput:n,onChange:r=>t(r.target.value),className:" border-b-2 border-[#ccc] outline-none   text-3xl w-full bg-white-3",style:{minHeight:"40px",overflow:"hidden",resize:"none"},placeholder:"Title..."})}const S1e=wo.firestore.Timestamp,A1e=()=>{const{currentUser:t}=Js(),[e,n]=x.useState(0),[r,i]=x.useState(""),[s,o]=x.useState(!1),[a,l]=x.useState([]),[c,u]=x.useState(!1),[d,h]=x.useState(""),{sessionId:f}=Hc(),g=yp(),[m,v]=x.useState(""),y=Xs();function w(){o(!0)}async function E(){if(f&&m&&(m=="story"&&y("/"),m=="new"))try{u(!0),await We.collection("WrittenStories").doc(f).delete(),y("/")}catch(S){console.log(S)}}return x.useEffect(()=>{var C;const S=(C=g==null?void 0:g.state)==null?void 0:C.from;v(S)},[g]),x.useEffect(()=>{async function S(){var C;if(!r){Si({description:"Give a title please"});return}if(typeof a[0].insert=="string"&&((C=a[0].insert)==null?void 0:C.length)<10){Si({description:"first line over 10 words please"});return}try{u(!0);const N=We.collection("Parts").doc().id;await We.collection("Parts").doc(N).set({title:r,data:a,storyId:f,time:S1e.now()}),await Ede(t,N)}catch(N){console.log(N)}finally{u(!1),y("/")}}S()},[a]),_.jsxs("div",{className:" w-full bg-white-3 ",children:[_.jsx("header",{className:" m-auto max-w-[1400px] px-5",children:_.jsxs("div",{className:" py-4 flex",children:[_.jsxs("div",{className:" flex flex-row gap-3 flex-1",children:[_.jsx("img",{src:"/Story-Website/logo.svg",width:40,height:40}),_.jsxs("div",{className:"flex flex-col ",children:[_.jsx("h1",{className:" text-lg",children:r}),_.jsxs("div",{className:`\r
                    flex flex-row\r
                      text-black-2 gap-1  items-end\r
                    `,children:[_.jsx("span",{children:e}),_.jsx("span",{children:"words"})]})]})]}),_.jsxs("div",{className:"flex flex-row-reverse gap-3",children:[_.jsx("div",{children:_.jsx("img",{src:t!=null&&t.photoURL?t==null?void 0:t.photoURL:"/Story-Website/user.svg",className:" rounded-full w-[40px]"})}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx(jn,{variant:"outline",onClick:E,children:"cancel"}),_.jsx(jn,{variant:"default",onClick:w,children:"Save"})]})]})]})}),_.jsxs("main",{className:"m-auto mt-4  max-w-[1300px] px-5",children:[_.jsx(T1e,{setTitle:i}),_.jsxs("div",{className:" flex flex-row w-full gap-3 mt-4 max-md:flex-col",children:[_.jsx(Bwe,{issave:s,setdata:l,setIssave:o,setWord:n}),_.jsx(b1e,{selectedText:d,setSelectedText:h})]})]}),c?_.jsx(Uwe,{children:_.jsx("div",{className:" flex gap-3 text-xl",children:_.jsx(kp,{size:"60px"})})}):"",_.jsx(yv,{})]})},I1e=({Data:t})=>{const[e,n]=x.useState([]);return x.useEffect(()=>{if(t){const{data:r}=t;n(r),console.log(r)}},[t]),_.jsx("div",{className:" text-lg leading-relaxed",children:e.map(r=>{let i="";if(r.hasOwnProperty("attributes")&&(i=nue(r.attributes)),typeof r.insert=="object"){const s=r.insert;return _.jsx("div",{className:"flex border-2 border-black-2 rounded-md mt-4 mb-4 justify-center items-center h-fit py-6 px-2.5",children:_.jsx("img",{src:s.image,width:400,alt:"img",className:" rounded-md"})})}return _.jsx("div",{className:`${i}`,children:r.insert})})})},C1e=({owner:t})=>{const{author:e}=tu(t);return _.jsxs("div",{className:"flex  items-center gap-3",children:[_.jsx("img",{src:e?e.PhotoUrl:"/Story-Website/user.svg",alt:"profile",width:"50px",className:" rounded-full"}),_.jsx("h1",{className:" text-lg text-black-2",children:e?e.name:""})]})};function nj(t,[e,n]){return Math.min(n,Math.max(e,t))}function Hn(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function rj(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function R1e(...t){return e=>{let n=!1;const r=t.map(i=>{const s=rj(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():rj(t[i],null)}}}}function Dr(...t){return x.useCallback(R1e(...t),t)}function P1e(t){const e=t+"CollectionProvider",[n,r]=Np(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=f=>{const{scope:g,children:m}=f,v=ir.useRef(null),y=ir.useRef(new Map).current;return _.jsx(i,{scope:g,itemMap:y,collectionRef:v,children:m})};o.displayName=e;const a=t+"CollectionSlot",l=ir.forwardRef((f,g)=>{const{scope:m,children:v}=f,y=s(a,m),w=Dr(g,y.collectionRef);return _.jsx(el,{ref:w,children:v})});l.displayName=a;const c=t+"CollectionItemSlot",u="data-radix-collection-item",d=ir.forwardRef((f,g)=>{const{scope:m,children:v,...y}=f,w=ir.useRef(null),E=Dr(g,w),S=s(c,m);return ir.useEffect(()=>(S.itemMap.set(w,{ref:w,...y}),()=>void S.itemMap.delete(w))),_.jsx(el,{[u]:"",ref:E,children:v})});d.displayName=c;function h(f){const g=s(t+"CollectionConsumer",f);return ir.useCallback(()=>{const v=g.collectionRef.current;if(!v)return[];const y=Array.from(v.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort((S,C)=>y.indexOf(S.ref.current)-y.indexOf(C.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:l,ItemSlot:d},h,r]}var N1e=x.createContext(void 0);function k1e(t){const e=x.useContext(N1e);return t||e||"ltr"}var O1e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Xn=O1e.reduce((t,e)=>{const n=x.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?el:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),_.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function D1e(t,e){t&&cl.flushSync(()=>t.dispatchEvent(e))}var L1e="DismissableLayer",$A="dismissableLayer.update",M1e="dismissableLayer.pointerDownOutside",V1e="dismissableLayer.focusOutside",ij,O8=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),D8=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=x.useContext(O8),[u,d]=x.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=x.useState({}),g=Dr(e,T=>d(T)),m=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(v),w=u?m.indexOf(u):-1,E=c.layersWithOutsidePointerEventsDisabled.size>0,S=w>=y,C=B1e(T=>{const A=T.target,P=[...c.branches].some(k=>k.contains(A));!S||P||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},h),N=U1e(T=>{const A=T.target;[...c.branches].some(k=>k.contains(A))||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},h);return nP(T=>{w===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},h),x.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(ij=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),sj(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=ij)}},[u,h,n,c]),x.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),sj())},[u,c]),x.useEffect(()=>{const T=()=>f({});return document.addEventListener($A,T),()=>document.removeEventListener($A,T)},[]),_.jsx(Xn.div,{...l,ref:g,style:{pointerEvents:E?S?"auto":"none":void 0,...t.style},onFocusCapture:Hn(t.onFocusCapture,N.onFocusCapture),onBlurCapture:Hn(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Hn(t.onPointerDownCapture,C.onPointerDownCapture)})});D8.displayName=L1e;var j1e="DismissableLayerBranch",F1e=x.forwardRef((t,e)=>{const n=x.useContext(O8),r=x.useRef(null),i=Dr(e,r);return x.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),_.jsx(Xn.div,{...t,ref:i})});F1e.displayName=j1e;function B1e(t,e=globalThis==null?void 0:globalThis.document){const n=lr(t),r=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){L8(M1e,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function U1e(t,e=globalThis==null?void 0:globalThis.document){const n=lr(t),r=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!r.current&&L8(V1e,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function sj(){const t=new CustomEvent($A);document.dispatchEvent(t)}function L8(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?D1e(i,s):i.dispatchEvent(s)}var kb="focusScope.autoFocusOnMount",Ob="focusScope.autoFocusOnUnmount",oj={bubbles:!1,cancelable:!0},$1e="FocusScope",M8=x.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=x.useState(null),c=lr(i),u=lr(s),d=x.useRef(null),h=Dr(e,m=>l(m)),f=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let m=function(E){if(f.paused||!a)return;const S=E.target;a.contains(S)?d.current=S:Ll(d.current,{select:!0})},v=function(E){if(f.paused||!a)return;const S=E.relatedTarget;S!==null&&(a.contains(S)||Ll(d.current,{select:!0}))},y=function(E){if(document.activeElement===document.body)for(const C of E)C.removedNodes.length>0&&Ll(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const w=new MutationObserver(y);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),w.disconnect()}}},[r,a,f.paused]),x.useEffect(()=>{if(a){lj.add(f);const m=document.activeElement;if(!a.contains(m)){const y=new CustomEvent(kb,oj);a.addEventListener(kb,c),a.dispatchEvent(y),y.defaultPrevented||(q1e(K1e(V8(a)),{select:!0}),document.activeElement===m&&Ll(a))}return()=>{a.removeEventListener(kb,c),setTimeout(()=>{const y=new CustomEvent(Ob,oj);a.addEventListener(Ob,u),a.dispatchEvent(y),y.defaultPrevented||Ll(m??document.body,{select:!0}),a.removeEventListener(Ob,u),lj.remove(f)},0)}}},[a,c,u,f]);const g=x.useCallback(m=>{if(!n&&!r||f.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(v&&y){const w=m.currentTarget,[E,S]=z1e(w);E&&S?!m.shiftKey&&y===S?(m.preventDefault(),n&&Ll(E,{select:!0})):m.shiftKey&&y===E&&(m.preventDefault(),n&&Ll(S,{select:!0})):y===w&&m.preventDefault()}},[n,r,f.paused]);return _.jsx(Xn.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});M8.displayName=$1e;function q1e(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ll(r,{select:e}),document.activeElement!==n)return}function z1e(t){const e=V8(t),n=aj(e,t),r=aj(e.reverse(),t);return[n,r]}function V8(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function aj(t,e){for(const n of t)if(!W1e(n,{upTo:e}))return n}function W1e(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function H1e(t){return t instanceof HTMLInputElement&&"select"in t}function Ll(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&H1e(t)&&e&&t.select()}}var lj=G1e();function G1e(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=cj(t,e),t.unshift(e)},remove(e){var n;t=cj(t,e),(n=t[0])==null||n.resume()}}}function cj(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function K1e(t){return t.filter(e=>e.tagName!=="A")}const Y1e=["top","right","bottom","left"],Fc=Math.min,ss=Math.max,t1=Math.round,O0=Math.floor,na=t=>({x:t,y:t}),Q1e={left:"right",right:"left",bottom:"top",top:"bottom"},X1e={start:"end",end:"start"};function qA(t,e,n){return ss(t,Fc(e,n))}function ol(t,e){return typeof t=="function"?t(e):t}function al(t){return t.split("-")[0]}function Dp(t){return t.split("-")[1]}function TN(t){return t==="x"?"y":"x"}function SN(t){return t==="y"?"height":"width"}function Bc(t){return["top","bottom"].includes(al(t))?"y":"x"}function AN(t){return TN(Bc(t))}function J1e(t,e,n){n===void 0&&(n=!1);const r=Dp(t),i=AN(t),s=SN(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=n1(o)),[o,n1(o)]}function Z1e(t){const e=n1(t);return[zA(t),e,zA(e)]}function zA(t){return t.replace(/start|end/g,e=>X1e[e])}function exe(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function txe(t,e,n,r){const i=Dp(t);let s=exe(al(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(zA)))),s}function n1(t){return t.replace(/left|right|bottom|top/g,e=>Q1e[e])}function nxe(t){return{top:0,right:0,bottom:0,left:0,...t}}function j8(t){return typeof t!="number"?nxe(t):{top:t,right:t,bottom:t,left:t}}function r1(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function uj(t,e,n){let{reference:r,floating:i}=t;const s=Bc(e),o=AN(e),a=SN(o),l=al(e),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(Dp(e)){case"start":f[o]-=h*(n&&c?-1:1);break;case"end":f[o]+=h*(n&&c?-1:1);break}return f}const rxe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=uj(c,r,l),h=r,f={},g=0;for(let m=0;m<a.length;m++){const{name:v,fn:y}=a[m],{x:w,y:E,data:S,reset:C}=await y({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:c,platform:o,elements:{reference:t,floating:e}});u=w??u,d=E??d,f={...f,[v]:{...f[v],...S}},C&&g<=50&&(g++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):C.rects),{x:u,y:d}=uj(c,h,l)),m=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:f}};async function jy(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=ol(e,t),g=j8(f),v=a[h?d==="floating"?"reference":"floating":d],y=r1(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(v)))==null||n?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),w=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),S=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},C=r1(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:E,strategy:l}):w);return{top:(y.top-C.top+g.top)/S.y,bottom:(C.bottom-y.bottom+g.bottom)/S.y,left:(y.left-C.left+g.left)/S.x,right:(C.right-y.right+g.right)/S.x}}const ixe=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=ol(t,e)||{};if(c==null)return{};const d=j8(u),h={x:n,y:r},f=AN(i),g=SN(f),m=await o.getDimensions(c),v=f==="y",y=v?"top":"left",w=v?"bottom":"right",E=v?"clientHeight":"clientWidth",S=s.reference[g]+s.reference[f]-h[f]-s.floating[g],C=h[f]-s.reference[f],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let T=N?N[E]:0;(!T||!await(o.isElement==null?void 0:o.isElement(N)))&&(T=a.floating[E]||s.floating[g]);const A=S/2-C/2,P=T/2-m[g]/2-1,k=Fc(d[y],P),M=Fc(d[w],P),O=k,D=T-m[g]-M,U=T/2-m[g]/2+A,J=qA(O,U,D),Q=!l.arrow&&Dp(i)!=null&&U!==J&&s.reference[g]/2-(U<O?k:M)-m[g]/2<0,H=Q?U<O?U-O:U-D:0;return{[f]:h[f]+H,data:{[f]:J,centerOffset:U-J-H,...Q&&{alignmentOffset:H}},reset:Q}}}),sxe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=ol(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=al(i),w=Bc(a),E=al(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=h||(E||!m?[n1(a)]:Z1e(a)),N=g!=="none";!h&&N&&C.push(...txe(a,m,g,S));const T=[a,...C],A=await jy(e,v),P=[];let k=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&P.push(A[y]),d){const U=J1e(i,o,S);P.push(A[U[0]],A[U[1]])}if(k=[...k,{placement:i,overflows:P}],!P.every(U=>U<=0)){var M,O;const U=(((M=s.flip)==null?void 0:M.index)||0)+1,J=T[U];if(J)return{data:{index:U,overflows:k},reset:{placement:J}};let Q=(O=k.filter(H=>H.overflows[0]<=0).sort((H,B)=>H.overflows[1]-B.overflows[1])[0])==null?void 0:O.placement;if(!Q)switch(f){case"bestFit":{var D;const H=(D=k.filter(B=>{if(N){const W=Bc(B.placement);return W===w||W==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(W=>W>0).reduce((W,j)=>W+j,0)]).sort((B,W)=>B[1]-W[1])[0])==null?void 0:D[0];H&&(Q=H);break}case"initialPlacement":Q=a;break}if(i!==Q)return{reset:{placement:Q}}}return{}}}};function dj(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function hj(t){return Y1e.some(e=>t[e]>=0)}const oxe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=ol(t,e);switch(r){case"referenceHidden":{const s=await jy(e,{...i,elementContext:"reference"}),o=dj(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:hj(o)}}}case"escaped":{const s=await jy(e,{...i,altBoundary:!0}),o=dj(s,n.floating);return{data:{escapedOffsets:o,escaped:hj(o)}}}default:return{}}}}};async function axe(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=al(n),a=Dp(n),l=Bc(n)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=ol(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof g=="number"&&(f=a==="end"?g*-1:g),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}const lxe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await axe(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},cxe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:v=>{let{x:y,y:w}=v;return{x:y,y:w}}},...l}=ol(t,e),c={x:n,y:r},u=await jy(e,l),d=Bc(al(i)),h=TN(d);let f=c[h],g=c[d];if(s){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",w=f+u[v],E=f-u[y];f=qA(w,f,E)}if(o){const v=d==="y"?"top":"left",y=d==="y"?"bottom":"right",w=g+u[v],E=g-u[y];g=qA(w,g,E)}const m=a.fn({...e,[h]:f,[d]:g});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:s,[d]:o}}}}}},uxe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=ol(t,e),u={x:n,y:r},d=Bc(i),h=TN(d);let f=u[h],g=u[d];const m=ol(a,e),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const E=h==="y"?"height":"width",S=s.reference[h]-s.floating[E]+v.mainAxis,C=s.reference[h]+s.reference[E]-v.mainAxis;f<S?f=S:f>C&&(f=C)}if(c){var y,w;const E=h==="y"?"width":"height",S=["top","left"].includes(al(i)),C=s.reference[d]-s.floating[E]+(S&&((y=o.offset)==null?void 0:y[d])||0)+(S?0:v.crossAxis),N=s.reference[d]+s.reference[E]+(S?0:((w=o.offset)==null?void 0:w[d])||0)-(S?v.crossAxis:0);g<C?g=C:g>N&&(g=N)}return{[h]:f,[d]:g}}}},dxe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=ol(t,e),u=await jy(e,c),d=al(i),h=Dp(i),f=Bc(i)==="y",{width:g,height:m}=s.floating;let v,y;d==="top"||d==="bottom"?(v=d,y=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=d,v=h==="end"?"top":"bottom");const w=m-u.top-u.bottom,E=g-u.left-u.right,S=Fc(m-u[v],w),C=Fc(g-u[y],E),N=!e.middlewareData.shift;let T=S,A=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(A=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=w),N&&!h){const k=ss(u.left,0),M=ss(u.right,0),O=ss(u.top,0),D=ss(u.bottom,0);f?A=g-2*(k!==0||M!==0?k+M:ss(u.left,u.right)):T=m-2*(O!==0||D!==0?O+D:ss(u.top,u.bottom))}await l({...e,availableWidth:A,availableHeight:T});const P=await o.getDimensions(a.floating);return g!==P.width||m!==P.height?{reset:{rects:!0}}:{}}}};function Dx(){return typeof window<"u"}function Lp(t){return F8(t)?(t.nodeName||"").toLowerCase():"#document"}function gs(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ga(t){var e;return(e=(F8(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function F8(t){return Dx()?t instanceof Node||t instanceof gs(t).Node:!1}function Ao(t){return Dx()?t instanceof Element||t instanceof gs(t).Element:!1}function ha(t){return Dx()?t instanceof HTMLElement||t instanceof gs(t).HTMLElement:!1}function fj(t){return!Dx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof gs(t).ShadowRoot}function Iv(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Io(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function hxe(t){return["table","td","th"].includes(Lp(t))}function Lx(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function IN(t){const e=CN(),n=Ao(t)?Io(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function fxe(t){let e=Uc(t);for(;ha(e)&&!fp(e);){if(IN(e))return e;if(Lx(e))return null;e=Uc(e)}return null}function CN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function fp(t){return["html","body","#document"].includes(Lp(t))}function Io(t){return gs(t).getComputedStyle(t)}function Mx(t){return Ao(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Uc(t){if(Lp(t)==="html")return t;const e=t.assignedSlot||t.parentNode||fj(t)&&t.host||ga(t);return fj(e)?e.host:e}function B8(t){const e=Uc(t);return fp(e)?t.ownerDocument?t.ownerDocument.body:t.body:ha(e)&&Iv(e)?e:B8(e)}function Fy(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=B8(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=gs(i);if(s){const a=WA(o);return e.concat(o,o.visualViewport||[],Iv(i)?i:[],a&&n?Fy(a):[])}return e.concat(i,Fy(i,[],n))}function WA(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function U8(t){const e=Io(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ha(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=t1(n)!==s||t1(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function RN(t){return Ao(t)?t:t.contextElement}function If(t){const e=RN(t);if(!ha(e))return na(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=U8(e);let o=(s?t1(n.width):n.width)/r,a=(s?t1(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const pxe=na(0);function $8(t){const e=gs(t);return!CN()||!e.visualViewport?pxe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function mxe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==gs(t)?!1:e}function Od(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=RN(t);let o=na(1);e&&(r?Ao(r)&&(o=If(r)):o=If(t));const a=mxe(s,n,r)?$8(s):na(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const h=gs(s),f=r&&Ao(r)?gs(r):r;let g=h,m=WA(g);for(;m&&r&&f!==g;){const v=If(m),y=m.getBoundingClientRect(),w=Io(m),E=y.left+(m.clientLeft+parseFloat(w.paddingLeft))*v.x,S=y.top+(m.clientTop+parseFloat(w.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,d*=v.y,l+=E,c+=S,g=gs(m),m=WA(g)}}return r1({width:u,height:d,x:l,y:c})}function PN(t,e){const n=Mx(t).scrollLeft;return e?e.left+n:Od(ga(t)).left+n}function q8(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:PN(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function gxe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=ga(r),a=e?Lx(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=na(1);const u=na(0),d=ha(r);if((d||!d&&!s)&&((Lp(r)!=="body"||Iv(o))&&(l=Mx(r)),ha(r))){const f=Od(r);c=If(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}const h=o&&!d&&!s?q8(o,l,!0):na(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function yxe(t){return Array.from(t.getClientRects())}function vxe(t){const e=ga(t),n=Mx(t),r=t.ownerDocument.body,i=ss(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=ss(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+PN(t);const a=-n.scrollTop;return Io(r).direction==="rtl"&&(o+=ss(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function _xe(t,e){const n=gs(t),r=ga(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=CN();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function wxe(t,e){const n=Od(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=ha(t)?If(t):na(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function pj(t,e,n){let r;if(e==="viewport")r=_xe(t,n);else if(e==="document")r=vxe(ga(t));else if(Ao(e))r=wxe(e,n);else{const i=$8(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return r1(r)}function z8(t,e){const n=Uc(t);return n===e||!Ao(n)||fp(n)?!1:Io(n).position==="fixed"||z8(n,e)}function xxe(t,e){const n=e.get(t);if(n)return n;let r=Fy(t,[],!1).filter(a=>Ao(a)&&Lp(a)!=="body"),i=null;const s=Io(t).position==="fixed";let o=s?Uc(t):t;for(;Ao(o)&&!fp(o);){const a=Io(o),l=IN(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Iv(o)&&!l&&z8(t,o))?r=r.filter(u=>u!==o):i=a,o=Uc(o)}return e.set(t,r),r}function Exe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Lx(e)?[]:xxe(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=pj(e,u,i);return c.top=ss(d.top,c.top),c.right=Fc(d.right,c.right),c.bottom=Fc(d.bottom,c.bottom),c.left=ss(d.left,c.left),c},pj(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function bxe(t){const{width:e,height:n}=U8(t);return{width:e,height:n}}function Txe(t,e,n){const r=ha(e),i=ga(e),s=n==="fixed",o=Od(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=na(0);if(r||!r&&!s)if((Lp(e)!=="body"||Iv(i))&&(a=Mx(e)),r){const h=Od(e,!0,s,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=PN(i));const c=i&&!r&&!s?q8(i,a):na(0),u=o.left+a.scrollLeft-l.x-c.x,d=o.top+a.scrollTop-l.y-c.y;return{x:u,y:d,width:o.width,height:o.height}}function Db(t){return Io(t).position==="static"}function mj(t,e){if(!ha(t)||Io(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ga(t)===n&&(n=n.ownerDocument.body),n}function W8(t,e){const n=gs(t);if(Lx(t))return n;if(!ha(t)){let i=Uc(t);for(;i&&!fp(i);){if(Ao(i)&&!Db(i))return i;i=Uc(i)}return n}let r=mj(t,e);for(;r&&hxe(r)&&Db(r);)r=mj(r,e);return r&&fp(r)&&Db(r)&&!IN(r)?n:r||fxe(t)||n}const Sxe=async function(t){const e=this.getOffsetParent||W8,n=this.getDimensions,r=await n(t.floating);return{reference:Txe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Axe(t){return Io(t).direction==="rtl"}const Ixe={convertOffsetParentRelativeRectToViewportRelativeRect:gxe,getDocumentElement:ga,getClippingRect:Exe,getOffsetParent:W8,getElementRects:Sxe,getClientRects:yxe,getDimensions:bxe,getScale:If,isElement:Ao,isRTL:Axe};function Cxe(t,e){let n=null,r;const i=ga(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:d,height:h}=t.getBoundingClientRect();if(a||e(),!d||!h)return;const f=O0(u),g=O0(i.clientWidth-(c+d)),m=O0(i.clientHeight-(u+h)),v=O0(c),w={rootMargin:-f+"px "+-g+"px "+-m+"px "+-v+"px",threshold:ss(0,Fc(1,l))||1};let E=!0;function S(C){const N=C[0].intersectionRatio;if(N!==l){if(!E)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E=!1}try{n=new IntersectionObserver(S,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,w)}n.observe(t)}return o(!0),s}function Rxe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=RN(t),u=i||s?[...c?Fy(c):[],...Fy(e)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const d=c&&a?Cxe(c,n):null;let h=-1,f=null;o&&(f=new ResizeObserver(y=>{let[w]=y;w&&w.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var E;(E=f)==null||E.observe(e)})),n()}),c&&!l&&f.observe(c),f.observe(e));let g,m=l?Od(t):null;l&&v();function v(){const y=Od(t);m&&(y.x!==m.x||y.y!==m.y||y.width!==m.width||y.height!==m.height)&&n(),m=y,g=requestAnimationFrame(v)}return n(),()=>{var y;u.forEach(w=>{i&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),d==null||d(),(y=f)==null||y.disconnect(),f=null,l&&cancelAnimationFrame(g)}}const Pxe=lxe,Nxe=cxe,kxe=sxe,Oxe=dxe,Dxe=oxe,gj=ixe,Lxe=uxe,Mxe=(t,e,n)=>{const r=new Map,i={platform:Ixe,...n},s={...i.platform,_c:r};return rxe(t,e,{...i,platform:s})};var P_=typeof document<"u"?x.useLayoutEffect:x.useEffect;function i1(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!i1(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!i1(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function H8(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function yj(t,e){const n=H8(t);return Math.round(e*n)/n}function Lb(t){const e=x.useRef(t);return P_(()=>{e.current=t}),e}function Vxe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,f]=x.useState(r);i1(h,r)||f(r);const[g,m]=x.useState(null),[v,y]=x.useState(null),w=x.useCallback(B=>{B!==N.current&&(N.current=B,m(B))},[]),E=x.useCallback(B=>{B!==T.current&&(T.current=B,y(B))},[]),S=s||g,C=o||v,N=x.useRef(null),T=x.useRef(null),A=x.useRef(u),P=l!=null,k=Lb(l),M=Lb(i),O=Lb(c),D=x.useCallback(()=>{if(!N.current||!T.current)return;const B={placement:e,strategy:n,middleware:h};M.current&&(B.platform=M.current),Mxe(N.current,T.current,B).then(W=>{const j={...W,isPositioned:O.current!==!1};U.current&&!i1(A.current,j)&&(A.current=j,cl.flushSync(()=>{d(j)}))})},[h,e,n,M,O]);P_(()=>{c===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,d(B=>({...B,isPositioned:!1})))},[c]);const U=x.useRef(!1);P_(()=>(U.current=!0,()=>{U.current=!1}),[]),P_(()=>{if(S&&(N.current=S),C&&(T.current=C),S&&C){if(k.current)return k.current(S,C,D);D()}},[S,C,D,k,P]);const J=x.useMemo(()=>({reference:N,floating:T,setReference:w,setFloating:E}),[w,E]),Q=x.useMemo(()=>({reference:S,floating:C}),[S,C]),H=x.useMemo(()=>{const B={position:n,left:0,top:0};if(!Q.floating)return B;const W=yj(Q.floating,u.x),j=yj(Q.floating,u.y);return a?{...B,transform:"translate("+W+"px, "+j+"px)",...H8(Q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:j}},[n,a,Q.floating,u.x,u.y]);return x.useMemo(()=>({...u,update:D,refs:J,elements:Q,floatingStyles:H}),[u,D,J,Q,H])}const jxe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?gj({element:r.current,padding:i}).fn(n):{}:r?gj({element:r,padding:i}).fn(n):{}}}},Fxe=(t,e)=>({...Pxe(t),options:[t,e]}),Bxe=(t,e)=>({...Nxe(t),options:[t,e]}),Uxe=(t,e)=>({...Lxe(t),options:[t,e]}),$xe=(t,e)=>({...kxe(t),options:[t,e]}),qxe=(t,e)=>({...Oxe(t),options:[t,e]}),zxe=(t,e)=>({...Dxe(t),options:[t,e]}),Wxe=(t,e)=>({...jxe(t),options:[t,e]});var Hxe="Arrow",G8=x.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return _.jsx(Xn.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:_.jsx("polygon",{points:"0,0 30,0 15,10"})})});G8.displayName=Hxe;var Gxe=G8;function Kxe(t){const[e,n]=x.useState(void 0);return Qn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var NN="Popper",[K8,Y8]=Np(NN),[Yxe,Q8]=K8(NN),X8=t=>{const{__scopePopper:e,children:n}=t,[r,i]=x.useState(null);return _.jsx(Yxe,{scope:e,anchor:r,onAnchorChange:i,children:n})};X8.displayName=NN;var J8="PopperAnchor",Z8=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=Q8(J8,n),o=x.useRef(null),a=Dr(e,o);return x.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:_.jsx(Xn.div,{...i,ref:a})});Z8.displayName=J8;var kN="PopperContent",[Qxe,Xxe]=K8(kN),e7=x.forwardRef((t,e)=>{var re,fe,Le,Re,le,Z;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:g,...m}=t,v=Q8(kN,n),[y,w]=x.useState(null),E=Dr(e,se=>w(se)),[S,C]=x.useState(null),N=Kxe(S),T=(N==null?void 0:N.width)??0,A=(N==null?void 0:N.height)??0,P=r+(s!=="center"?"-"+s:""),k=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},M=Array.isArray(c)?c:[c],O=M.length>0,D={padding:k,boundary:M.filter(Zxe),altBoundary:O},{refs:U,floatingStyles:J,placement:Q,isPositioned:H,middlewareData:B}=Vxe({strategy:"fixed",placement:P,whileElementsMounted:(...se)=>Rxe(...se,{animationFrame:f==="always"}),elements:{reference:v.anchor},middleware:[Fxe({mainAxis:i+A,alignmentAxis:o}),l&&Bxe({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?Uxe():void 0,...D}),l&&$xe({...D}),qxe({...D,apply:({elements:se,rects:we,availableWidth:Ue,availableHeight:Ge})=>{const{width:z,height:St}=we.reference,Et=se.floating.style;Et.setProperty("--radix-popper-available-width",`${Ue}px`),Et.setProperty("--radix-popper-available-height",`${Ge}px`),Et.setProperty("--radix-popper-anchor-width",`${z}px`),Et.setProperty("--radix-popper-anchor-height",`${St}px`)}}),S&&Wxe({element:S,padding:a}),eEe({arrowWidth:T,arrowHeight:A}),h&&zxe({strategy:"referenceHidden",...D})]}),[W,j]=r7(Q),ne=lr(g);Qn(()=>{H&&(ne==null||ne())},[H,ne]);const ue=(re=B.arrow)==null?void 0:re.x,he=(fe=B.arrow)==null?void 0:fe.y,Ee=((Le=B.arrow)==null?void 0:Le.centerOffset)!==0,[me,Be]=x.useState();return Qn(()=>{y&&Be(window.getComputedStyle(y).zIndex)},[y]),_.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:H?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[(Re=B.transformOrigin)==null?void 0:Re.x,(le=B.transformOrigin)==null?void 0:le.y].join(" "),...((Z=B.hide)==null?void 0:Z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:_.jsx(Qxe,{scope:n,placedSide:W,onArrowChange:C,arrowX:ue,arrowY:he,shouldHideArrow:Ee,children:_.jsx(Xn.div,{"data-side":W,"data-align":j,...m,ref:E,style:{...m.style,animation:H?void 0:"none"}})})})});e7.displayName=kN;var t7="PopperArrow",Jxe={top:"bottom",right:"left",bottom:"top",left:"right"},n7=x.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=Xxe(t7,r),o=Jxe[s.placedSide];return _.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:_.jsx(Gxe,{...i,ref:n,style:{...i.style,display:"block"}})})});n7.displayName=t7;function Zxe(t){return t!==null}var eEe=t=>({name:"transformOrigin",options:t,fn(e){var v,y,w;const{placement:n,rects:r,middlewareData:i}=e,o=((v=i.arrow)==null?void 0:v.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=r7(n),d={start:"0%",center:"50%",end:"100%"}[u],h=(((y=i.arrow)==null?void 0:y.x)??0)+a/2,f=(((w=i.arrow)==null?void 0:w.y)??0)+l/2;let g="",m="";return c==="bottom"?(g=o?d:`${h}px`,m=`${-l}px`):c==="top"?(g=o?d:`${h}px`,m=`${r.floating.height+l}px`):c==="right"?(g=`${-l}px`,m=o?d:`${f}px`):c==="left"&&(g=`${r.floating.width+l}px`,m=o?d:`${f}px`),{data:{x:g,y:m}}}});function r7(t){const[e,n="center"]=t.split("-");return[e,n]}var tEe=X8,nEe=Z8,rEe=e7,iEe=n7,sEe="Portal",i7=x.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=x.useState(!1);Qn(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?HI.createPortal(_.jsx(Xn.div,{...r,ref:e}),o):null});i7.displayName=sEe;function oEe(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var aEe="VisuallyHidden",s7=x.forwardRef((t,e)=>_.jsx(Xn.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));s7.displayName=aEe;var o7=c9(),Mb=function(){},Vx=x.forwardRef(function(t,e){var n=x.useRef(null),r=x.useState({onScrollCapture:Mb,onWheelCapture:Mb,onTouchMoveCapture:Mb}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,h=t.sideCar,f=t.noIsolation,g=t.inert,m=t.allowPinchZoom,v=t.as,y=v===void 0?"div":v,w=t.gapMode,E=vp(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,C=l9([n,e]),N=Yr(Yr({},E),i);return x.createElement(x.Fragment,null,u&&x.createElement(S,{sideCar:o7,removeScrollBar:c,shards:d,noIsolation:f,inert:g,setCallbacks:s,allowPinchZoom:!!m,lockRef:n,gapMode:w}),o?x.cloneElement(x.Children.only(a),Yr(Yr({},N),{ref:C})):x.createElement(y,Yr({},N,{className:l,ref:C}),a))});Vx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Vx.classNames={fullWidth:og,zeroRight:sg};var HA=!1;if(typeof window<"u")try{var D0=Object.defineProperty({},"passive",{get:function(){return HA=!0,!0}});window.addEventListener("test",D0,D0),window.removeEventListener("test",D0,D0)}catch{HA=!1}var wh=HA?{passive:!1}:!1,lEe=function(t){return t.tagName==="TEXTAREA"},a7=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!lEe(t)&&n[e]==="visible")},cEe=function(t){return a7(t,"overflowY")},uEe=function(t){return a7(t,"overflowX")},vj=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=l7(t,r);if(i){var s=c7(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},dEe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},hEe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},l7=function(t,e){return t==="v"?cEe(e):uEe(e)},c7=function(t,e){return t==="v"?dEe(e):hEe(e)},fEe=function(t,e){return t==="h"&&e==="rtl"?-1:1},pEe=function(t,e,n,r,i){var s=fEe(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,u=o>0,d=0,h=0;do{var f=c7(t,a),g=f[0],m=f[1],v=f[2],y=m-v-s*g;(g||y)&&l7(t,a)&&(d+=y,h+=g),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(d)<1||!i)||!u&&(Math.abs(h)<1||!i))&&(c=!0),c},L0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},_j=function(t){return[t.deltaX,t.deltaY]},wj=function(t){return t&&"current"in t?t.current:t},mEe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},gEe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},yEe=0,xh=[];function vEe(t){var e=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),i=x.useState(yEe++)[0],s=x.useState(aP)[0],o=x.useRef(t);x.useEffect(function(){o.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=g3([t.lockRef.current],(t.shards||[]).map(wj),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=x.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var y=L0(m),w=n.current,E="deltaX"in m?m.deltaX:w[0]-y[0],S="deltaY"in m?m.deltaY:w[1]-y[1],C,N=m.target,T=Math.abs(E)>Math.abs(S)?"h":"v";if("touches"in m&&T==="h"&&N.type==="range")return!1;var A=vj(T,N);if(!A)return!0;if(A?C=T:(C=T==="v"?"h":"v",A=vj(T,N)),!A)return!1;if(!r.current&&"changedTouches"in m&&(E||S)&&(r.current=C),!C)return!0;var P=r.current||C;return pEe(P,v,m,P==="h"?E:S,!0)},[]),l=x.useCallback(function(m){var v=m;if(!(!xh.length||xh[xh.length-1]!==s)){var y="deltaY"in v?_j(v):L0(v),w=e.current.filter(function(C){return C.name===v.type&&(C.target===v.target||v.target===C.shadowParent)&&mEe(C.delta,y)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var E=(o.current.shards||[]).map(wj).filter(Boolean).filter(function(C){return C.contains(v.target)}),S=E.length>0?a(v,E[0]):!o.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),c=x.useCallback(function(m,v,y,w){var E={name:m,delta:v,target:y,should:w,shadowParent:_Ee(y)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(S){return S!==E})},1)},[]),u=x.useCallback(function(m){n.current=L0(m),r.current=void 0},[]),d=x.useCallback(function(m){c(m.type,_j(m),m.target,a(m,t.lockRef.current))},[]),h=x.useCallback(function(m){c(m.type,L0(m),m.target,a(m,t.lockRef.current))},[]);x.useEffect(function(){return xh.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,wh),document.addEventListener("touchmove",l,wh),document.addEventListener("touchstart",u,wh),function(){xh=xh.filter(function(m){return m!==s}),document.removeEventListener("wheel",l,wh),document.removeEventListener("touchmove",l,wh),document.removeEventListener("touchstart",u,wh)}},[]);var f=t.removeScrollBar,g=t.inert;return x.createElement(x.Fragment,null,g?x.createElement(s,{styles:gEe(i)}):null,f?x.createElement(f9,{gapMode:t.gapMode}):null)}function _Ee(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const wEe=d9(o7,vEe);var u7=x.forwardRef(function(t,e){return x.createElement(Vx,Yr({},t,{ref:e,sideCar:wEe}))});u7.classNames=Vx.classNames;var xEe=[" ","Enter","ArrowUp","ArrowDown"],EEe=[" ","Enter"],Cv="Select",[jx,Fx,bEe]=P1e(Cv),[Mp,Qbe]=Np(Cv,[bEe,Y8]),Bx=Y8(),[TEe,ou]=Mp(Cv),[SEe,AEe]=Mp(Cv),d7=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:h,required:f,form:g}=t,m=Bx(e),[v,y]=x.useState(null),[w,E]=x.useState(null),[S,C]=x.useState(!1),N=k1e(c),[T=!1,A]=Dw({prop:r,defaultProp:i,onChange:s}),[P,k]=Dw({prop:o,defaultProp:a,onChange:l}),M=x.useRef(null),O=v?g||!!v.closest("form"):!0,[D,U]=x.useState(new Set),J=Array.from(D).map(Q=>Q.props.value).join(";");return _.jsx(tEe,{...m,children:_.jsxs(TEe,{required:f,scope:e,trigger:v,onTriggerChange:y,valueNode:w,onValueNodeChange:E,valueNodeHasChildren:S,onValueNodeHasChildrenChange:C,contentId:pf(),value:P,onValueChange:k,open:T,onOpenChange:A,dir:N,triggerPointerDownPosRef:M,disabled:h,children:[_.jsx(jx.Provider,{scope:e,children:_.jsx(SEe,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(Q=>{U(H=>new Set(H).add(Q))},[]),onNativeOptionRemove:x.useCallback(Q=>{U(H=>{const B=new Set(H);return B.delete(Q),B})},[]),children:n})}),O?_.jsxs(M7,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:d,value:P,onChange:Q=>k(Q.target.value),disabled:h,form:g,children:[P===void 0?_.jsx("option",{value:""}):null,Array.from(D)]},J):null]})})};d7.displayName=Cv;var h7="SelectTrigger",f7=x.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=Bx(n),o=ou(h7,n),a=o.disabled||r,l=Dr(e,o.onTriggerChange),c=Fx(n),u=x.useRef("touch"),[d,h,f]=V7(m=>{const v=c().filter(E=>!E.disabled),y=v.find(E=>E.value===o.value),w=j7(v,m,y);w!==void 0&&o.onValueChange(w.value)}),g=m=>{a||(o.onOpenChange(!0),f()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return _.jsx(nEe,{asChild:!0,...s,children:_.jsx(Xn.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":L7(o.value)?"":void 0,...i,ref:l,onClick:Hn(i.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&g(m)}),onPointerDown:Hn(i.onPointerDown,m=>{u.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:Hn(i.onKeyDown,m=>{const v=d.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(v&&m.key===" ")&&xEe.includes(m.key)&&(g(),m.preventDefault())})})})});f7.displayName=h7;var p7="SelectValue",m7=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,l=ou(p7,n),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,d=Dr(e,l.onValueNodeChange);return Qn(()=>{c(u)},[c,u]),_.jsx(Xn.span,{...a,ref:d,style:{pointerEvents:"none"},children:L7(l.value)?_.jsx(_.Fragment,{children:o}):s})});m7.displayName=p7;var IEe="SelectIcon",g7=x.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return _.jsx(Xn.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});g7.displayName=IEe;var CEe="SelectPortal",y7=t=>_.jsx(i7,{asChild:!0,...t});y7.displayName=CEe;var Dd="SelectContent",v7=x.forwardRef((t,e)=>{const n=ou(Dd,t.__scopeSelect),[r,i]=x.useState();if(Qn(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?cl.createPortal(_.jsx(_7,{scope:t.__scopeSelect,children:_.jsx(jx.Slot,{scope:t.__scopeSelect,children:_.jsx("div",{children:t.children})})}),s):null}return _.jsx(w7,{...t,ref:e})});v7.displayName=Dd;var ao=10,[_7,au]=Mp(Dd),REe="SelectContentImpl",w7=x.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:g,hideWhenDetached:m,avoidCollisions:v,...y}=t,w=ou(Dd,n),[E,S]=x.useState(null),[C,N]=x.useState(null),T=Dr(e,re=>S(re)),[A,P]=x.useState(null),[k,M]=x.useState(null),O=Fx(n),[D,U]=x.useState(!1),J=x.useRef(!1);x.useEffect(()=>{if(E)return _9(E)},[E]),a9();const Q=x.useCallback(re=>{const[fe,...Le]=O().map(Z=>Z.ref.current),[Re]=Le.slice(-1),le=document.activeElement;for(const Z of re)if(Z===le||(Z==null||Z.scrollIntoView({block:"nearest"}),Z===fe&&C&&(C.scrollTop=0),Z===Re&&C&&(C.scrollTop=C.scrollHeight),Z==null||Z.focus(),document.activeElement!==le))return},[O,C]),H=x.useCallback(()=>Q([A,E]),[Q,A,E]);x.useEffect(()=>{D&&H()},[D,H]);const{onOpenChange:B,triggerPointerDownPosRef:W}=w;x.useEffect(()=>{if(E){let re={x:0,y:0};const fe=Re=>{var le,Z;re={x:Math.abs(Math.round(Re.pageX)-(((le=W.current)==null?void 0:le.x)??0)),y:Math.abs(Math.round(Re.pageY)-(((Z=W.current)==null?void 0:Z.y)??0))}},Le=Re=>{re.x<=10&&re.y<=10?Re.preventDefault():E.contains(Re.target)||B(!1),document.removeEventListener("pointermove",fe),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",Le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",Le,{capture:!0})}}},[E,B,W]),x.useEffect(()=>{const re=()=>B(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[B]);const[j,ne]=V7(re=>{const fe=O().filter(le=>!le.disabled),Le=fe.find(le=>le.ref.current===document.activeElement),Re=j7(fe,re,Le);Re&&setTimeout(()=>Re.ref.current.focus())}),ue=x.useCallback((re,fe,Le)=>{const Re=!J.current&&!Le;(w.value!==void 0&&w.value===fe||Re)&&(P(re),Re&&(J.current=!0))},[w.value]),he=x.useCallback(()=>E==null?void 0:E.focus(),[E]),Ee=x.useCallback((re,fe,Le)=>{const Re=!J.current&&!Le;(w.value!==void 0&&w.value===fe||Re)&&M(re)},[w.value]),me=r==="popper"?GA:x7,Be=me===GA?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:g,hideWhenDetached:m,avoidCollisions:v}:{};return _.jsx(_7,{scope:n,content:E,viewport:C,onViewportChange:N,itemRefCallback:ue,selectedItem:A,onItemLeave:he,itemTextRefCallback:Ee,focusSelectedItem:H,selectedItemText:k,position:r,isPositioned:D,searchRef:j,children:_.jsx(u7,{as:el,allowPinchZoom:!0,children:_.jsx(M8,{asChild:!0,trapped:w.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:Hn(i,re=>{var fe;(fe=w.trigger)==null||fe.focus({preventScroll:!0}),re.preventDefault()}),children:_.jsx(D8,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:_.jsx(me,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:re=>re.preventDefault(),...y,...Be,onPlaced:()=>U(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Hn(y.onKeyDown,re=>{const fe=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!fe&&re.key.length===1&&ne(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let Re=O().filter(le=>!le.disabled).map(le=>le.ref.current);if(["ArrowUp","End"].includes(re.key)&&(Re=Re.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const le=re.target,Z=Re.indexOf(le);Re=Re.slice(Z+1)}setTimeout(()=>Q(Re)),re.preventDefault()}})})})})})})});w7.displayName=REe;var PEe="SelectItemAlignedPosition",x7=x.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=ou(Dd,n),o=au(Dd,n),[a,l]=x.useState(null),[c,u]=x.useState(null),d=Dr(e,T=>u(T)),h=Fx(n),f=x.useRef(!1),g=x.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:y,focusSelectedItem:w}=o,E=x.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&m&&v&&y){const T=s.trigger.getBoundingClientRect(),A=c.getBoundingClientRect(),P=s.valueNode.getBoundingClientRect(),k=y.getBoundingClientRect();if(s.dir!=="rtl"){const le=k.left-A.left,Z=P.left-le,se=T.left-Z,we=T.width+se,Ue=Math.max(we,A.width),Ge=window.innerWidth-ao,z=nj(Z,[ao,Math.max(ao,Ge-Ue)]);a.style.minWidth=we+"px",a.style.left=z+"px"}else{const le=A.right-k.right,Z=window.innerWidth-P.right-le,se=window.innerWidth-T.right-Z,we=T.width+se,Ue=Math.max(we,A.width),Ge=window.innerWidth-ao,z=nj(Z,[ao,Math.max(ao,Ge-Ue)]);a.style.minWidth=we+"px",a.style.right=z+"px"}const M=h(),O=window.innerHeight-ao*2,D=m.scrollHeight,U=window.getComputedStyle(c),J=parseInt(U.borderTopWidth,10),Q=parseInt(U.paddingTop,10),H=parseInt(U.borderBottomWidth,10),B=parseInt(U.paddingBottom,10),W=J+Q+D+B+H,j=Math.min(v.offsetHeight*5,W),ne=window.getComputedStyle(m),ue=parseInt(ne.paddingTop,10),he=parseInt(ne.paddingBottom,10),Ee=T.top+T.height/2-ao,me=O-Ee,Be=v.offsetHeight/2,re=v.offsetTop+Be,fe=J+Q+re,Le=W-fe;if(fe<=Ee){const le=M.length>0&&v===M[M.length-1].ref.current;a.style.bottom="0px";const Z=c.clientHeight-m.offsetTop-m.offsetHeight,se=Math.max(me,Be+(le?he:0)+Z+H),we=fe+se;a.style.height=we+"px"}else{const le=M.length>0&&v===M[0].ref.current;a.style.top="0px";const se=Math.max(Ee,J+m.offsetTop+(le?ue:0)+Be)+Le;a.style.height=se+"px",m.scrollTop=fe-Ee+m.offsetTop}a.style.margin=`${ao}px 0`,a.style.minHeight=j+"px",a.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>f.current=!0)}},[h,s.trigger,s.valueNode,a,c,m,v,y,s.dir,r]);Qn(()=>E(),[E]);const[S,C]=x.useState();Qn(()=>{c&&C(window.getComputedStyle(c).zIndex)},[c]);const N=x.useCallback(T=>{T&&g.current===!0&&(E(),w==null||w(),g.current=!1)},[E,w]);return _.jsx(kEe,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:f,onScrollButtonChange:N,children:_.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:_.jsx(Xn.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});x7.displayName=PEe;var NEe="SelectPopperPosition",GA=x.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=ao,...s}=t,o=Bx(n);return _.jsx(rEe,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});GA.displayName=NEe;var[kEe,ON]=Mp(Dd,{}),KA="SelectViewport",E7=x.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=au(KA,n),o=ON(KA,n),a=Dr(e,s.onViewportChange),l=x.useRef(0);return _.jsxs(_.Fragment,{children:[_.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),_.jsx(jx.Slot,{scope:n,children:_.jsx(Xn.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Hn(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&d){const f=Math.abs(l.current-u.scrollTop);if(f>0){const g=window.innerHeight-ao*2,m=parseFloat(d.style.minHeight),v=parseFloat(d.style.height),y=Math.max(m,v);if(y<g){const w=y+f,E=Math.min(g,w),S=w-E;d.style.height=E+"px",d.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});E7.displayName=KA;var b7="SelectGroup",[OEe,DEe]=Mp(b7),LEe=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=pf();return _.jsx(OEe,{scope:n,id:i,children:_.jsx(Xn.div,{role:"group","aria-labelledby":i,...r,ref:e})})});LEe.displayName=b7;var T7="SelectLabel",S7=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=DEe(T7,n);return _.jsx(Xn.div,{id:i.id,...r,ref:e})});S7.displayName=T7;var s1="SelectItem",[MEe,A7]=Mp(s1),I7=x.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=ou(s1,n),l=au(s1,n),c=a.value===r,[u,d]=x.useState(s??""),[h,f]=x.useState(!1),g=Dr(e,w=>{var E;return(E=l.itemRefCallback)==null?void 0:E.call(l,w,r,i)}),m=pf(),v=x.useRef("touch"),y=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return _.jsx(MEe,{scope:n,value:r,disabled:i,textId:m,isSelected:c,onItemTextChange:x.useCallback(w=>{d(E=>E||((w==null?void 0:w.textContent)??"").trim())},[]),children:_.jsx(jx.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:_.jsx(Xn.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:g,onFocus:Hn(o.onFocus,()=>f(!0)),onBlur:Hn(o.onBlur,()=>f(!1)),onClick:Hn(o.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:Hn(o.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:Hn(o.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:Hn(o.onPointerMove,w=>{var E;v.current=w.pointerType,i?(E=l.onItemLeave)==null||E.call(l):v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Hn(o.onPointerLeave,w=>{var E;w.currentTarget===document.activeElement&&((E=l.onItemLeave)==null||E.call(l))}),onKeyDown:Hn(o.onKeyDown,w=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&w.key===" "||(EEe.includes(w.key)&&y(),w.key===" "&&w.preventDefault())})})})})});I7.displayName=s1;var Dm="SelectItemText",C7=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=ou(Dm,n),a=au(Dm,n),l=A7(Dm,n),c=AEe(Dm,n),[u,d]=x.useState(null),h=Dr(e,y=>d(y),l.onItemTextChange,y=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,y,l.value,l.disabled)}),f=u==null?void 0:u.textContent,g=x.useMemo(()=>_.jsx("option",{value:l.value,disabled:l.disabled,children:f},l.value),[l.disabled,l.value,f]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=c;return Qn(()=>(m(g),()=>v(g)),[m,v,g]),_.jsxs(_.Fragment,{children:[_.jsx(Xn.span,{id:l.textId,...s,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?cl.createPortal(s.children,o.valueNode):null]})});C7.displayName=Dm;var R7="SelectItemIndicator",P7=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return A7(R7,n).isSelected?_.jsx(Xn.span,{"aria-hidden":!0,...r,ref:e}):null});P7.displayName=R7;var YA="SelectScrollUpButton",N7=x.forwardRef((t,e)=>{const n=au(YA,t.__scopeSelect),r=ON(YA,t.__scopeSelect),[i,s]=x.useState(!1),o=Dr(e,r.onScrollButtonChange);return Qn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?_.jsx(O7,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});N7.displayName=YA;var QA="SelectScrollDownButton",k7=x.forwardRef((t,e)=>{const n=au(QA,t.__scopeSelect),r=ON(QA,t.__scopeSelect),[i,s]=x.useState(!1),o=Dr(e,r.onScrollButtonChange);return Qn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;s(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?_.jsx(O7,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});k7.displayName=QA;var O7=x.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=au("SelectScrollButton",n),o=x.useRef(null),a=Fx(n),l=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>l(),[l]),Qn(()=>{var u;const c=a().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),_.jsx(Xn.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Hn(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Hn(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Hn(i.onPointerLeave,()=>{l()})})}),VEe="SelectSeparator",D7=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return _.jsx(Xn.div,{"aria-hidden":!0,...r,ref:e})});D7.displayName=VEe;var XA="SelectArrow",jEe=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Bx(n),s=ou(XA,n),o=au(XA,n);return s.open&&o.position==="popper"?_.jsx(iEe,{...i,...r,ref:e}):null});jEe.displayName=XA;function L7(t){return t===""||t===void 0}var M7=x.forwardRef((t,e)=>{const{value:n,...r}=t,i=x.useRef(null),s=Dr(e,i),o=oEe(n);return x.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&u){const d=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(d)}},[o,n]),_.jsx(s7,{asChild:!0,children:_.jsx("select",{...r,ref:s,defaultValue:n})})});M7.displayName="BubbleSelect";function V7(t){const e=lr(t),n=x.useRef(""),r=x.useRef(0),i=x.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=x.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function j7(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=FEe(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function FEe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var BEe=d7,F7=f7,UEe=m7,$Ee=g7,qEe=y7,B7=v7,zEe=E7,U7=S7,$7=I7,WEe=C7,HEe=P7,q7=N7,z7=k7,W7=D7;const GEe=BEe,KEe=UEe,H7=x.forwardRef(({className:t,children:e,...n},r)=>_.jsxs(F7,{ref:r,className:st("flex h-10 w-full items-center justify-between  border-b outline-none  border-neutral-200 bg-white-1 px-3 py-2   placeholder:text-neutral-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 dark:border-neutral-800 dark:bg-neutral-950 dark:ring-offset-neutral-950 dark:placeholder:text-neutral-400 dark:focus:ring-neutral-300",t),...n,children:[e,_.jsx($Ee,{asChild:!0,children:_.jsx(l6,{className:"h-6 w-6 opacity-50"})})]}));H7.displayName=F7.displayName;const G7=x.forwardRef(({className:t,...e},n)=>_.jsx(q7,{ref:n,className:st("flex cursor-default items-center justify-center py-1",t),...e,children:_.jsx(ace,{className:"h-4 w-4"})}));G7.displayName=q7.displayName;const K7=x.forwardRef(({className:t,...e},n)=>_.jsx(z7,{ref:n,className:st("flex cursor-default items-center justify-center py-1",t),...e,children:_.jsx(l6,{className:"h-4 w-4"})}));K7.displayName=z7.displayName;const Y7=x.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>_.jsx(qEe,{children:_.jsxs(B7,{ref:i,className:st(" z-100 max-h-96 min-w-[8rem] overflow-hidden  border-2  border-neutral-200 bg-white-1 text-black-2 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-neutral-800 dark:bg-neutral-950 dark:text-neutral-50",n==="popper"&&t),position:n,...r,children:[_.jsx(G7,{}),_.jsx(zEe,{className:st("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),_.jsx(K7,{})]})}));Y7.displayName=B7.displayName;const YEe=x.forwardRef(({className:t,...e},n)=>_.jsx(U7,{ref:n,className:st("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));YEe.displayName=U7.displayName;const Q7=x.forwardRef(({className:t,children:e,...n},r)=>_.jsxs($7,{ref:r,className:st("relative flex w-full cursor-default select-none items-center  py-1.5 pl-8 pr-2  outline-none focus:bg-orange-1 focus:text-white-1 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-neutral-800 dark:focus:text-neutral-50",t),...n,children:[_.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:_.jsx(HEe,{children:_.jsx(oce,{className:"h-4 w-4"})})}),_.jsx(WEe,{children:e})]}));Q7.displayName=$7.displayName;const QEe=x.forwardRef(({className:t,...e},n)=>_.jsx(W7,{ref:n,className:st("-mx-1 my-1 h-px bg-neutral-100 dark:bg-neutral-800",t),...e}));QEe.displayName=W7.displayName;const XEe=({isliding:t})=>{const{scrollYProgress:e}=fle();return _.jsx(_.Fragment,{children:t&&_.jsx(To.div,{style:{scaleX:e,position:"sticky",top:70,left:0,right:0,height:10,originX:0,backgroundColor:"#8266c9"}})})},JEe=async(t,e,n,r)=>{try{const s=(await We.collection("Parts").where("storyId","==",n.storyId).get()).docs,o=s.findIndex(c=>c.id===t),a=s.map(c=>({id:c.id,...c.data()}));if(r(a),o===-1)return null;const l=s[o+1];if(l)e(l.id);else return null}catch(i){console.error("Error getting documents:",i)}},ZEe=()=>{const{readId:t}=Hc(),[e,n]=x.useState(),[r,i]=x.useState(""),[s,o]=x.useState(""),[a,l]=x.useState([]),c=Xs(),[u,d]=x.useState(!1);return x.useEffect(()=>{async function h(){try{const g=(await We.collection("Parts").doc(t).get()).data();if(!g)return;JEe(t,o,g,l),await We.collection("WrittenStories").doc(g.storyId).get().then(m=>{const v=m.data();v&&i(v.author)}),n(g),d(!0)}catch(f){console.log(f)}}h().then(()=>{})},[t,s]),_.jsxs("div",{className:"relative",children:[_.jsx(XEe,{isliding:u}),_.jsxs("div",{className:"flex flex-row bg-white-1 w-full max-lg:flex-col",children:[_.jsx("div",{className:"relative z-10",children:_.jsxs(GEe,{onValueChange:h=>c(`/read/${h}`),children:[_.jsx(H7,{className:"   sticky top-[80px] left-0 px-10 py-6  lg:w-[300px] 2xl:w-[400px]  max-lg:w-full",children:_.jsx(KEe,{placeholder:"Table of contents"})}),_.jsx(Y7,{className:" outline-none focus:border top-11",children:a.map(h=>_.jsx(Q7,{value:h.id,className:" text-black-2",children:h.title},h.id))})]})}),_.jsxs("div",{className:" mx-auto border-x-2 p-6 flex-1",children:[_.jsxs("div",{className:"flex flex-col gap-3 mb-7",children:[_.jsx("h1",{className:"text-black-2 text-4xl font-semibold ",children:e?e.title:""}),_.jsx(C1e,{owner:r})]}),_.jsx(I1e,{Data:e}),s?_.jsx(jn,{className:"w-full mt-4",onClick:()=>c(`/read/${s}`),children:"Next Part"}):null]})]})]})};function xj(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ebe(...t){return e=>{let n=!1;const r=t.map(i=>{const s=xj(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():xj(t[i],null)}}}}function X7(...t){return x.useCallback(ebe(...t),t)}function tbe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}var J7="AlertDialog",[nbe,Xbe]=Np(J7,[x9]),vl=x9(),Z7=t=>{const{__scopeAlertDialog:e,...n}=t,r=vl(e);return _.jsx(O9,{...r,...n,modal:!0})};Z7.displayName=J7;var rbe="AlertDialogTrigger",ibe=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=vl(n);return _.jsx(Fhe,{...i,...r,ref:e})});ibe.displayName=rbe;var sbe="AlertDialogPortal",eW=t=>{const{__scopeAlertDialog:e,...n}=t,r=vl(e);return _.jsx(D9,{...r,...n})};eW.displayName=sbe;var obe="AlertDialogOverlay",tW=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=vl(n);return _.jsx(gP,{...i,...r,ref:e})});tW.displayName=obe;var Cf="AlertDialogContent",[abe,lbe]=nbe(Cf),nW=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,s=vl(n),o=x.useRef(null),a=X7(e,o),l=x.useRef(null);return _.jsx(Lhe,{contentName:Cf,titleName:rW,docsSlug:"alert-dialog",children:_.jsx(abe,{scope:n,cancelRef:l,children:_.jsxs(yP,{role:"alertdialog",...s,...i,ref:a,onOpenAutoFocus:tbe(i.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[_.jsx(g6,{children:r}),_.jsx(ube,{contentRef:o})]})})})});nW.displayName=Cf;var rW="AlertDialogTitle",iW=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=vl(n);return _.jsx(vP,{...i,...r,ref:e})});iW.displayName=rW;var sW="AlertDialogDescription",oW=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=vl(n);return _.jsx(_P,{...i,...r,ref:e})});oW.displayName=sW;var cbe="AlertDialogAction",aW=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=vl(n);return _.jsx(wP,{...i,...r,ref:e})});aW.displayName=cbe;var lW="AlertDialogCancel",cW=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=lbe(lW,n),s=vl(n),o=X7(e,i);return _.jsx(wP,{...s,...r,ref:o})});cW.displayName=lW;var ube=({contentRef:t})=>{const e=`\`${Cf}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Cf}\` by passing a \`${sW}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Cf}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},dbe=Z7,hbe=eW,uW=tW,dW=nW,hW=aW,fW=cW,pW=iW,mW=oW;const fbe=dbe,pbe=hbe,gW=x.forwardRef(({className:t,...e},n)=>_.jsx(uW,{className:st("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));gW.displayName=uW.displayName;const yW=x.forwardRef(({className:t,...e},n)=>_.jsxs(pbe,{children:[_.jsx(gW,{}),_.jsx(dW,{ref:n,className:st("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-neutral-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-neutral-800 dark:bg-neutral-950",t),...e})]}));yW.displayName=dW.displayName;const vW=({className:t,...e})=>_.jsx("div",{className:st("flex flex-col space-y-2 text-center sm:text-left",t),...e});vW.displayName="AlertDialogHeader";const _W=({className:t,...e})=>_.jsx("div",{className:st("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});_W.displayName="AlertDialogFooter";const wW=x.forwardRef(({className:t,...e},n)=>_.jsx(pW,{ref:n,className:st("text-lg font-semibold",t),...e}));wW.displayName=pW.displayName;const xW=x.forwardRef(({className:t,...e},n)=>_.jsx(mW,{ref:n,className:st("text-sm text-neutral-500 dark:text-neutral-400",t),...e}));xW.displayName=mW.displayName;const EW=x.forwardRef(({className:t,...e},n)=>_.jsx(hW,{ref:n,className:st(xP(),t),...e}));EW.displayName=hW.displayName;const bW=x.forwardRef(({className:t,...e},n)=>_.jsx(fW,{ref:n,className:st(xP({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));bW.displayName=fW.displayName;const mbe=({storyId:t,isdelete:e,setIsdelete:n})=>{async function r(){if(t)try{(await We.collection("Parts").where("storyId","==",t).get()).forEach(async s=>{await We.collection("Parts").doc(s.id).delete()}),await We.collection("WrittenStories").doc(t).delete()}catch(i){Si({variant:"destructive",title:"Uh oh! Something went wrong",description:"There was a problem with your request."}),console.log(i)}}return _.jsx(fbe,{open:e,onOpenChange:n,children:_.jsxs(yW,{className:" bg-white-1",children:[_.jsxs(vW,{children:[_.jsx(wW,{children:"Are you absolutely sure?"}),_.jsx(xW,{children:"This action cannot be undone. This will permanently delete your account and remove your data from our servers."})]}),_.jsxs(_W,{children:[_.jsx(bW,{children:"Cancel"}),_.jsx(EW,{onClick:r,children:"Yes , delete the story"})]})]})})},gbe=()=>{const{profileId:t}=Hc(),{Data:e}=bU(t||""),{currentUser:n}=Js(),[r,i]=x.useState("#242424"),[s,o]=x.useState(""),[a,l]=x.useState(!1);return _.jsxs("div",{className:" flex-1 flex flex-col gap-8 max-lg:gap-5 max-md:gap-3",children:[e?e.map((c,u)=>{const d=c.desc.length>100?c.desc.slice(0,150)+"...":c.desc;return _.jsxs(To.div,{initial:{scale:0},animate:{scale:1},transition:{delay:1.4},className:" relative w-full px-4 py-6  bg-white-3 flex flex-row gap-4 items-center max-lg:py-10",children:[_.jsx("img",{src:c.ImgUrl,width:150,className:" rounded-md h-full max-sm:hidden"}),_.jsxs("div",{className:"flex flex-col gap-3 ",children:[_.jsx("h1",{className:"text-lg font-bold text-black-2",children:c.title}),_.jsx("p",{className:" text-black-2 leading-6 max-w-[600px]",style:{overflowWrap:"break-word"},children:d}),_.jsx("div",{className:"mt-2 flex flex-wrap w-fit",children:c.tag.map(h=>_.jsx("span",{className:"inline-block  bg-orange-2 border border-black-2  text-black-2 rounded-full px-3 py-1 text-sm mr-2 mb-2",children:h},h))})]}),(n==null?void 0:n.uid)==t&&_.jsx(To.div,{onClick:()=>{l(!a),o(c.id)},whileHover:{backgroundColor:"#8266c9"},className:"absolute right-2 top-2 cursor-pointer p-2 rounded-full",children:_.jsx("img",{src:"/Story-Website/delete.svg",width:20})})]},u)}):_.jsx("div",{className:" w-full h-[300px] flex justify-center items-center",children:_.jsx("img",{src:"/Story-Website/person-sitting.png",width:200})}),(n==null?void 0:n.uid)==t?_.jsx(ra,{to:"/new",onMouseEnter:()=>i("#fff"),onMouseLeave:()=>i("#242424"),className:"flex justify-center py-10 items-center border-dashed border-2 p-4 border-black-2 w-full  hover:bg-orange-1 hover:border-none transition-colors duration-400 cursor-pointer",children:_.jsx(Xu.plus,{classes:"w-[100px]",Color:r})}):"",_.jsx(mbe,{storyId:s,isdelete:a,setIsdelete:l})]})},ybe=({profileId:t})=>{const[e,n]=x.useState(""),[r,i]=x.useState(!1),s=Xs(),{author:o}=tu(t);async function a(){try{i(!0),await We.collection("user").doc(t).update({desc:e})}catch(l){Si({title:"Error",description:l.message})}finally{i(!1),s(`/profile/${t}`)}}return x.useEffect(()=>{o!=null&&o.desc?n(o.desc):n("")},[o]),_.jsx("div",{className:"p-6 flex-1",children:_.jsxs("div",{className:"flex flex-col gap-3",children:[_.jsx("div",{className:" border-b-2",children:_.jsx("textarea",{value:e,onChange:l=>n(l.target.value),className:"border-none resize-none text-lg outline-none h-[300px] w-full",placeholder:"Write Here"})}),_.jsxs("div",{className:"flex flex-row-reverse gap-3 self-end",children:[_.jsx(jn,{className:" rounded-full",onClick:a,children:r?_.jsx(kp,{size:"20px"}):_.jsx("span",{children:"Save"})}),_.jsx(jn,{className:" rounded-full",variant:"outline",onClick:()=>s("/profile/$profileId"),children:"Cancel"})]})]})})},vbe=()=>{const[t,e]=x.useState(!1),{profileId:n}=Hc(),{author:r}=tu(n||""),{currentUser:i}=Js(),[s,o]=x.useState(!0);x.useEffect(()=>{r&&o(!1)},[r]);async function a(){e(!0)}return t?_.jsx(ybe,{profileId:n||""}):_.jsx("div",{className:"flex-1",children:s?_.jsx("div",{className:"flex justify-center items-center py-6",children:_.jsx(kp,{size:"30px"})}):r!=null&&r.desc?_.jsx("div",{className:"w-full",children:_.jsxs("div",{className:"flex flex-col gap-6 py-6 px-5 border-b-2 border-[#dbdbdb] w-full",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("h1",{className:"text-2xl text-black-2",children:"Who I am"}),(i==null?void 0:i.uid)==n&&_.jsx("div",{onClick:a,className:"p-2 flex items-center  cursor-pointer transition-colors border border-white-1 justify-center w-fit rounded-full hover:bg-orange-2 hover:border hover:border-orange-1",children:_.jsx("img",{src:"/Story-Website/edit.svg",width:20})})]}),_.jsx("div",{className:"text-black-2 leading-6 w-full",style:{overflowWrap:"break-word",wordBreak:"break-word"},children:r.desc})]})}):(i==null?void 0:i.uid)===n?_.jsxs("div",{className:"flex flex-col w-full gap-6 justify-between py-6 px-5 items-center bg-white-3",children:[_.jsx("h1",{className:"font-semibold text-black-2",children:"Tell the world about yourself"}),_.jsx("p",{className:"text-sm max-w-[600px] text-center",children:"Heres where you can share more about yourself: your history, work experience, accomplishments, interests, dreams, and more. You can even add images and use rich text to personalize your bio."}),_.jsx(jn,{variant:"outline",className:"rounded-full",onClick:()=>e(!0),children:"Get started"})]}):_.jsxs("div",{className:"flex flex-col gap-4 justify-center items-center py-6 text-gray-600 text-sm",children:[_.jsx("img",{src:"/Story-Website/person-sitting.png",width:150}),_.jsx("p",{children:"Mysterious user detected! Maybe they'll reveal more soon. "})]})})},_be=()=>{const[t,e]=x.useState(NS);return x.useEffect(()=>{e(NS)},[]),_.jsx(Z6,{children:_.jsxs(To.div,{initial:{x:-100},animate:{x:0},className:" w-full py-14  px-5  ",children:[_.jsxs("div",{className:" flex flex-col gap-6",children:[_.jsx("h1",{className:" text-4xl text-black-2 font-semibold",children:"Browse"}),_.jsx("p",{className:" text-white-2 text-lg font-semibold",children:"Explore by genre, mood, or trending reads."})]}),_.jsx("div",{className:" grid grid-cols-3 gap-8 mt-24 max-md:grid-cols-2 max-sm:grid-cols-1",children:t.length>0&&t.map((n,r)=>{const{genre:i,color:s,hoverColor:o}=n,a=w6(s);return _.jsx(To.div,{whileHover:{backgroundColor:o},className:" cursor-pointer rounded-3xl  p-6 h-52 ",style:{backgroundColor:s},children:_.jsx(ra,{to:`/category/${i.toLowerCase()}`,className:"w-full h-full flex flex-col justify-end",children:_.jsx("p",{style:{color:a},className:" text-2xl font-semibold  text-end ",children:i})})},r)})})]})})},wbe=()=>{const{currentUser:t}=Js(),{categoryId:e}=Hc(),[n,r]=x.useState([]),[i,s]=x.useState(""),[o,a]=x.useState([]),[l,c]=x.useState([]);x.useEffect(()=>{async function d(){try{console.log(e);const f=(await We.collection("WrittenStories").where("category","==",e).get()).docs,g=[];f.forEach(m=>{const v=m.data(),y={id:m.id,...v};g.push(y)}),r(g),a(g)}catch(h){console.log(h)}}d()},[t,e]),x.useEffect(()=>{c(NS)},[e]);function u(){if(!i){a(n);return}console.log(n);const f=n.map(g=>{let m=0;const v=g.tag.filter(y=>y.includes(i));return m+=v.length,g.title.toLowerCase().includes(i.toLowerCase())&&(m+=.5),{...g,score:m}}).filter(g=>g.score!=0).sort((g,m)=>m.score-g.score);a(f)}return _.jsxs("div",{className:"max-w-[1200px] m-auto",children:[_.jsxs("div",{className:" py-10 flex flex-col gap-12 justify-center items-center",children:[_.jsxs("div",{className:"flex flex-row gap-1 mt-20 items-center w-full px-5",children:[_.jsx(ag,{onChange:d=>s(d.target.value),value:i,type:"search",className:" rounded-lg py-6 border-2 flex-1",placeholder:"search here"}),_.jsx(jn,{variant:"outline",className:" border-2  rounded-xl",onClick:u,children:_.jsx("img",{src:"/Story-Website/search.svg",width:20})})]}),_.jsx("div",{className:"flex flex-row gap-6 flex-wrap px-5",children:l.length>0&&l.map((d,h)=>{const{genre:f,color:g,hoverColor:m}=d,v=w6(g);return _.jsx(To.div,{whileHover:{backgroundColor:m},className:" cursor-pointer rounded-lg p-2 ",children:_.jsx(ra,{to:`/category/${f.toLowerCase()}`,className:"w-full h-full",children:_.jsx("p",{style:{color:v},className:"font-semibold  text-center ",children:f})})},h)})})]}),_.jsx("main",{className:" border-t border-black-2 p-5 flex flex-row gap-2 flex-wrap max-md:justify-center",children:o.length>0?o.map(d=>{const{title:h}=d,f=h.length>30?h.slice(0,30)+"...":h;return _.jsx(my,{items:d,truncatedStr:f,searchItem:!1},d.id)}):_.jsxs("div",{className:"flex flex-col w-full gap-4 justify-center items-center py-6 text-gray-600 text-sm",children:[_.jsx("img",{src:"/Story-Website/person-sitting.png",width:200}),_.jsx("p",{children:"it seems there is no result for you search ,"})]})})]})};function xbe(){return _.jsx(M9,{children:_.jsx(yre,{children:_.jsxs($K,{children:[_.jsx(Zi,{path:"/browse",element:_.jsx(Rl,{children:_.jsx(_be,{})})}),_.jsx(Zi,{path:"/category/:categoryId",element:_.jsx(Rl,{children:_.jsx(wbe,{})})}),_.jsx(Zi,{path:"/",element:_.jsx(Rl,{children:_.jsx(Zce,{})})}),_.jsx(Zi,{path:"/story/:storyId",element:_.jsx(Rl,{children:_.jsx(ude,{})})}),_.jsx(Zi,{path:"/people",element:_.jsx(Rl,{children:_.jsx(dde,{})})}),_.jsxs(Zi,{path:"/Profile/:profileId",element:_.jsx(Rl,{children:_.jsx(wde,{})}),children:[_.jsx(Zi,{path:"about",element:_.jsx(gbe,{})}),_.jsx(Zi,{path:"home",element:_.jsx(vbe,{})})]}),_.jsx(Zi,{path:"/new",element:_.jsx(Rl,{children:_.jsx(Bpe,{})})}),_.jsx(Zi,{path:"/read/:readId",element:_.jsx(Rl,{children:_.jsx(ZEe,{})})}),_.jsx(Zi,{path:"/signin",element:_.jsx(Dpe,{})}),_.jsx(Zi,{path:"/session/:sessionId",element:_.jsx(A1e,{})})]})})})}L4(document.getElementById("root")).render(_.jsx(QK,{children:_.jsx(xbe,{})}))});export default Ebe();
